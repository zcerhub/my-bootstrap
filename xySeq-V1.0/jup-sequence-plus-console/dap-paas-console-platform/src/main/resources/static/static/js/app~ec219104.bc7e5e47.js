(window["jsonpPaas4"]=window["jsonpPaas4"]||[]).push([["app~ec219104"],{"00ba":function(e,t,i){var o=i("3eba"),n=i("6d8b"),a=i("e46b"),r=i("e0d3"),l=r.defaultEmphasis,s=i("0f99"),g=s.makeSeriesEncodeForNameBased,h=i("c4a3"),c=o.extendSeriesModel({type:"series.funnel",init:function(e){c.superApply(this,"init",arguments),this.legendVisualProvider=new h(n.bind(this.getData,this),n.bind(this.getRawData,this)),this._defaultLabelLine(e)},getInitialData:function(e,t){return a(this,{coordDimensions:["value"],encodeDefaulter:n.curry(g,this)})},_defaultLabelLine:function(e){l(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},getDataParams:function(e){var t=this.getData(),i=c.superCall(this,"getDataParams",e),o=t.mapDimension("value"),n=t.getSum(o);return i.percent=n?+(t.get(o,e)/n*100).toFixed(2):0,i.$vars.push("percent"),i},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}}}}),u=c;e.exports=u},1111:function(e,t,i){var o=i("3eba");i("67a8"),i("4784");var n=i("7f96"),a=i("87c3");o.registerVisual(n("effectScatter","circle")),o.registerLayout(a("effectScatter"))},"24b9":function(e,t,i){var o=i("4e08"),n=(o.__DEV__,i("f934")),a=i("3842"),r=a.parsePercent,l=a.linearMap;function s(e,t){return n.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function g(e,t){for(var i=e.mapDimension("value"),o=e.mapArray(i,(function(e){return e})),n=[],a="ascending"===t,r=0,l=e.count();r<l;r++)n[r]=r;return"function"===typeof t?n.sort(t):"none"!==t&&n.sort((function(e,t){return a?o[e]-o[t]:o[t]-o[e]})),n}function h(e){e.each((function(t){var i,o,n,a,r=e.getItemModel(t),l=r.getModel("label"),s=l.get("position"),g=r.get("orient"),h=r.getModel("labelLine"),c=e.getItemLayout(t),u=c.points,d="inner"===s||"inside"===s||"center"===s||"insideLeft"===s||"insideRight"===s;if(d)"insideLeft"===s?(o=(u[0][0]+u[3][0])/2+5,n=(u[0][1]+u[3][1])/2,i="left"):"insideRight"===s?(o=(u[1][0]+u[2][0])/2-5,n=(u[1][1]+u[2][1])/2,i="right"):(o=(u[0][0]+u[1][0]+u[2][0]+u[3][0])/4,n=(u[0][1]+u[1][1]+u[2][1]+u[3][1])/4,i="center"),a=[[o,n],[o,n]];else{var p,f,m,y,v=h.get("length");"left"===s?(p=(u[3][0]+u[0][0])/2,f=(u[3][1]+u[0][1])/2,m=p-v,o=m-5,i="right"):"right"===s?(p=(u[1][0]+u[2][0])/2,f=(u[1][1]+u[2][1])/2,m=p+v,o=m+5,i="left"):"top"===s?(p=(u[3][0]+u[0][0])/2,f=(u[3][1]+u[0][1])/2,y=f-v,n=y-5,i="center"):"bottom"===s?(p=(u[1][0]+u[2][0])/2,f=(u[1][1]+u[2][1])/2,y=f+v,n=y+5,i="center"):"rightTop"===s?(p="horizontal"===g?u[3][0]:u[1][0],f="horizontal"===g?u[3][1]:u[1][1],"horizontal"===g?(y=f-v,n=y-5,i="center"):(m=p+v,o=m+5,i="top")):"rightBottom"===s?(p=u[2][0],f=u[2][1],"horizontal"===g?(y=f+v,n=y+5,i="center"):(m=p+v,o=m+5,i="bottom")):"leftTop"===s?(p=u[0][0],f="horizontal"===g?u[0][1]:u[1][1],"horizontal"===g?(y=f-v,n=y-5,i="center"):(m=p-v,o=m-5,i="right")):"leftBottom"===s?(p="horizontal"===g?u[1][0]:u[3][0],f="horizontal"===g?u[1][1]:u[2][1],"horizontal"===g?(y=f+v,n=y+5,i="center"):(m=p-v,o=m-5,i="right")):(p=(u[1][0]+u[2][0])/2,f=(u[1][1]+u[2][1])/2,"horizontal"===g?(y=f+v,n=y+5,i="center"):(m=p+v,o=m+5,i="left")),"horizontal"===g?(m=p,o=m):(y=f,n=y),a=[[p,f],[m,y]]}c.label={linePoints:a,x:o,y:n,verticalAlign:"middle",textAlign:i,inside:d}}))}function c(e,t,i){e.eachSeriesByType("funnel",(function(e){var i=e.getData(),o=i.mapDimension("value"),n=e.get("sort"),a=s(e,t),c=g(i,n),u=e.get("orient"),d=a.width,p=a.height,f=a.x,m=a.y,y="horizontal"===u?[r(e.get("minSize"),p),r(e.get("maxSize"),p)]:[r(e.get("minSize"),d),r(e.get("maxSize"),d)],v=i.getDataExtent(o),b=e.get("min"),S=e.get("max");null==b&&(b=Math.min(v[0],0)),null==S&&(S=v[1]);var w=e.get("funnelAlign"),I=e.get("gap"),z="horizontal"===u?d:p,D=(z-I*(i.count()-1))/i.count(),L=function(e,t){if("horizontal"===u){var n,a=i.get(o,e)||0,r=l(a,[b,S],y,!0);switch(w){case"top":n=m;break;case"center":n=m+(p-r)/2;break;case"bottom":n=m+(p-r);break}return[[t,n],[t,n+r]]}a=i.get(o,e)||0;var s,g=l(a,[b,S],y,!0);switch(w){case"left":s=f;break;case"center":s=f+(d-g)/2;break;case"right":s=f+d-g;break}return[[s,t],[s+g,t]]};"ascending"===n&&(D=-D,I=-I,"horizontal"===u?f+=d:m+=p,c=c.reverse());for(var x=0;x<c.length;x++){var M=c[x],P=c[x+1],_=i.getItemModel(M);if("horizontal"===u){var A=_.get("itemStyle.width");null==A?A=D:(A=r(A,d),"ascending"===n&&(A=-A));var T=L(M,f),E=L(P,f+A);f+=A+I,i.setItemLayout(M,{points:T.concat(E.slice().reverse())})}else{var k=_.get("itemStyle.height");null==k?k=D:(k=r(k,p),"ascending"===n&&(k=-k));T=L(M,"horizontal"===u?f:m),E=L(P,"horizontal"===u?f+A:m+k);m+=k+I,i.setItemLayout(M,{points:T.concat(E.slice().reverse())})}}h(i)}))}e.exports=c},4784:function(e,t,i){var o=i("3eba"),n=i("f706"),a=i("c8ef"),r=i("1687"),l=i("87c3"),s=o.extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new n(a)},render:function(e,t,i){var o=e.getData(),n=this._symbolDraw;n.updateData(o),this.group.add(n.group)},updateTransform:function(e,t,i){var o=e.getData();this.group.dirty();var n=l().reset(e);n.progress&&n.progress({start:0,end:o.count()},o),this._symbolDraw.updateLayout(o)},_updateGroupTransform:function(e){var t=e.coordinateSystem;t&&t.getRoamTransform&&(this.group.transform=r.clone(t.getRoamTransform()),this.group.decomposeTransform())},remove:function(e,t){this._symbolDraw&&this._symbolDraw.remove(t)},dispose:function(){}});e.exports=s},"4d62":function(e,t,i){var o=i("2306"),n=i("6d8b"),a=i("e887");function r(e,t){o.Group.call(this);var i=new o.Polygon,n=new o.Polyline,a=new o.Text;this.add(i),this.add(n),this.add(a),this.highDownOnUpdate=function(e,t){"emphasis"===t?(n.ignore=n.hoverIgnore,a.ignore=a.hoverIgnore):(n.ignore=n.normalIgnore,a.ignore=a.normalIgnore)},this.updateData(e,t,!0)}var l=r.prototype,s=["itemStyle","opacity"];l.updateData=function(e,t,i){var a=this.childAt(0),r=e.hostModel,l=e.getItemModel(t),g=e.getItemLayout(t),h=e.getItemModel(t).get(s);h=null==h?1:h,a.useStyle({}),i?(a.setShape({points:g.points}),a.setStyle({opacity:0}),o.initProps(a,{style:{opacity:h}},r,t)):o.updateProps(a,{style:{opacity:h},shape:{points:g.points}},r,t);var c=l.getModel("itemStyle"),u=e.getItemVisual(t,"color");a.setStyle(n.defaults({lineJoin:"round",fill:u},c.getItemStyle(["opacity"]))),a.hoverStyle=c.getModel("emphasis").getItemStyle(),this._updateLabel(e,t),o.setHoverStyle(this)},l._updateLabel=function(e,t){var i=this.childAt(1),n=this.childAt(2),a=e.hostModel,r=e.getItemModel(t),l=e.getItemLayout(t),s=l.label,g=e.getItemVisual(t,"color");o.updateProps(i,{shape:{points:s.linePoints||s.linePoints}},a,t),o.updateProps(n,{style:{x:s.x,y:s.y}},a,t),n.attr({rotation:s.rotation,origin:[s.x,s.y],z2:10});var h=r.getModel("label"),c=r.getModel("emphasis.label"),u=r.getModel("labelLine"),d=r.getModel("emphasis.labelLine");g=e.getItemVisual(t,"color");o.setLabelStyle(n.style,n.hoverStyle={},h,c,{labelFetcher:e.hostModel,labelDataIndex:t,defaultText:e.getName(t),autoColor:g,useInsideStyle:!!s.inside},{textAlign:s.textAlign,textVerticalAlign:s.verticalAlign}),n.ignore=n.normalIgnore=!h.get("show"),n.hoverIgnore=!c.get("show"),i.ignore=i.normalIgnore=!u.get("show"),i.hoverIgnore=!d.get("show"),i.setStyle({stroke:g}),i.setStyle(u.getModel("lineStyle").getLineStyle()),i.hoverStyle=d.getModel("lineStyle").getLineStyle()},n.inherits(r,o.Group);var g=a.extend({type:"funnel",render:function(e,t,i){var o=e.getData(),n=this._data,a=this.group;o.diff(n).add((function(e){var t=new r(o,e);o.setItemGraphicEl(e,t),a.add(t)})).update((function(e,t){var i=n.getItemGraphicEl(t);i.updateData(o,e),a.add(i),o.setItemGraphicEl(e,i)})).remove((function(e){var t=n.getItemGraphicEl(e);a.remove(t)})).execute(),this._data=o},remove:function(){this.group.removeAll(),this._data=null},dispose:function(){}}),h=g;e.exports=h},"67a8":function(e,t,i){var o=i("3301"),n=i("4f85"),a=n.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(e,t){return o(this.getSource(),this,{useEncodeDefaulter:!0})},brushSelector:"point",defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},symbolSize:10}});e.exports=a},a4b1:function(e,t,i){var o=i("3eba");i("00ba"),i("4d62");var n=i("98e7"),a=i("24b9"),r=i("d3f4");o.registerVisual(n("funnel")),o.registerLayout(a),o.registerProcessor(r("funnel"))}}]);