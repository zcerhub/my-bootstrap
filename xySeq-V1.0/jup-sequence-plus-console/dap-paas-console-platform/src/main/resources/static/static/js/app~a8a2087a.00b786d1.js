(window["jsonpPaas4"]=window["jsonpPaas4"]||[]).push([["app~a8a2087a"],{"1c5b":function(e,t,a){},"38e7":function(e,t,a){},5360:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"g-page"},[t("search-form",{attrs:{searchConfig:e.searchConfig},on:{onSearch:e.onSearch,"enter-search":e.onEnterSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.totalCount,rowKey:"id",operateSlice:3,currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.visible?t("DialogAdd",{attrs:{getRoleType:e.getRoleType,rowData:e.rowData,refresh:e.getList},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}}):e._e(),e.authVisible?t("DialogAccessAuth",{attrs:{rowData:e.rowData},model:{value:e.authVisible,callback:function(t){e.authVisible=t},expression:"authVisible"}}):e._e()],1)},i=[],r=a("c7eb"),o=a("1da1"),c=a("5530"),l=(a("7db0"),a("14d9"),a("b0c0"),a("d3b7"),a("159b"),a("a4d3"),a("e01a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.visible,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",attrs:{model:e.groupForm,"label-position":"right",rules:e.groupFormRule,"label-width":"120px"}},[t("el-form-item",{attrs:{prop:"teamName",label:"父角色"}},[t("treeselect",{attrs:{multiple:!1,options:e.treeOptions,normalizer:e.normalizer,placeholder:"请选择父角色"},model:{value:e.groupForm.parentId,callback:function(t){e.$set(e.groupForm,"parentId",t)},expression:"groupForm.parentId"}})],1),t("el-form-item",{attrs:{prop:"name",label:"角色名称"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.groupForm.name,callback:function(t){e.$set(e.groupForm,"name",t)},expression:"groupForm.name"}})],1),t("el-form-item",{attrs:{prop:"code",label:"角色编码"}},[t("el-input",{attrs:{placeholder:"请输入"},model:{value:e.groupForm.code,callback:function(t){e.$set(e.groupForm,"code",t)},expression:"groupForm.code"}})],1),t("el-form-item",{attrs:{prop:"type",label:"角色类型"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:""},model:{value:e.groupForm.type,callback:function(t){e.$set(e.groupForm,"type",t)},expression:"groupForm.type"}},e._l(e.getRoleType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{prop:"teamName",label:"描述"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入"},model:{value:e.groupForm.description,callback:function(t){e.$set(e.groupForm,"description",t)},expression:"groupForm.description"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),s=[],d=a("ade3"),p=(a("b64b"),a("e8b2")),u=a("ca17"),f=a.n(u),b=(a("542c"),a("ff51")),h=a("ddea"),m={name:"DialogAdd",components:{Treeselect:f.a},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:function(){return{}}},refresh:{type:Function,required:!0,default:function(){}},getRoleType:{type:Array,default:function(){return[]}}},data:function(){return{groupForm:g(),groupFormRule:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}]},treeOptions:[],normalizer:function(e){return e.id=e.id,e.label=e.name,Object(b["a"])(e.children)&&e.children.length>0||delete e.children,e}}},computed:{visible:{get:function(){return this.show},set:function(e){this.$emit("change",!1)}},isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){this.getParentRoles()},mounted:function(){var e;null!==(e=this.rowData)&&void 0!==e&&e.id&&(this.groupForm=g(this.rowData))},methods:Object(d["a"])({getParentRoles:function(){var e=this;Object(h["e"])().then((function(t){e.treeOptions=t.data}))},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},clickConfirm:function(){var e=this;this.$refs.formRef.validate((function(t){if(t){var a=Object(c["a"])({},e.groupForm);e.isEdit?Object(h["d"])(a).then((function(t){t&&200===t.code&&(e.$message.success("编辑成功"),e.$emit("change",!1),e.refresh())})):(delete a.id,Object(h["f"])(a).then((function(t){t&&200===t.code&&(e.$message.success("新增成功"),e.refresh(),e.$emit("change",!1))})))}}))}},"clickConfirm",(function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var a,n,i;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.formRef.validate();case 3:if(a=t.sent,a){t.next=6;break}return t.abrupt("return");case 6:if(n=Object(c["a"])({},e.groupForm),i=null,!e.isEdit){t.next=14;break}return t.next=11,Object(h["d"])(n);case 11:return i=t.sent,i&&200===i.code&&(e.$message.success("编辑成功"),e.$emit("change",!1),e.refresh()),t.abrupt("return");case 14:return delete n.id,t.next=17,Object(h["f"])(n);case 17:i=t.sent,i&&200===i.code&&(e.$message.success("新增成功"),e.$emit("change",!1),e.refresh()),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0);case 24:case"end":return t.stop()}}),t,null,[[0,21]])})))()}))};function g(e){var t={id:"",parentId:null,name:"",type:"",description:"",code:"",roleSort:1};return Object(p["a"])(e)&&Object.keys(t).forEach((function(a){e.hasOwnProperty(a)&&(t[a]=e[a])})),t}var v=m,C=a("2877"),y=Object(C["a"])(v,l,s,!1,null,"3dc25bc8",null),k=y.exports,D=a("2f62"),O=a("ec41"),w=a("5c8a"),j=function(){var e=this,t=e._self._c;return t("el-drawer",{attrs:{visible:e.show,size:"calc(100% - 200px)","append-to-body":!0,"destroy-on-close":!0,wrapperClosable:!1},on:{"update:visible":function(t){e.show=t},close:e.clickCancel}},[t("el-page-header",{attrs:{slot:"title",content:"系统授权"},on:{back:e.clickCancel},slot:"title"}),t("el-scrollbar",{staticStyle:{height:"calc(100vh - 100px)"}},[t("main",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingAuth,expression:"loadingAuth"}],staticClass:"pl-20 pr-20",staticStyle:{"min-height":"500px"},attrs:{"element-loading-text":"正在查询数据, 请稍等..."}},[t("el-form",{ref:"appForm",attrs:{model:e.appForm,"label-position":"right","label-width":"75px"}},[t("el-form-item",{attrs:{label:"所属应用"}},[t("el-radio-group",{on:{change:e.changeApp},model:{value:e.appId,callback:function(t){e.appId=t},expression:"appId"}},e._l(e.appListOptions,(function(a,n){return t("el-radio-button",{key:n,attrs:{label:a.id}},[e._v(e._s(a.name))])})),1)],1)],1),t("el-tabs",{staticClass:"mt-10",model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[t("el-tab-pane",{staticClass:"tab-panes",attrs:{label:"功能权限",name:"funcTree"}},[t("hubary-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.funcTreeLoading,expression:"funcTreeLoading"}],ref:"funcTreeRef",staticClass:"custom-tree",attrs:{data:e.funcTreeData,props:e.funcTreeDefaultProps,"render-content":e.renderContentFunc,"node-key":"id","check-strictly":!1,"default-checked-keys":e.funcTreeDefaultCheckedKeys,"default-expand-all":"","show-checkbox":""},on:{"node-click":e.handleNodeClick,"check-change":e.funcCheckChange,check:e.funcCheck}})],1),t("el-tab-pane",{staticClass:"tab-panes",attrs:{label:"数据权限",name:"dataTree"}},[t("hubary-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.dataTreeLoading,expression:"dataTreeLoading"}],ref:"dataTreeRef",staticClass:"custom-tree",attrs:{"node-key":"id",data:e.dataTreeData,props:e.dataTreeDefaultProps,"default-checked-keys":e.dataTreeDefaultCheckedKeys,"render-content":e.renderContentData,"default-expand-all":"","show-checkbox":""},on:{"node-click":e.handleNodeClick,"check-change":e.dataCheckChange,check:e.dataCheck}})],1)],1)],1)]),t("footer",{staticClass:"drawer-footer"},[t("el-button",{attrs:{type:"primary",loading:e.loadingAuth},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)},x=[],$=(a("99af"),a("caad"),a("4e82"),a("07ac"),a("2532"),a("1147")),T=a("3ad2"),I=a("05e2"),N=a("c88b"),S=a("f382"),L=a("a6e9"),A=L["a"].options,_={};A.forEach((function(e){_[e.value]=e.label}));var z={components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null}},data:function(){return{appForm:{},appId:"",appListOptions:[],loadingAuth:!1,menuTreeListClone:[],menuTreeListObj:{},activeName:"funcTree",funcTreeDefaultCheckedKeys:[],funcTreeLoading:!1,funcTreeDefaultProps:{children:"children",label:"name"},funcTreeData:[],funcSave:{},dataTreeDefaultCheckedKeys:[],dataTreeLoading:!1,dataTreeDefaultProps:{children:"children",label:"label"},dataTreeData:[],dataSave:{},funcClickNode:"",dataClickNode:"",funcTreeRefInit:!0,dataTreeRefInit:!0}},computed:{currentAppMenuData:function(){var e={};return this.appId&&(e=this.menuTreeListObj[this.appId]),e},funcRemoteCheckedKeys:function(){var e,t,a=null===(e=this.currentAppMenuData)||void 0===e?void 0:e.checkOprate,n=null===(t=this.currentAppMenuData)||void 0===t?void 0:t.checkMenu,i=[];return Object(b["a"])(a)&&(i=i.concat(a)),Object(b["a"])(n)&&(i=i.concat(n)),i},dataRemoteCheckedKeys:function(){var e,t,a=null===(e=this.currentAppMenuData)||void 0===e?void 0:e.checkData,n=null===(t=this.currentAppMenuData)||void 0===t?void 0:t.checkDataMenu,i=[];return Object(b["a"])(a)&&(i=i.concat(a)),Object(b["a"])(n)&&(i=i.concat(n)),i}},watch:{},created:function(){},mounted:function(){this.getAllApp()},methods:{changeApp:function(){this.activeName="funcTree",this.funcClickNode="",this.dataClickNode="",this.funcTreeData=this.getFuncTreeData(),this.dataTreeData=this.getDataTreeData()},funcCheck:function(e){this.funcClickNode=e.id},getFuncTreeData:function(){var e=this.currentAppMenuData||{},t=e.menuList,a=void 0===t?[]:t,n=e.operateList,i=void 0===n?[]:n,r=e.checkMenu,o=void 0===r?[]:r,c=e.checkOprate,l=void 0===c?[]:c,s=e.funcLocalChecked,d=void 0===s?{}:s,p=[],u=[],f=[],h=[];Object(b["a"])(o)&&(f=f.concat(o),h=h.concat(o)),Object(b["a"])(l)&&(f=f.concat(l),h=h.concat(l)),Object($["a"])(d)&&Object.keys(d).forEach((function(e){"push"===d[e]?f.push(e):"delete"===d[e]&&(f=Object(T["a"])(f,e))})),f=Object(I["a"])(f),Object(b["a"])(a)&&(u=Object(w["a"])(a),u.forEach((function(e){["",void 0,null,"m_","m_null"].includes(e.parentId)&&(e.parentId=""),e.remoteChecked=e.id&&h.includes(e.id)})),Object(b["a"])(i)&&i.forEach((function(e){u.push({name:e.name,id:e.id,parentId:e.menuId,menuId:e.menuId,appId:e.appId,isOperate:!0,remoteChecked:e.id&&h.includes(e.id),isAction:!0})})));try{p=Object(S["a"])(u,"","id","parentId")}catch(m){return[]}return this.commonSetCheckedKeys(p,f,"funcTreeRef"),Object(b["a"])(p)?p:[]},findchildren:function(e,t){var a=this.$refs[t].getNode(e);a.isLeaf||(a.indeterminate=!0,a.checked=!0,""!==a.data.parentId&&this.findchildren(a.parent,t))},funcCheckChange:function(e,t,a,n){var i=this;if(!this.funcTreeRefInit){e.isAction&&this.$nextTick((function(){var t=i.$refs.funcTreeRef.getNode(e),a=!t.checked&&""!==t.data.parentId&&i.funcClickNode===e.id;a&&i.findchildren(t.parent,"funcTreeRef")}));var r=Object(w["a"])(e);r.remoteChecked?t||a?delete this.funcSave[r.id]:(r.flag="delete",this.funcSave[r.id]=r):t||a?(r.flag="save",this.funcSave[r.id]=r):delete this.funcSave[r.id];var o=this.menuTreeListObj[this.appId].funcLocalChecked;Object($["a"])(o)&&this.$set(o,r.id,t?"push":"delete")}},commonSetCheckedKeys:function(e,t,a){var n=this,i=Object(S["b"])(e),r=[],o=[];i.forEach((function(e){Object(b["a"])(e.children)&&e.children.length>0?e.children[0].isAction&&(e.children.some((function(e){return!0===e.remoteChecked}))||t.includes(e.id)&&o.push(e.id)):t.includes(e.id)&&r.push(e.id)})),this.$nextTick((function(){var e;if(null===(e=n.$refs[a])||void 0===e||e.setCheckedKeys(r,!0),o.length>0)for(var t=function(){var e=c[i];n.$nextTick((function(){var t;null===(t=n.$refs[a])||void 0===t||t.setChecked(e,!0,!1)}))},i=0,c=o;i<c.length;i++)t();setTimeout((function(){n["".concat(a,"Init")]=!1}),0),n.changeTreeHorizontalLine()}))},dataCheck:function(e){this.dataClickNode=e.id},getDataTreeData:function(){var e=this,t=this.currentAppMenuData||{},a=t.menuList,n=void 0===a?[]:a,i=t.dataList,r=void 0===i?[]:i,o=t.checkDataMenu,l=void 0===o?[]:o,s=t.checkData,d=void 0===s?[]:s,p=t.dataLocalChecked,u=void 0===p?{}:p,f=[],h=[],m=[],g=[];Object(b["a"])(l)&&(m=m.concat(l),g=g.concat(l)),Object(b["a"])(d)&&(m=m.concat(d),g=g.concat(d)),Object($["a"])(u)&&Object.keys(u).forEach((function(e){"push"===u[e]?m.push(e):"delete"===u[e]&&(m=Object(T["a"])(m,e))})),m=Object(I["a"])(m),Object(b["a"])(n)&&(h=Object(w["a"])(n),h.forEach((function(e){["",void 0,null,"m_","m_null"].includes(e.parentId)&&(e.parentId=""),e.label=e.name,e.remoteChecked=e.id&&g.includes(e.id)}))),Object(b["a"])(r)&&Object(b["a"])(n)&&r.forEach((function(t){"0"===t.dataType?t.label=_[t.name]:t.label=t.name,h.push(Object(c["a"])(Object(c["a"])({},t),{},{appId:e.appId,parentId:t.menuId,label:t.label,remoteChecked:t.id&&g.includes(t.id),isAction:!0}))}));try{f=Object(S["a"])(h,"","id","parentId")}catch(v){return[]}return this.commonSetCheckedKeys(f,m,"dataTreeRef"),f},dataCheckChange:function(e,t,a){var n=this;if(!this.dataTreeRefInit){e.isAction&&this.$nextTick((function(){var t=n.$refs.dataTreeRef.getNode(e),a=!t.checked&&""!==t.data.parentId&&n.dataClickNode===e.id;a&&n.findchildren(t.parent,"dataTreeRef")}));var i=Object(w["a"])(e);i.remoteChecked?t||a?delete this.dataSave[i.id]:(i.flag="delete",this.dataSave[i.id]=i):t||a?(i.flag="save",this.dataSave[i.id]=i):delete this.dataSave[i.id];var r=this.menuTreeListObj[this.appId].dataLocalChecked;Object($["a"])(r)&&this.$set(r,i.id,t?"push":"delete")}},getAllApp:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var a,n,i,o,c,l,s,d;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loadingAuth=!0,a={roleId:e.rowData.roleId},t.next=4,Object(h["a"])(a);case 4:n=t.sent,n&&(c=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.appList,l=null===n||void 0===n||null===(o=n.data)||void 0===o?void 0:o.menuTreeList,Object(b["a"])(c)&&(c.sort((function(e,t){return e.sort-t.sort})),e.appListOptions=c,e.appId=null===(s=c[0])||void 0===s?void 0:s.id),Object(b["a"])(l)&&(e.menuTreeListClone=Object(w["a"])(l),d={},l.forEach((function(e){e.appId&&(e.funcLocalChecked={},e.dataLocalChecked={},d[e.appId]=e)})),e.menuTreeListObj=d),e.$nextTick((function(){e.changeApp()}))),e.loadingAuth=!1;case 7:case"end":return t.stop()}}),t)})))()},handleNodeClick:function(e){},clickConfirm:function(){var e=this,t=Object.values(this.funcSave),a=Object.values(this.dataSave);t.forEach((function(e){e.children&&delete e.children})),a.forEach((function(e){e.children&&delete e.children}));var n={roleId:this.rowData.roleId,funcSave:t,dataSave:a};this.loadingAuth=!0,Object(h["b"])(n).then((function(t){200===t.code&&(e.$message({type:"success",message:"授权成功"}),e.clickCancel())})).catch((function(e){})).finally((function(){e.loadingAuth=!1}))},clickCancel:function(){this.$emit("change",!1)},renderContentFunc:function(e,t){var a,n,i=t.node,r=t.data,o="",c=Object(N["a"])(null===i||void 0===i||null===(a=i.parent)||void 0===a?void 0:a.level)?18*(null===i||void 0===i||null===(n=i.parent)||void 0===n?void 0:n.level):100;return r.isAction?(o="tree-horizontal-line",e("div",{class:o,style:"color:rgba(0 0 0 0.5);",attrs:{"data-indent":c}},[r.name])):e("div",{class:o},[r.name])},renderContentData:function(e,t){var a,n,i=t.node,r=t.data,o="",c=Object(N["a"])(null===i||void 0===i||null===(a=i.parent)||void 0===a?void 0:a.level)?18*(null===i||void 0===i||null===(n=i.parent)||void 0===n?void 0:n.level):100;return r.isAction?(o="tree-horizontal-line",e("div",{class:o,style:"color:rgba(0 0 0 0.5);",attrs:{"data-indent":c}},[r.label])):e("div",{class:o},[r.label])},changeTreeHorizontalLine:function(){var e=document.getElementsByClassName("tree-horizontal-line");try{for(var t=0;t<e.length;t++){var a;e[t].parentNode.style.cssText="float:left",e[t].parentNode.className="el-tree-node__content option-wrapper",e[t].parentNode.parentNode.parentNode.style.marginLeft=(null===(a=e[t].dataset)||void 0===a?void 0:a.indent)+"px"}}catch(n){}e=null}}},F=z,E=(a("9554"),Object(C["a"])(F,j,x,!1,null,"3786b0e1",null)),R=E.exports,P=Object(D["a"])("common"),V=P.mapGetters,M={name:"vscode-page-default",components:{DialogAdd:k,DialogAccessAuth:R},mixins:[],props:{},data:function(){var e=this;return{buttonList:[{label:"新增",type:"add",click:this.openAdd}],searchConfig:{searchData:{name:""},searchItem:[{type:"input",label:"角色名称",prop:"name"}],rules:{}},visible:!1,tableConfig:{isPage:!1,loading:!1,pagination:{pageNo:1,pageSize:10,totalCount:0},tableData:[],columns:[{label:"角色名称",prop:"name"},{label:"角色编码",prop:"code"},{label:"角色类型",prop:"type",format:function(t){var a=e.getLabelByValue(e.getRoleType,t);return a||"其他"}},{label:"描述",prop:"description"}],operate:{width:300,list:[{label:"系统授权",id:"access"},{label:"编辑",id:"edit"},{label:"删除",id:"delete"}]}},rowData:null,authVisible:!1,tableDataCopy:[]}},computed:Object(c["a"])(Object(c["a"])({},V(["getDictOptionsByKey"])),{},{getRoleType:function(){return this.getDictOptionsByKey("role_type")}}),watch:{},created:function(){this.getList()},mounted:function(){},methods:{getLabelByValue:function(e,t){if(Object(b["a"])(e)){var a=e.find((function(e){return e.value==t}));if(a&&a.label)return a.label}return""},getList:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var a,n,i,o,l;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],n=0,e.tableConfig.loading=!0,t.prev=3,i=Object(c["a"])(Object(c["a"])({},e.tableConfig.pagination),{},{requestObject:e.searchConfig.searchData}),t.next=7,Object(h["e"])(i);case 7:o=t.sent,l=Object(O["a"])(o,"data"),a=Object(b["a"])(l)?l:[],n=Object(O["a"])(o,"data.totalCount")||0,t.next=15;break;case 13:t.prev=13,t.t0=t["catch"](3);case 15:e.tableConfig.pagination.totalCount=n,e.tableConfig.tableData=a,e.tableConfig.loading=!1,e.tableDataCopy=Object(w["a"])(a);case 19:case"end":return t.stop()}}),t,null,[[3,13]])})))()},getIndex:function(e){var t=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var n,i,o,c;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.index,n=e.row,i=e.operate,"delete"!==i.id){a.next=13;break}return a.next=5,t.$confirm("确定要删除【".concat(n.name,"】吗?"),{type:"warning"});case 5:if(o=a.sent,"confirm"!==o){a.next=11;break}return a.next=9,Object(h["c"])({idList:[n.id]});case 9:c=a.sent,200===c.code&&(t.$message.success("删除成功"),t.getList());case 11:a.next=14;break;case 13:"edit"===i.id?(t.rowData=n,t.visible=!0):"access"===i.id&&(t.rowData=n,t.authVisible=!0);case 14:case"end":return a.stop()}}),a)})))()},onEnterSearch:function(){this.onSearch()},onSearch:function(e){var t=this.searchConfig.searchData.name;if(t){var a=q(t,this.tableDataCopy);this.tableConfig.tableData=a}else this.tableConfig.pagination.pageNo=1,this.getList()},openAdd:function(){this.rowData=null,this.visible=!0},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()}}};function q(e,t){var a=[];return t.forEach((function(t){if(t.name.indexOf(e)>-1)a.push(t);else if(t.children&&t.children.length>0){var n=q(e,t.children),i=Object(c["a"])(Object(c["a"])({},t),{},{children:n});n&&n.length>0&&a.push(i)}})),a}var K=M,B=Object(C["a"])(K,n,i,!1,null,"0e859ee8",null);t["default"]=B.exports},6936:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("rendertable",{ref:"dictInfoRef",attrs:{"max-height":300,showpagination:!1,"table-data":e.dictableData,"table-header":e.tableHeader,actionlinedata:e.actionlinedata}})],1)},i=[],r=(a("d81d"),a("14d9"),a("a434"),a("dd50")),o={components:{rendertable:r["default"]},props:{rowId:{type:String},dictableData:{type:Array,default:function(){return[]}}},data:function(){var e=this;return{formData:{dicName:"",dicValue:"",dicDesc:"",orderNum:""},form:{name:""},tableHeader:[{prop:"dicName",label:"字典项名称",align:"left",render:function(e,t){var a=t.row;return e("el-input",{attrs:{size:"mini",value:a["dicName"]},on:{input:function(e){a["dicName"]=e}}})}},{prop:"dicValue",label:"字典项值",render:function(e,t){var a=t.row;return e("el-input",{attrs:{size:"mini",value:a["dicValue"]},on:{input:function(e){a["dicValue"]=e}}})}},{prop:"orderNum",label:"字典项顺序",width:100,render:function(e,t){var a=t.row;return e("el-input",{attrs:{size:"mini",value:a["orderNum"],type:"number"},on:{input:function(e){a["orderNum"]=e}}})}},{prop:"dicDesc",label:"字典项描述",render:function(e,t){var a=t.row;return e("el-input",{attrs:{size:"mini",value:a["dicDesc"]},on:{input:function(e){a["dicDesc"]=e}}})}},{label:"操作",width:80,render:function(t,a){return t("span",["el-icon-delete"].map((function(n){return t("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){"el-icon-delete"==n&&e.delectDict(a.index)}}},"删除")})))}}],actionlinedata:[{render:function(t){return t("el-button",{attrs:{size:"mini",icon:"el-icon-zoom-in"},on:{click:function(){e.dictableData.push({dicName:"",dicValue:"",dicDesc:"",orderNum:""})}}},"新增字典项目")}}]}},mounted:function(){},methods:{delectDict:function(e){this.dictableData.splice(e,1)}}},c=o,l=a("2877"),s=Object(l["a"])(c,n,i,!1,null,"2e6a6aaf",null);t["default"]=s.exports},"83a9":function(e,t,a){"use strict";a.r(t);a("b0c0"),a("498a");var n=function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑用户":"新增用户",visible:e.visible,size:"medium","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",attrs:{model:e.formData,"label-width":"120px",rules:e.rules}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{clearable:"",placeholder:"请输入姓名"},model:{value:e.formData.name,callback:function(t){e.$set(e.formData,"name","string"===typeof t?t.trim():t)},expression:"formData.name"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"账号",prop:"account"}},[t("el-input",{attrs:{placeholder:"请输入账号",disabled:e.isEdit,clearable:""},model:{value:e.formData.account,callback:function(t){e.$set(e.formData,"account","string"===typeof t?t.trim():t)},expression:"formData.account"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password","show-password":!0,placeholder:"请输入密码","auto-complete":"new-password"},model:{value:e.formData.password,callback:function(t){e.$set(e.formData,"password","string"===typeof t?t.trim():t)},expression:"formData.password"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"所属公司",prop:"companyId"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",filterable:"",placeholder:"请选择所属公司"},on:{change:e.changeCpy},model:{value:e.formData.companyId,callback:function(t){e.$set(e.formData,"companyId",t)},expression:"formData.companyId"}},e._l(e.companyOptions,(function(e,a){return t("el-option",{key:a,attrs:{label:e.name,value:e.id}})})),1)],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"所属部门",prop:"orgId"}},[t("treeselect",{ref:"orgIdRef",attrs:{name:"orgId",multiple:!1,options:e.options,normalizer:e.normalizer,"no-children-text":"数据为空",placeholder:"请选择所属部门",noOptionsText:"暂无数据",disabled:!e.formData.companyId},model:{value:e.formData.orgId,callback:function(t){e.$set(e.formData,"orgId",t)},expression:"formData.orgId"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"移动电话",prop:"phone"}},[t("el-input",{attrs:{placeholder:"请输入移动电话",clearable:""},model:{value:e.formData.phone,callback:function(t){e.$set(e.formData,"phone","string"===typeof t?t.trim():t)},expression:"formData.phone"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"身份证",prop:"idCast"}},[t("el-input",{attrs:{placeholder:"请输入身份证",clearable:""},model:{value:e.formData.idCast,callback:function(t){e.$set(e.formData,"idCast",t)},expression:"formData.idCast"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{clearable:"",placeholder:"请输入邮箱"},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"入职日期"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.formData.entryDate,callback:function(t){e.$set(e.formData,"entryDate",t)},expression:"formData.entryDate"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"出生日期"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期","value-format":"yyyy-MM-dd"},model:{value:e.formData.birthday,callback:function(t){e.$set(e.formData,"birthday",t)},expression:"formData.birthday"}})],1)],1)],1),t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"性别"}},[t("el-radio-group",{model:{value:e.formData.sex,callback:function(t){e.$set(e.formData,"sex",t)},expression:"formData.sex"}},e._l(e.dict_sex,(function(a){return t("el-radio",{key:a.value,attrs:{label:a.value}},[e._v(e._s(a.label))])})),1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"状态"}},[t("el-radio-group",{model:{value:e.formData.status,callback:function(t){e.$set(e.formData,"status",t)},expression:"formData.status"}},e._l(e.dist_userStatus,(function(a){return t("el-radio",{key:a.value,attrs:{label:a.value}},[e._v(e._s(a.label))])})),1)],1)],1)],1),t("el-form-item",{attrs:{label:"地址"}},[t("el-input",{attrs:{maxlength:"30","show-word-limit":"",type:"textarea",placeholder:"请输入地址"},model:{value:e.formData.address,callback:function(t){e.$set(e.formData,"address","string"===typeof t?t.trim():t)},expression:"formData.address"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",loading:e.loadingConfirm},on:{click:e.clickConfirm}},[e._v("确 定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取 消")])],1)],1)},i=[],r=a("ade3"),o=a("c7eb"),c=a("5530"),l=a("1da1"),s=(a("d9e2"),a("b64b"),a("d3b7"),a("159b"),a("e8b2")),d=a("ca17"),p=a.n(d),u=(a("542c"),a("06d4")),f=a("61f7"),b=a("a6e9"),h={name:"dialog-add-edit",components:{Treeselect:p.a},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:function(){return{}}},refresh:{type:Function,required:!0,default:function(){}}},data:function(){var e=this,t=function(t,a,n){""===a?n(new Error("请输入账号")):e.isEdit?n():Object(u["e"])(a).then((function(e){"EXIST"===e.data?n(new Error("该数据已存在")):n()}))};return{dict_sex:b["b"].options,dist_userStatus:b["c"].options,companyOptions:[],formData:m(),rules:{account:[{required:!0,validator:t,trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],companyId:[{required:!0,message:"请选择公司",trigger:"change"}],orgId:[{required:!0,message:"请选择部门",trigger:["change","blur"]}],phone:[],email:[{validator:f["c"],trigger:"blur"}],idCast:[{required:!1,message:"请输入身份证",trigger:"blur"}]},options:[],data:[],defaultProps:{children:"children",label:"label"},normalizer:function(e){return e.id=e.id,e.label=e.name,Array.isArray(e.children)&&e.children.length>0||delete e.children,e},loadingConfirm:!1}},computed:{visible:{get:function(){return this.show},set:function(e){this.$emit("change",!1)}},isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){this.selectCompany()},mounted:function(){var e;null!==(e=this.rowData)&&void 0!==e&&e.id&&this.fetchDetail()},methods:{changeCpy:function(e){e?(this.formData.orgId=null,this.$refs.orgIdRef.clear(),this.selectOrgTree(e)):(this.options=[],this.formData.orgId=null,this.$refs.orgIdRef.clear())},selectOrgTree:function(e){var t=this;Object(u["g"])({id:e}).then((function(e){t.options=e.data}))},selectCompany:function(){var e=this;Object(u["f"])().then((function(t){e.companyOptions=t.data}))},handleNodeClick:function(e){},fetchDetail:function(){var e=this;Object(u["c"])({id:this.rowData.id}).then((function(t){e.formData=m(t.data),e.selectOrgTree(t.data.companyId)}))},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},clickConfirm:function(){var e=this;return Object(l["a"])(Object(o["a"])().mark((function t(){var a,n,i,r;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.formRef.validate();case 3:if(a=t.sent,a){t.next=6;break}return t.abrupt("return");case 6:if(n=Object(c["a"])({},e.formData),e.loadingConfirm=!0,!e.isEdit){t.next=14;break}return t.next=11,Object(u["b"])(n);case 11:return i=t.sent,200===i.code?(e.$message.success("用户编辑成功"),e.$emit("change",!1),e.refresh()):e.$message.error(i.msg),t.abrupt("return");case 14:return delete n.id,t.next=17,Object(u["h"])(n);case 17:r=t.sent,200===r.code?(e.$message.success("用户新增成功"),e.$emit("change",!1),e.refresh()):e.$message.error(r.msg),t.next=24;break;case 21:t.prev=21,t.t0=t["catch"](0);case 24:e.loadingConfirm=!1;case 25:case"end":return t.stop()}}),t,null,[[0,21]])})))()}}};function m(e){var t=Object(r["a"])(Object(r["a"])(Object(r["a"])({id:"",account:"",name:"",sex:"2",email:"",nickName:"",phone:"",status:"1",adress:"",password:"",entryDate:"",birthday:"",idCast:""},"adress",""),"companyId",null),"orgId",null);return Object(s["a"])(e)&&Object.keys(t).forEach((function(a){e.hasOwnProperty(a)&&(t[a]=e[a])})),t}var g=h,v=a("2877"),C=Object(v["a"])(g,n,i,!1,null,"5b0fae62",null);t["default"]=C.exports},9554:function(e,t,a){"use strict";a("1c5b")},"9dd6":function(e,t){e.exports=globalSettings},a47d:function(e,t,a){"use strict";a.r(t);a("498a");var n=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"overflow"},[t("el-form",{ref:"form",attrs:{model:e.formData,rules:e.rules,"label-width":"100px","label-position":"right"}},[t("el-form-item",{attrs:{label:"字典编码",prop:"dicCode"}},[t("el-input",{model:{value:e.formData.dicCode,callback:function(t){e.$set(e.formData,"dicCode","string"===typeof t?t.trim():t)},expression:"formData.dicCode"}})],1),t("el-form-item",{attrs:{label:"字典名称",prop:"dicName"}},[t("el-input",{model:{value:e.formData.dicName,callback:function(t){e.$set(e.formData,"dicName","string"===typeof t?t.trim():t)},expression:"formData.dicName"}})],1),t("el-form-item",{attrs:{label:"字典描述"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.formData.dicDesc,callback:function(t){e.$set(e.formData,"dicDesc","string"===typeof t?t.trim():t)},expression:"formData.dicDesc"}})],1)],1)],1)])},i=[],r=(a("d9e2"),a("dd50")),o=a("a7cd"),c={components:{rendertable:r["default"]},props:{formData:{type:Object,default:function(){return{}}},pageType:String},data:function(){var e=this,t=function(t,a,n){var i=e.pageType;""===a?n(new Error("请输入编码")):"add"===i?Object(o["d"])(a).then((function(e){"EXIST"===e.data?n(new Error("该数据已存在")):n()})):n()};return{rules:{dicCode:[{required:!0,validator:t,trigger:"blur"}],dicName:[{required:!0,message:"请输入字典名称",trigger:"blur"}]}}}},l=c,s=(a("b70c"),a("2877")),d=Object(s["a"])(l,n,i,!1,null,"39bb2618",null);t["default"]=d.exports},b70c:function(e,t,a){"use strict";a("b9d0")},b9d0:function(e,t,a){},c614:function(e,t,a){"use strict";a.r(t);a("4de4"),a("d3b7");var n=function(){var e=this,t=e._self._c;return t("div",[t("headersearch",{attrs:{"search-model":e.searchModel},on:{onSearch:e.onSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("rendertable",{ref:"multipleTable",attrs:{"table-data":e.renderdata,"table-header":e.renderheader,pagination:e.pagination,showselect:!0},on:{currentChange:e.currentChange,sizeChange:e.sizeChange}}),t("el-dialog-limit",{attrs:{title:e.title,visible:e.dialogVisible,size:2===e.selectid?"medium":"small"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._l(e.moudlelist.filter((function(t){return t.id==e.selectid})),(function(a,n){return t(a.component,{key:n,ref:"refForm",refInFor:!0,tag:"component",attrs:{"page-type":e.pageType,"form-data":e.formData,"dictable-data":e.dictableData}})})),t("div",{staticClass:"dialog-footer",staticStyle:{"margin-top":"20px"},attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.submitHandle}},[e._v("确定")]),t("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],2)],1)},i=[],r=a("5530"),o=(a("d81d"),a("14d9"),a("b64b"),a("159b"),a("dd50")),c=a("743a"),l=a("a7cd"),s=a("a47d"),d=a("6936"),p=[s["default"],d["default"]],u=p.map((function(e,t){return{id:t+1,component:e}})),f={components:{headersearch:c["default"],rendertable:o["default"]},data:function(){var e=this;this.$createElement;return{title:"新增",rowId:"",moudlelist:u,selectid:"1",dialogVisible:!1,form:{},searchModel:{formModel:{dicCode:"",dicName:""},searchFild:[{type:"input",label:"字典编码",prop:"dicCode"},{type:"input",label:"字典名称",prop:"dicName"}]},renderheader:[{prop:"dicCode",label:"字典编码",align:"center"},{prop:"dicName",label:"字典名称",align:"center"},{prop:"dicDesc",label:"字典描述"},{prop:"Desensitization",label:"编辑字典项",align:"center",render:function(t,a){var n=a.row;return t("el-button",{attrs:{size:"mini",icon:"el-icon-plus"},directives:[{name:"perm-code",value:"edit_1"}],on:{click:function(){return e.openAddInfo(n)}}})}}],renderdata:[],buttonList:[{type:"add",label:"新增字典",click:this.openAdd,btnPermCode:"add"},{type:"edit",label:"编辑",click:this.openEdit,btnPermCode:"edit"},{type:"delete",label:"删除",click:this.delFun,btnPermCode:"delete"}],pagination:{pageNo:1,pageSize:10,total:0,show:!0},formData:{id:"",dicCode:"",dicName:"",dicDesc:""},infoDate:{id:"",dictId:"",dicName:"",dicValue:"",dicDesc:""},pageType:"",dictableData:[]}},mounted:function(){this.getList()},methods:{openAddInfo:function(e){this.selectid=2,this.pageType="add",this.dialogVisible=!0,this.rowId=e.id,this.getDictableInfo(e.id)},getDictableInfo:function(e){var t=this;Object(l["e"])(e).then((function(e){200===e.code?t.dictableData=e.data:t.$message({type:"error",message:e.message})}))},openAdd:function(){var e=this;this.title="新增",this.selectid=1,this.pageType="add",this.dialogVisible=!0,this.$nextTick((function(){e.$refs.refForm[0].$refs.form.resetFields(),Object.keys(e.formData).map((function(t){return e.formData[t]=""}))}))},openEdit:function(){var e=this,t=this.$refs.multipleTable.$refs.multipleTable.selection;if(1!==t.length)return this.$message({type:"warning",message:"请选择一条数据"}),!1;this.title="编辑",this.dialogVisible=!0,this.selectid=1,this.pageType="edit";var a=this.formData;this.$nextTick((function(){e.$refs.refForm[0].$refs.form.resetFields(),Object.keys(a).forEach((function(e){a[e]=t[0][e]}))}))},delFun:function(){var e=this,t=this.$refs.multipleTable.$refs.multipleTable.selection,a=t.length>0,n=[];if(t.forEach((function(e){n.push(e.id)})),!a)return this.$message({type:"warning",message:"请选择数据"}),!1;this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(l["a"])({ids:n}).then((function(t){200===t.code?(e.$message({type:"success",message:"删除成功"}),e.getList()):e.$message.error(t.msg)}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},getList:function(){var e=this,t={requestObject:Object(r["a"])({},this.searchModel.formModel),pageNo:this.pagination.pageNo,pageSize:this.pagination.pageSize};Object(l["c"])(t).then((function(t){200===t.code?(e.renderdata=t.data.data,e.pagination.total=t.data.totalCount):e.$message({type:"error",message:t.message})}))},submitHandle:function(){var e=this,t=this.formData,a=this.$refs.refForm[0].$refs.form;if(2===this.selectid){var n=this.dictableData,i={id:this.rowId,baseSysDictionaryInfoList:n};this.submitDictInfo(i)}else a.validate((function(a){a&&("add"===e.pageType&&1===e.selectid&&e.submitFun(t),"edit"===e.pageType&&1===e.selectid&&e.editFun(t))}))},submitDictInfo:function(e){var t=this;Object(l["f"])(e).then((function(e){200===e.code?(t.$message({type:"success",message:"修改成功"}),t.dialogVisible=!1):t.$message.error(e.msg)}))},submitFun:function(e){var t=this;Object(l["g"])(e).then((function(e){200===e.code?(t.$message({type:"success",message:"创建成功"}),t.dialogVisible=!1,t.getList()):t.$message.error(e.msg)}))},editFun:function(e){var t=this;Object(l["b"])(e).then((function(e){200===e.code?(t.$message({type:"success",message:"编辑成功"}),t.dialogVisible=!1,t.getList()):t.$message.error(e.msg)}))},sizeChange:function(e){this.pagination.pageSize=e,this.getList()},currentChange:function(e){this.pagination.pageNo=e,this.getList()},onSearch:function(){this.currentChange(1)}}},b=f,h=(a("e8fc"),a("2877")),m=Object(h["a"])(b,n,i,!1,null,"7dbb406c",null);t["default"]=m.exports},dad7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"g-page"},[t("search-form",{attrs:{searchConfig:e.searchConfig},on:{onSearch:e.onSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.totalCount,rowKey:"id",operateSlice:2,currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.visible?t("AccountAdd",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}}):e._e()],1)},i=[],r=a("c7eb"),o=a("1da1"),c=(a("b0c0"),a("83a9")),l=a("06d4"),s=a("ec41"),d=a("a6e9"),p=a("dbc2"),u={name:"manage-account",components:{AccountAdd:c["default"]},mixins:[],props:{},data:function(){return{buttonList:[{label:"新增",type:"add",click:this.openAdd}],searchConfig:{searchData:{nickName:"",name:"",account:"",companyOrgName:"",orgName:""},searchItem:[{type:"input",label:"姓名",prop:"name",labelWidth:"50px",width:"180px"},{type:"input",label:"账号",prop:"account",labelWidth:"50px",width:"180px"},{type:"input",label:"公司名称",prop:"companyOrgName",labelWidth:"80px",width:"180px"},{type:"input",label:"部门名称",prop:"orgName",labelWidth:"80px",width:"180px"}],rules:{}},visible:!1,tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,totalCount:0},tableData:[],columns:[{label:"姓名",prop:"name",width:180},{label:"账号",prop:"account"},{label:"公司名称",prop:"companyOrgName"},{label:"部门名称",prop:"orgName"},{label:"性别",prop:"sex",width:80,format:function(e){return d["b"].get(e)}},{label:"状态",prop:"status",width:80,format:function(e){return d["c"].get(e)}}],operate:{width:160,list:[{label:"编辑",id:"edit"},{label:"删除",id:"delete"}]}},rowData:null}},computed:{},watch:{},created:function(){this.getList()},mounted:function(){},methods:{getList:function(){var e=this;return Object(o["a"])(Object(r["a"])().mark((function t(){var a,n,i,o,c,d,u;return Object(r["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.tableConfig.loading=!0,a=e.searchConfig.searchData,t.next=5,Object(l["d"])(a);case 5:n=t.sent,i=Object(s["a"])(n,"data.data"),o=e.tableConfig.pagination,c=o.pageNo,d=o.pageSize,u=Object(p["a"])(i,c,d),e.tableConfig.pagination.totalCount=u.totalCount,e.tableConfig.pagination.pageNo=u.pageNo,e.tableConfig.pagination.pageSize=u.pageSize,e.tableConfig.tableData=u.tableData,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](0);case 18:e.tableConfig.loading=!1;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},getIndex:function(e){var t=this;return Object(o["a"])(Object(r["a"])().mark((function a(){var n,i,o,c;return Object(r["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e.index,n=e.row,i=e.operate,"delete"!==i.id){a.next=20;break}return a.prev=3,a.next=6,t.$confirm("确定要删除【".concat(n.name,"】吗?"),{type:"warning"});case 6:if(o=a.sent,"confirm"===o){a.next=9;break}return a.abrupt("return");case 9:return a.next=11,Object(l["a"])({idList:[n.id]});case 11:c=a.sent,200===c.code&&(t.$message.success("删除成功"),t.getList()),a.next=18;break;case 15:a.prev=15,a.t0=a["catch"](3);case 18:a.next=21;break;case 20:"edit"===i.id&&(t.rowData=n,t.visible=!0);case 21:case"end":return a.stop()}}),a,null,[[3,15]])})))()},onSearch:function(e){this.tableConfig.pagination.pageNo=1,this.getList()},openAdd:function(){this.rowData=null,this.visible=!0},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()}}},f=u,b=a("2877"),h=Object(b["a"])(f,n,i,!1,null,"9bcb76e6",null);t["default"]=h.exports},e8fc:function(e,t,a){"use strict";a("38e7")}},[[0,"runtime","chunk-codemirror~d939e436","chunk-codemirror~30df42a3","chunk-jsplumb~31fedc20","app~24120820","app~31ecd969","app~7423ef26","app~cdeecc7a","app~8d8b1ca6","app~6363aeef","app~835f80ed","app~ccf8bda1","app~6388e4b0","app~a2f37677","app~161cb7a3","app~aabdb6c6","app~6c793a01","app~3cbcd454","app~83ee5b2b","app~b9e4d596","app~ea0186ed","app~22dbbf1e","app~b3c8a92a","app~5efe9006","app~16996a35","app~4bd99e66","app~2aaed5ce","app~d4b40b22","app~1bd39f04","app~64d94e21","app~0f485567","app~c3412940","app~15ae29a2","app~7274e1de","app~93acefaf","app~31c671ca","app~c6a5805a","app~72f93981","app~db300d2f","app~a3a1eefd","app~2aec3c5f","app~ec219104","app~a7f3e65c","app~6c1eb3d2","app~a3df519a","app~ed9be1e3","app~d71bf088","app~717e1328","app~41ff223c","app~26381bd2","app~88ded296","app~f3137b1a","app~64e68313","app~dc26c9a5","app~4813aef3","app~bdcda83c","app~16d3814e","app~ef4b7b69","app~5f2a7c9c","app~3fc0db22","app~faa5bc4a","app~793f9119","app~6ed3fd28","app~9ad0f35b","app~7bcc931c","app~203e0718","app~7d359b94","app~7777d9b4","app~9c5b28f6","app~b58f7129","app~ff2c28f4","app~205977d4","app~d2305125","app~2900d54e","app~6e3cf3f5","app~308aa24e","app~cfcd6536","app~f538a826","app~fd542d86","app~10d884ce","app~7621f983","app~f71cff67","app~50fdf600","app~21833f8f","app~bb9f020d","app~970f9218","app~5a11b65b","app~4572da27","app~c4aa8f83","app~3f1629e8","app~16ce2f2a","app~e0959b73","app~d44a7288","app~ef620777","app~61d7e293","app~e9e1fe45","app~a96093cf","app~1e604d41","app~2f8d4941","app~300c15f8","app~b643f5a7","app~15bb828b","app~e01f8a7f","app~ff867824","app~0adc88b1","app~4412ac43","app~9ce84bd4","app~acfdd614","app~c6ef1366","app~26caf97c","app~855d0e58","app~1f18c8fa","app~4bd2f8ab","app~d7095425","app~50325d03","app~57d2f11d","app~7c6018c8","app~41828ab0","app~3aaead27","app~6d3f4f49","app~6a884e79","app~f6f6ed3b","app~9c969dc8","app~e6a59ecc","app~d7e22661","app~06413bd6","app~6faafe9b","app~9cef6060","app~0b2735c2","app~68600109"]]]);