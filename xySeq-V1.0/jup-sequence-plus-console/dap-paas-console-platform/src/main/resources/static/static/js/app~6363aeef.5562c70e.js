(window["jsonpPaas4"]=window["jsonpPaas4"]||[]).push([["app~6363aeef"],{4799:function(t,e,r){"use strict";r.r(e),r.d(e,"Base",(function(){return u})),r.d(e,"Circle",(function(){return l})),r.d(e,"Ellipse",(function(){return d})),r.d(e,"Image",(function(){return m})),r.d(e,"Line",(function(){return A})),r.d(e,"Marker",(function(){return M})),r.d(e,"Path",(function(){return G})),r.d(e,"Polygon",(function(){return Z})),r.d(e,"Polyline",(function(){return Q})),r.d(e,"Rect",(function(){return tt})),r.d(e,"Text",(function(){return rt}));var n={};r.r(n),r.d(n,"Base",(function(){return u})),r.d(n,"Circle",(function(){return l})),r.d(n,"Ellipse",(function(){return d})),r.d(n,"Image",(function(){return m})),r.d(n,"Line",(function(){return A})),r.d(n,"Marker",(function(){return M})),r.d(n,"Path",(function(){return G})),r.d(n,"Polygon",(function(){return Z})),r.d(n,"Polyline",(function(){return Q})),r.d(n,"Rect",(function(){return tt})),r.d(n,"Text",(function(){return rt}));var a=r("9ab4"),i=r("6855"),o=r("7326"),s=r("f5e5"),h=r("c2ad"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(a["__assign"])(Object(a["__assign"])({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.getShapeBase=function(){return n},e.prototype.getGroupBase=function(){return h["a"]},e.prototype.onCanvasChange=function(t){Object(s["h"])(this,t)},e.prototype.calculateBBox=function(){var t=this.get("type"),e=this.getHitLineWidth(),r=Object(i["getBBoxMethod"])(t),n=r(this),a=e/2,o=n.x-a,s=n.y-a,h=n.x+n.width+a,c=n.y+n.height+a;return{x:o,minX:o,y:s,minY:s,width:n.width+e,height:n.height+e,maxX:h,maxY:c}},e.prototype.isFill=function(){return!!this.attrs["fill"]||this.isClipShape()},e.prototype.isStroke=function(){return!!this.attrs["stroke"]},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(s["a"])(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.draw=function(t,e){var r=this.cfg.clipShape;if(e){if(!1===this.cfg.refresh)return void this.set("hasChanged",!1);var n=this.getCanvasBBox();if(!Object(o["f"])(e,n))return this.set("hasChanged",!1),void(this.cfg.isInView&&this._afterDraw())}t.save(),Object(s["a"])(t,this),this._applyClip(t,r),this.drawPath(t),t.restore(),this._afterDraw()},e.prototype.getCanvasViewBox=function(){var t=this.cfg.canvas;return t?t.getViewRange():null},e.prototype.cacheCanvasBBox=function(){var t=this.getCanvasViewBox();if(t){var e=this.getCanvasBBox(),r=Object(o["f"])(e,t);this.set("isInView",r),r?this.set("cacheCanvasBBox",e):this.set("cacheCanvasBBox",null)}},e.prototype._afterDraw=function(){this.cacheCanvasBBox(),this.set("hasChanged",!1),this.set("refresh",null)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("isInView",null),this.set("hasChanged",!1)},e.prototype.drawPath=function(t){this.createPath(t),this.strokeAndFill(t),this.afterDrawPath(t)},e.prototype.fill=function(t){t.fill()},e.prototype.stroke=function(t){t.stroke()},e.prototype.strokeAndFill=function(t){var e=this.attrs,r=e.lineWidth,n=e.opacity,a=e.strokeOpacity,i=e.fillOpacity;this.isFill()&&(Object(o["i"])(i)||1===i?this.fill(t):(t.globalAlpha=i,this.fill(t),t.globalAlpha=n)),this.isStroke()&&r>0&&(Object(o["i"])(a)||1===a||(t.globalAlpha=a),this.stroke(t)),this.afterDrawPath(t)},e.prototype.createPath=function(t){},e.prototype.afterDrawPath=function(t){},e.prototype.isInShape=function(t,e){var r=this.isStroke(),n=this.isFill(),a=this.getHitLineWidth();return this.isInStrokeOrPath(t,e,r,n,a)},e.prototype.isInStrokeOrPath=function(t,e,r,n,a){return!1},e.prototype.getHitLineWidth=function(){if(!this.isStroke())return 0;var t=this.attrs;return t["lineWidth"]+t["lineAppendWidth"]},e}(i["AbstractShape"]),u=c,f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(a["__assign"])(Object(a["__assign"])({},e),{x:0,y:0,r:0})},e.prototype.isInStrokeOrPath=function(t,e,r,n,a){var i=this.attr(),s=i.x,h=i.y,c=i.r,u=a/2,f=Object(o["b"])(s,h,t,e);return n&&r?f<=c+u:n?f<=c:!!r&&(f>=c-u&&f<=c+u)},e.prototype.createPath=function(t){var e=this.attr(),r=e.x,n=e.y,a=e.r;t.beginPath(),t.arc(r,n,a,0,2*Math.PI,!1),t.closePath()},e}(u),l=f;function p(t,e,r,n){return t/(r*r)+e/(n*n)}var g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(a["__assign"])(Object(a["__assign"])({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.isInStrokeOrPath=function(t,e,r,n,a){var i=this.attr(),o=a/2,s=i.x,h=i.y,c=i.rx,u=i.ry,f=(t-s)*(t-s),l=(e-h)*(e-h);return n&&r?p(f,l,c+o,u+o)<=1:n?p(f,l,c,u)<=1:!!r&&(p(f,l,c-o,u-o)>=1&&p(f,l,c+o,u+o)<=1)},e.prototype.createPath=function(t){var e=this.attr(),r=e.x,n=e.y,a=e.rx,i=e.ry;if(t.beginPath(),t.ellipse)t.ellipse(r,n,a,i,0,0,2*Math.PI,!1);else{var o=a>i?a:i,s=a>i?1:a/i,h=a>i?i/a:1;t.save(),t.translate(r,n),t.scale(s,h),t.arc(0,0,o,0,2*Math.PI),t.restore(),t.closePath()}},e}(u),d=g;function v(t){return t instanceof HTMLElement&&Object(o["k"])(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase()}var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(a["__assign"])(Object(a["__assign"])({},e),{x:0,y:0,width:0,height:0})},e.prototype.initAttrs=function(t){this._setImage(t.img)},e.prototype.isStroke=function(){return!1},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._afterLoading=function(){if(!0===this.get("toDraw")){var t=this.get("canvas");t?t.draw():this.createPath(this.get("context"))}},e.prototype._setImage=function(t){var e=this,r=this.attrs;if(Object(o["k"])(t)){var n=new Image;n.onload=function(){if(e.destroyed)return!1;e.attr("img",n),e.set("loading",!1),e._afterLoading();var t=e.get("callback");t&&t.call(e)},n.crossOrigin="Anonymous",n.src=t,this.set("loading",!0)}else t instanceof Image?(r.width||(r.width=t.width),r.height||(r.height=t.height)):v(t)&&(r.width||(r.width=Number(t.getAttribute("width"))),r.height||(r.height,Number(t.getAttribute("height"))))},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),"img"===e&&this._setImage(r)},e.prototype.createPath=function(t){if(this.get("loading"))return this.set("toDraw",!0),void this.set("context",t);var e=this.attr(),r=e.x,n=e.y,a=e.width,i=e.height,s=e.sx,h=e.sy,c=e.swidth,u=e.sheight,f=e.img;(f instanceof Image||v(f))&&(Object(o["i"])(s)||Object(o["i"])(h)||Object(o["i"])(c)||Object(o["i"])(u)?t.drawImage(f,r,n,a,i):t.drawImage(f,s,h,c,u,r,n,a,i))},e}(u),m=y,x=r("1183");function b(t,e,r,n,a,i,o){var s=Math.min(t,r),h=Math.max(t,r),c=Math.min(e,n),u=Math.max(e,n),f=a/2;return i>=s-f&&i<=h+f&&o>=c-f&&o<=u+f&&x["c"].pointToLine(t,e,r,n,i,o)<=a/2}var w=r("9f27"),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(a["__assign"])(Object(a["__assign"])({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),this.setArrow()},e.prototype.setArrow=function(){var t=this.attr(),e=t.x1,r=t.y1,n=t.x2,a=t.y2,i=t.startArrow,o=t.endArrow;i&&w["b"](this,t,n,a,e,r),o&&w["a"](this,t,e,r,n,a)},e.prototype.isInStrokeOrPath=function(t,e,r,n,a){if(!r||!a)return!1;var i=this.attr(),o=i.x1,s=i.y1,h=i.x2,c=i.y2;return b(o,s,h,c,a,t,e)},e.prototype.createPath=function(t){var e=this.attr(),r=e.x1,n=e.y1,a=e.x2,i=e.y2,o=e.startArrow,s=e.endArrow,h={dx:0,dy:0},c={dx:0,dy:0};o&&o.d&&(h=w["c"](r,n,a,i,e.startArrow.d)),s&&s.d&&(c=w["c"](r,n,a,i,e.endArrow.d)),t.beginPath(),t.moveTo(r+h.dx,n+h.dy),t.lineTo(a-c.dx,i-c.dy)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),r=this.get("endArrowShape");e&&e.draw(t),r&&r.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,r=t.y1,n=t.x2,a=t.y2;return x["c"].length(e,r,n,a)},e.prototype.getPoint=function(t){var e=this.attr(),r=e.x1,n=e.y1,a=e.x2,i=e.y2;return x["c"].pointAt(r,n,a,i,t)},e}(u),A=O,j=r("8937"),_=r("2ef1"),P={circle:function(t,e,r){return[["M",t-r,e],["A",r,r,0,1,0,t+r,e],["A",r,r,0,1,0,t-r,e]]},square:function(t,e,r){return[["M",t-r,e-r],["L",t+r,e-r],["L",t+r,e+r],["L",t-r,e+r],["Z"]]},diamond:function(t,e,r){return[["M",t-r,e],["L",t,e-r],["L",t+r,e],["L",t,e+r],["Z"]]},triangle:function(t,e,r){var n=r*Math.sin(1/3*Math.PI);return[["M",t-r,e+n],["L",t,e-n],["L",t+r,e+n],["Z"]]},"triangle-down":function(t,e,r){var n=r*Math.sin(1/3*Math.PI);return[["M",t-r,e-n],["L",t+r,e-n],["L",t,e+n],["Z"]]}},C=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["__extends"])(e,t),e.prototype.initAttrs=function(t){this._resetParamsCache()},e.prototype._resetParamsCache=function(){this.set("paramsCache",{})},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),-1!==["symbol","x","y","r","radius"].indexOf(e)&&this._resetParamsCache()},e.prototype.isOnlyHitBox=function(){return!0},e.prototype._getR=function(t){return Object(j["isNil"])(t.r)?t.radius:t.r},e.prototype._getPath=function(){var t,r,n=this.attr(),a=n.x,i=n.y,s=n.symbol||"circle",h=this._getR(n);if(Object(o["h"])(s))t=s,r=t(a,i,h),r=Object(_["c"])(r);else{if(t=e.Symbols[s],!t)return null;r=t(a,i,h)}return r},e.prototype.createPath=function(t){var e=this._getPath(),r=this.get("paramsCache");Object(s["e"])(this,t,{path:e},r)},e.Symbols=P,e}(u),M=C;function k(t,e,r){var n=Object(i["getOffScreenContext"])();return t.createPath(n),n.isPointInPath(e,r)}var S=1e-6;function B(t){return Math.abs(t)<S?0:t<0?-1:1}function I(t,e,r){return(r[0]-t[0])*(e[1]-t[1])===(e[0]-t[0])*(r[1]-t[1])&&Math.min(t[0],e[0])<=r[0]&&r[0]<=Math.max(t[0],e[0])&&Math.min(t[1],e[1])<=r[1]&&r[1]<=Math.max(t[1],e[1])}function T(t,e,r){var n=!1,a=t.length;if(a<=2)return!1;for(var i=0;i<a;i++){var o=t[i],s=t[(i+1)%a];if(I(o,s,[e,r]))return!0;B(o[1]-r)>0!==B(s[1]-r)>0&&B(e-(r-o[1])*(o[0]-s[0])/(o[1]-s[1])-o[0])<0&&(n=!n)}return n}var Y=r("e897"),D=r("9fe7e");function X(t,e,r,n,a,i,s,h){var c=(Math.atan2(h-e,s-t)+2*Math.PI)%(2*Math.PI);if(c<n||c>a)return!1;var u={x:t+r*Math.cos(c),y:e+r*Math.sin(c)};return Object(o["b"])(u.x,u.y,s,h)<=i/2}var L=Y["a"].transform;function F(t){for(var e=!1,r=t.length,n=0;n<r;n++){var a=t[n],i=a[0];if("C"===i||"A"===i||"Q"===i){e=!0;break}}return e}function R(t,e,r,n,a){for(var i=!1,s=e/2,h=0;h<t.length;h++){var c=t[h],u=c.currentPoint,f=c.params,l=c.prePoint,p=c.box;if(!p||Object(o["e"])(p.x-s,p.y-s,p.width+e,p.height+e,r,n)){switch(c.command){case"L":case"Z":i=b(l[0],l[1],u[0],u[1],e,r,n);break;case"Q":var g=x["e"].pointDistance(l[0],l[1],f[1],f[2],f[3],f[4],r,n);i=g<=e/2;break;case"C":var d=x["b"].pointDistance(l[0],l[1],f[1],f[2],f[3],f[4],f[5],f[6],r,n,a);i=d<=e/2;break;case"A":var v=c.arcParams,y=v.cx,m=v.cy,w=v.rx,O=v.ry,A=v.startAngle,j=v.endAngle,_=v.xRotation,P=[r,n,1],C=w>O?w:O,M=w>O?1:w/O,k=w>O?O/w:1,S=L(null,[["t",-y,-m],["r",-_],["s",1/M,1/k]]);D["transformMat3"](P,P,S),i=X(0,0,C,A,j,e,P[0],P[1]);break;default:break}if(i)break}}return i}function N(t){for(var e=t.length,r=[],n=[],a=[],i=0;i<e;i++){var o=t[i],s=o[0];"M"===s?(a.length&&(n.push(a),a=[]),a.push([o[1],o[2]])):"Z"===s?a.length&&(r.push(a),a=[]):a.push([o[1],o[2]])}return a.length>0&&n.push(a),{polygons:r,polylines:n}}var E=Object(a["__assign"])({hasArc:F,extractPolygons:N,isPointInStroke:R},i["PathUtil"]);function V(t,e,r){for(var n=!1,a=0;a<t.length;a++){var i=t[a];if(n=T(i,e,r),n)break}return n}var W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(a["__assign"])(Object(a["__assign"])({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this._setPathArr(t.path),this.setArrow()},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),"path"===e&&this._setPathArr(r),this.setArrow()},e.prototype._setPathArr=function(t){this.attrs.path=Object(_["c"])(t);var e=E.hasArc(t);this.set("hasArc",e),this.set("paramsCache",{}),this.set("segments",null),this.set("curve",null),this.set("tCache",null),this.set("totalLength",null)},e.prototype.getSegments=function(){var t=this.get("segements");return t||(t=Object(_["d"])(this.attr("path")),this.set("segments",t)),t},e.prototype.setArrow=function(){var t=this.attr(),e=t.startArrow,r=t.endArrow;if(e){var n=this.getStartTangent();w["b"](this,t,n[0][0],n[0][1],n[1][0],n[1][1])}if(r){n=this.getEndTangent();w["a"](this,t,n[0][0],n[0][1],n[1][0],n[1][1])}},e.prototype.isInStrokeOrPath=function(t,e,r,n,a){var i=this.getSegments(),o=this.get("hasArc"),s=!1;if(r){var h=this.getTotalLength();s=E.isPointInStroke(i,a,t,e,h)}if(!s&&n)if(o)s=k(this,t,e);else{var c=this.attr("path"),u=E.extractPolygons(c);s=V(u.polygons,t,e)||V(u.polylines,t,e)}return s},e.prototype.createPath=function(t){var e=this.attr(),r=this.get("paramsCache");Object(s["e"])(this,t,e,r)},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),r=this.get("endArrowShape");e&&e.draw(t),r&&r.draw(t)},e.prototype.getTotalLength=function(){var t=this.get("totalLength");return Object(j["isNil"])(t)?(this._calculateCurve(),this._setTcache(),this.get("totalLength")):t},e.prototype.getPoint=function(t){var e,r,n=this.get("tCache");n||(this._calculateCurve(),this._setTcache(),n=this.get("tCache"));var a=this.get("curve");if(!n||0===n.length)return a?{x:a[0][1],y:a[0][2]}:null;Object(j["each"])(n,(function(n,a){t>=n[0]&&t<=n[1]&&(e=(t-n[0])/(n[1]-n[0]),r=a)}));var i=a[r];if(Object(j["isNil"])(i)||Object(j["isNil"])(r))return null;var o=i.length,s=a[r+1];return x["b"].pointAt(i[o-2],i[o-1],s[1],s[2],s[3],s[4],s[5],s[6],e)},e.prototype._calculateCurve=function(){var t=this.attr().path;this.set("curve",E.pathToCurve(t))},e.prototype._setTcache=function(){var t,e,r,n,a=0,i=0,o=[],s=this.get("curve");s&&(Object(j["each"])(s,(function(t,e){r=s[e+1],n=t.length,r&&(a+=x["b"].length(t[n-2],t[n-1],r[1],r[2],r[3],r[4],r[5],r[6])||0)})),this.set("totalLength",a),0!==a?(Object(j["each"])(s,(function(h,c){r=s[c+1],n=h.length,r&&(t=[],t[0]=i/a,e=x["b"].length(h[n-2],h[n-1],r[1],r[2],r[3],r[4],r[5],r[6]),i+=e||0,t[1]=i/a,o.push(t))})),this.set("tCache",o)):this.set("tCache",[]))},e.prototype.getStartTangent=function(){var t,e=this.getSegments();if(e.length>1){var r=e[0].currentPoint,n=e[1].currentPoint,a=e[1].startTangent;t=[],a?(t.push([r[0]-a[0],r[1]-a[1]]),t.push([r[0],r[1]])):(t.push([n[0],n[1]]),t.push([r[0],r[1]]))}return t},e.prototype.getEndTangent=function(){var t,e=this.getSegments(),r=e.length;if(r>1){var n=e[r-2].currentPoint,a=e[r-1].currentPoint,i=e[r-1].endTangent;t=[],i?(t.push([a[0]-i[0],a[1]-i[1]]),t.push([a[0],a[1]])):(t.push([n[0],n[1]]),t.push([a[0],a[1]]))}return t},e}(u),G=W;function H(t,e,r,n,a){var i=t.length;if(i<2)return!1;for(var o=0;o<i-1;o++){var s=t[o][0],h=t[o][1],c=t[o+1][0],u=t[o+1][1];if(b(s,h,c,u,e,r,n))return!0}if(a){var f=t[0],l=t[i-1];if(b(f[0],f[1],l[0],l[1],e,r,n))return!0}return!1}var q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["__extends"])(e,t),e.prototype.isInStrokeOrPath=function(t,e,r,n,a){var i=this.attr().points,o=!1;return r&&(o=H(i,a,t,e,!0)),!o&&n&&(o=T(i,t,e)),o},e.prototype.createPath=function(t){var e=this.attr(),r=e.points;if(!(r.length<2)){t.beginPath();for(var n=0;n<r.length;n++){var a=r[n];0===n?t.moveTo(a[0],a[1]):t.lineTo(a[0],a[1])}t.closePath()}},e}(u),Z=q,z=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(a["__assign"])(Object(a["__assign"])({},e),{startArrow:!1,endArrow:!1})},e.prototype.initAttrs=function(t){this.setArrow()},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),this.setArrow(),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.setArrow=function(){var t=this.attr(),e=this.attrs,r=e.points,n=e.startArrow,a=e.endArrow,i=r.length,o=r[0][0],s=r[0][1],h=r[i-1][0],c=r[i-1][1];n&&w["b"](this,t,r[1][0],r[1][1],o,s),a&&w["a"](this,t,r[i-2][0],r[i-2][1],h,c)},e.prototype.isFill=function(){return!1},e.prototype.isInStrokeOrPath=function(t,e,r,n,a){if(!r||!a)return!1;var i=this.attr().points;return H(i,a,t,e,!1)},e.prototype.isStroke=function(){return!0},e.prototype.createPath=function(t){var e=this.attr(),r=e.points,n=e.startArrow,a=e.endArrow,i=r.length;if(!(r.length<2)){var o=r[0][0],s=r[0][1],h=r[i-1][0],c=r[i-1][1];if(n&&n.d){var u=w["c"](o,s,r[1][0],r[1][1],n.d);o+=u.dx,s+=u.dy}if(a&&a.d){u=w["c"](r[i-2][0],r[i-2][1],h,c,a.d);h-=u.dx,c-=u.dy}t.beginPath(),t.moveTo(o,s);for(var f=0;f<i-1;f++){var l=r[f];t.lineTo(l[0],l[1])}t.lineTo(h,c)}},e.prototype.afterDrawPath=function(t){var e=this.get("startArrowShape"),r=this.get("endArrowShape");e&&e.draw(t),r&&r.draw(t)},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(j["isNil"])(e)?(this.set("totalLength",x["d"].length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,r,n=this.attr().points,a=this.get("tCache");return a||(this._setTcache(),a=this.get("tCache")),Object(j["each"])(a,(function(n,a){t>=n[0]&&t<=n[1]&&(e=(t-n[0])/(n[1]-n[0]),r=a)})),x["c"].pointAt(n[r][0],n[r][1],n[r+1][0],n[r+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var r,n,a=0,i=[];Object(j["each"])(t,(function(o,s){t[s+1]&&(r=[],r[0]=a/e,n=x["c"].length(o[0],o[1],t[s+1][0],t[s+1][1]),a+=n,r[1]=a/e,i.push(r))})),this.set("tCache",i)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,r=[];return r.push([t[e-1][0],t[e-1][1]]),r.push([t[e][0],t[e][1]]),r},e}(u),Q=z,U=r("af40");function J(t,e,r,n,a,i,s){var h=a/2;return Object(o["e"])(t-h,e-h,r,a,i,s)||Object(o["e"])(t+r-h,e-h,a,n,i,s)||Object(o["e"])(t+h,e+n-h,r,a,i,s)||Object(o["e"])(t-h,e+h,a,n,i,s)}function K(t,e,r,n,a,i,o,s){return b(t+a,e,t+r-a,e,i,o,s)||b(t+r,e+a,t+r,e+n-a,i,o,s)||b(t+r-a,e+n,t+a,e+n,i,o,s)||b(t,e+n-a,t,e+a,i,o,s)||X(t+r-a,e+a,a,1.5*Math.PI,2*Math.PI,i,o,s)||X(t+r-a,e+n-a,a,0,.5*Math.PI,i,o,s)||X(t+a,e+n-a,a,.5*Math.PI,Math.PI,i,o,s)||X(t+a,e+a,a,Math.PI,1.5*Math.PI,i,o,s)}var $=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(a["__assign"])(Object(a["__assign"])({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.isInStrokeOrPath=function(t,e,r,n,a){var i=this.attr(),s=i.x,h=i.y,c=i.width,u=i.height,f=i.radius;if(f){var l=!1;return r&&(l=K(s,h,c,u,f,a,t,e)),!l&&n&&(l=k(this,t,e)),l}var p=a/2;return n&&r?Object(o["e"])(s-p,h-p,c+p,u+p,t,e):n?Object(o["e"])(s,h,c,u,t,e):r?J(s,h,c,u,a,t,e):void 0},e.prototype.createPath=function(t){var e=this.attr(),r=e.x,n=e.y,a=e.width,i=e.height,o=e.radius;if(t.beginPath(),0===o)t.rect(r,n,a,i);else{var s=Object(U["a"])(o),h=s[0],c=s[1],u=s[2],f=s[3];t.moveTo(r+h,n),t.lineTo(r+a-c,n),0!==c&&t.arc(r+a-c,n+c,c,-Math.PI/2,0),t.lineTo(r+a,n+i-u),0!==u&&t.arc(r+a-u,n+i-u,u,0,Math.PI/2),t.lineTo(r+f,n+i),0!==f&&t.arc(r+f,n+i-f,f,Math.PI/2,Math.PI),t.lineTo(r,n+h),0!==h&&t.arc(r+h,n+h,h,Math.PI,1.5*Math.PI),t.closePath()}},e}(u),tt=$,et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(a["__assign"])(Object(a["__assign"])({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.isOnlyHitBox=function(){return!0},e.prototype.initAttrs=function(t){this._assembleFont(),t.text&&this._setText(t.text)},e.prototype._assembleFont=function(){var t=this.attrs;t.font=Object(i["assembleFont"])(t)},e.prototype._setText=function(t){var e=null;Object(o["k"])(t)&&-1!==t.indexOf("\n")&&(e=t.split("\n")),this.set("textArr",e)},e.prototype.onAttrChange=function(e,r,n){t.prototype.onAttrChange.call(this,e,r,n),e.startsWith("font")&&this._assembleFont(),"text"===e&&this._setText(r)},e.prototype._getSpaceingY=function(){var t=this.attrs,e=t.lineHeight,r=1*t.fontSize;return e?e-r:.14*r},e.prototype._drawTextArr=function(t,e,r){var n,a=this.attrs,s=a.textBaseline,h=a.x,c=a.y,u=1*a.fontSize,f=this._getSpaceingY(),l=Object(i["getTextHeight"])(a.text,a.fontSize,a.lineHeight);Object(o["c"])(e,(function(e,a){n=c+a*(f+u)-l+u,"middle"===s&&(n+=l-u-(l-u)/2),"top"===s&&(n+=l-u),Object(o["i"])(e)||(r?t.fillText(e,h,n):t.strokeText(e,h,n))}))},e.prototype._drawText=function(t,e){var r=this.attr(),n=r.x,a=r.y,i=this.get("textArr");if(i)this._drawTextArr(t,i,e);else{var s=r.text;Object(o["i"])(s)||(e?t.fillText(s,n,a):t.strokeText(s,n,a))}},e.prototype.strokeAndFill=function(t){var e=this.attrs,r=e.lineWidth,n=e.opacity,a=e.strokeOpacity,i=e.fillOpacity;this.isStroke()&&r>0&&(Object(o["i"])(a)||1===a||(t.globalAlpha=n),this.stroke(t)),this.isFill()&&(Object(o["i"])(i)||1===i?this.fill(t):(t.globalAlpha=i,this.fill(t),t.globalAlpha=n)),this.afterDrawPath(t)},e.prototype.fill=function(t){this._drawText(t,!0)},e.prototype.stroke=function(t){this._drawText(t,!1)},e}(u),rt=et},"53c8":function(t,e,r){"use strict";r("4799"),r("6855");var n=r("b182");r.d(e,"Canvas",(function(){return n["a"]}));r("c2ad"),r("9c29")},7326:function(t,e,r){"use strict";r.d(e,"d",(function(){return a})),r.d(e,"b",(function(){return i})),r.d(e,"e",(function(){return o})),r.d(e,"f",(function(){return s})),r.d(e,"l",(function(){return h})),r.d(e,"j",(function(){return c}));var n=r("8937");function a(){return window?window.devicePixelRatio:1}function i(t,e,r,n){var a=t-r,i=e-n;return Math.sqrt(a*a+i*i)}function o(t,e,r,n,a,i){return a>=t&&a<=t+r&&i>=e&&i<=e+n}function s(t,e){return!(e.minX>t.maxX||e.maxX<t.minX||e.minY>t.maxY||e.maxY<t.minY)}function h(t,e){return t&&e?{minX:Math.min(t.minX,e.minX),minY:Math.min(t.minY,e.minY),maxX:Math.max(t.maxX,e.maxX),maxY:Math.max(t.maxY,e.maxY)}:t||e}function c(t,e){return t[0]===e[0]&&t[1]===e[1]}r.d(e,"i",(function(){return n["isNil"]})),r.d(e,"k",(function(){return n["isString"]})),r.d(e,"h",(function(){return n["isFunction"]})),r.d(e,"g",(function(){return n["isArray"]})),r.d(e,"c",(function(){return n["each"]})),r.d(e,"o",(function(){return n["toRadian"]})),r.d(e,"m",(function(){return n["mod"]})),r.d(e,"n",(function(){return n["requestAnimationFrame"]})),r.d(e,"a",(function(){return n["clearAnimationFrame"]}))},"9c29":function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r("7326");function a(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function i(t,e){return a(t)*a(e)?(t[0]*e[0]+t[1]*e[1])/(a(t)*a(e)):1}function o(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(i(t,e))}function s(t,e){var r=e[1],a=e[2],s=Object(n["m"])(Object(n["o"])(e[3]),2*Math.PI),h=e[4],c=e[5],u=t[0],f=t[1],l=e[6],p=e[7],g=Math.cos(s)*(u-l)/2+Math.sin(s)*(f-p)/2,d=-1*Math.sin(s)*(u-l)/2+Math.cos(s)*(f-p)/2,v=g*g/(r*r)+d*d/(a*a);v>1&&(r*=Math.sqrt(v),a*=Math.sqrt(v));var y=r*r*(d*d)+a*a*(g*g),m=y?Math.sqrt((r*r*(a*a)-y)/y):1;h===c&&(m*=-1),isNaN(m)&&(m=0);var x=a?m*r*d/a:0,b=r?m*-a*g/r:0,w=(u+l)/2+Math.cos(s)*x-Math.sin(s)*b,O=(f+p)/2+Math.sin(s)*x+Math.cos(s)*b,A=[(g-x)/r,(d-b)/a],j=[(-1*g-x)/r,(-1*d-b)/a],_=o([1,0],A),P=o(A,j);return i(A,j)<=-1&&(P=Math.PI),i(A,j)>=1&&(P=0),0===c&&P>0&&(P-=2*Math.PI),1===c&&P<0&&(P+=2*Math.PI),{cx:w,cy:O,rx:Object(n["j"])(t,[l,p])?0:r,ry:Object(n["j"])(t,[l,p])?0:a,startAngle:_,endAngle:_+P,xRotation:s,arcFlag:h,sweepFlag:c}}},"9f27":function(t,e,r){"use strict";r.d(e,"c",(function(){return f})),r.d(e,"b",(function(){return l})),r.d(e,"a",(function(){return p}));var n=r("9ab4"),a=r("4799"),i=Math.sin,o=Math.cos,s=Math.atan2,h=Math.PI;function c(t,e,r,n,c,u,f){var l=e.stroke,p=e.lineWidth,g=r-c,d=n-u,v=s(d,g),y=new a["Path"]({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:{path:"M"+10*o(h/6)+","+10*i(h/6)+" L0,0 L"+10*o(h/6)+",-"+10*i(h/6),stroke:l,lineWidth:p}});y.translate(c,u),y.rotateAtPoint(c,u,v),t.set(f?"startArrowShape":"endArrowShape",y)}function u(t,e,r,h,c,u,f){var l=e.startArrow,p=e.endArrow,g=e.stroke,d=e.lineWidth,v=f?l:p,y=v.d,m=v.fill,x=v.stroke,b=v.lineWidth,w=Object(n["__rest"])(v,["d","fill","stroke","lineWidth"]),O=r-c,A=h-u,j=s(A,O);y&&(c-=o(j)*y,u-=i(j)*y);var _=new a["Path"]({type:"path",canvas:t.get("canvas"),isArrowShape:!0,attrs:Object(n["__assign"])(Object(n["__assign"])({},w),{stroke:x||g,lineWidth:b||d,fill:m})});_.translate(c,u),_.rotateAtPoint(c,u,j),t.set(f?"startArrowShape":"endArrowShape",_)}function f(t,e,r,n,a){var h=s(n-e,r-t);return{dx:o(h)*a,dy:i(h)*a}}function l(t,e,r,n,a,i){"object"===typeof e.startArrow?u(t,e,r,n,a,i,!0):e.startArrow?c(t,e,r,n,a,i,!0):t.set("startArrowShape",null)}function p(t,e,r,n,a,i){"object"===typeof e.endArrow?u(t,e,r,n,a,i,!1):e.endArrow?c(t,e,r,n,a,i,!1):t.set("startArrowShape",null)}},af40:function(t,e,r){"use strict";r.d(e,"b",(function(){return l})),r.d(e,"a",(function(){return p}));var n=r("7326"),a=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,i=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,o=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,s=/[\d.]+:(#[^\s]+|[^\)]+\))/gi;function h(t,e){var r=t.match(s);Object(n["c"])(r,(function(t){var r=t.split(":");e.addColorStop(r[0],r[1])}))}function c(t,e,r){var n,i,o=a.exec(r),s=parseFloat(o[1])%360*(Math.PI/180),c=o[2],u=e.getBBox();s>=0&&s<.5*Math.PI?(n={x:u.minX,y:u.minY},i={x:u.maxX,y:u.maxY}):.5*Math.PI<=s&&s<Math.PI?(n={x:u.maxX,y:u.minY},i={x:u.minX,y:u.maxY}):Math.PI<=s&&s<1.5*Math.PI?(n={x:u.maxX,y:u.maxY},i={x:u.minX,y:u.minY}):(n={x:u.minX,y:u.maxY},i={x:u.maxX,y:u.minY});var f=Math.tan(s),l=f*f,p=(i.x-n.x+f*(i.y-n.y))/(l+1)+n.x,g=f*(i.x-n.x+f*(i.y-n.y))/(l+1)+n.y,d=t.createLinearGradient(n.x,n.y,p,g);return h(c,d),d}function u(t,e,r){var n=i.exec(r),a=parseFloat(n[1]),o=parseFloat(n[2]),c=parseFloat(n[3]),u=n[4];if(0===c){var f=u.match(s);return f[f.length-1].split(":")[1]}var l=e.getBBox(),p=l.maxX-l.minX,g=l.maxY-l.minY,d=Math.sqrt(p*p+g*g)/2,v=t.createRadialGradient(l.minX+p*a,l.minY+g*o,0,l.minX+p/2,l.minY+g/2,c*d);return h(u,v),v}function f(t,e,r){if(e.get("patternSource")&&e.get("patternSource")===r)return e.get("pattern");var n,a,i=o.exec(r),s=i[1],h=i[2];function c(){n=t.createPattern(a,s),e.set("pattern",n),e.set("patternSource",r)}switch(s){case"a":s="repeat";break;case"x":s="repeat-x";break;case"y":s="repeat-y";break;case"n":s="no-repeat";break;default:s="no-repeat"}return a=new Image,h.match(/^data:/i)||(a.crossOrigin="Anonymous"),a.src=h,a.complete?c():(a.onload=c,a.src=a.src),n}function l(t,e,r){var a=e.getBBox();if(isNaN(a.x)||isNaN(a.y)||isNaN(a.width)||isNaN(a.height))return r;if(Object(n["k"])(r)){if("("===r[1]||"("===r[2]){if("l"===r[0])return c(t,e,r);if("r"===r[0])return u(t,e,r);if("p"===r[0])return f(t,e,r)}return r}return r instanceof CanvasPattern?r:void 0}function p(t){var e=0,r=0,a=0,i=0;return Object(n["g"])(t)?1===t.length?e=r=a=i=t[0]:2===t.length?(e=a=t[0],r=i=t[1]):3===t.length?(e=t[0],r=i=t[1],a=t[2]):(e=t[0],r=t[1],a=t[2],i=t[3]):e=r=a=i=t,[e,r,a,i]}},b182:function(t,e,r){"use strict";var n=r("9ab4"),a=r("6855");function i(t,e){if(e){var r=Object(a["invert"])(e);return Object(a["multiplyVec2"])(r,t)}return t}function o(t,e,r){var n=t.getTotalMatrix();if(n){var a=i([e,r,1],n),o=a[0],s=a[1];return[o,s]}return[e,r]}function s(t,e,r){if(t.isCanvas&&t.isCanvas())return!0;if(!Object(a["isAllowCapture"])(t)||!1===t.cfg.isInView)return!1;if(t.cfg.clipShape){var n=o(t,e,r),i=n[0],s=n[1];if(t.isClipped(i,s))return!1}var h=t.cfg.cacheCanvasBBox||t.getCanvasBBox();return e>=h.minX&&e<=h.maxX&&r>=h.minY&&r<=h.maxY}function h(t,e,r){if(!s(t,e,r))return null;for(var n=null,a=t.getChildren(),i=a.length,c=i-1;c>=0;c--){var u=a[c];if(u.isGroup())n=h(u,e,r);else if(s(u,e,r)){var f=u,l=o(u,e,r),p=l[0],g=l[1];f.isInShape(p,g)&&(n=u)}if(n)break}return n}var c=r("4799"),u=r("c2ad"),f=r("7326"),l=r("f5e5"),p=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["__extends"])(e,t),e.prototype.getDefaultCfg=function(){var e=t.prototype.getDefaultCfg.call(this);return e["renderer"]="canvas",e["autoDraw"]=!0,e["localRefresh"]=!0,e["refreshElements"]=[],e["clipView"]=!0,e["quickHit"]=!1,e},e.prototype.onCanvasChange=function(t){"attr"!==t&&"sort"!==t&&"changeSize"!==t||(this.set("refreshElements",[this]),this.draw())},e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return u["a"]},e.prototype.getPixelRatio=function(){var t=this.get("pixelRatio")||Object(f["d"])();return t>=1?Math.ceil(t):1},e.prototype.getViewRange=function(){return{minX:0,minY:0,maxX:this.cfg.width,maxY:this.cfg.height}},e.prototype.createDom=function(){var t=document.createElement("canvas"),e=t.getContext("2d");return this.set("context",e),t},e.prototype.setDOMSize=function(e,r){t.prototype.setDOMSize.call(this,e,r);var n=this.get("context"),a=this.get("el"),i=this.getPixelRatio();a.width=i*e,a.height=i*r,i>1&&n.scale(i,i)},e.prototype.clear=function(){t.prototype.clear.call(this),this._clearFrame();var e=this.get("context"),r=this.get("el");e.clearRect(0,0,r.width,r.height)},e.prototype.getShape=function(e,r){var n;return n=this.get("quickHit")?h(this,e,r):t.prototype.getShape.call(this,e,r,null),n},e.prototype._getRefreshRegion=function(){var t,e=this.get("refreshElements"),r=this.getViewRange();if(e.length&&e[0]===this)t=r;else if(t=Object(l["f"])(e),t){t.minX=Math.floor(t.minX),t.minY=Math.floor(t.minY),t.maxX=Math.ceil(t.maxX),t.maxY=Math.ceil(t.maxY),t.maxY+=1;var n=this.get("clipView");n&&(t=Object(l["g"])(t,r))}return t},e.prototype.refreshElement=function(t){var e=this.get("refreshElements");e.push(t)},e.prototype._clearFrame=function(){var t=this.get("drawFrame");t&&(Object(f["a"])(t),this.set("drawFrame",null),this.set("refreshElements",[]))},e.prototype.draw=function(){var t=this.get("drawFrame");this.get("autoDraw")&&t||this._startDraw()},e.prototype._drawAll=function(){var t=this.get("context"),e=this.get("el"),r=this.getChildren();t.clearRect(0,0,e.width,e.height),Object(l["a"])(t,this),Object(l["d"])(t,r),this.set("refreshElements",[])},e.prototype._drawRegion=function(){var t=this.get("context"),e=this.get("refreshElements"),r=this.getChildren(),n=this._getRefreshRegion();n?(t.clearRect(n.minX,n.minY,n.maxX-n.minX,n.maxY-n.minY),t.save(),t.beginPath(),t.rect(n.minX,n.minY,n.maxX-n.minX,n.maxY-n.minY),t.clip(),Object(l["a"])(t,this),Object(l["b"])(this,r,n),Object(l["d"])(t,r,n),t.restore()):e.length&&Object(l["c"])(e),Object(f["c"])(e,(function(t){t.get("hasChanged")&&t.set("hasChanged",!1)})),this.set("refreshElements",[])},e.prototype._startDraw=function(){var t=this,e=this.get("drawFrame"),r=this.get("drawFrameCallback");e||(e=Object(f["n"])((function(){t.get("localRefresh")?t._drawRegion():t._drawAll(),t.set("drawFrame",null),r&&r()})),this.set("drawFrame",e))},e.prototype.skipDraw=function(){},e.prototype.removeDom=function(){var t=this.get("el");t.width=0,t.height=0,t.parentNode.removeChild(t)},e}(a["AbstractCanvas"]);e["a"]=p},c2ad:function(t,e,r){"use strict";var n=r("9ab4"),a=r("6855"),i=r("4799"),o=r("f5e5"),s=r("8937"),h=r("7326"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["__extends"])(e,t),e.prototype.onCanvasChange=function(t){Object(o["h"])(this,t)},e.prototype.getShapeBase=function(){return i},e.prototype.getGroupBase=function(){return e},e.prototype._applyClip=function(t,e){e&&(t.save(),Object(o["a"])(t,e),e.createPath(t),t.restore(),t.clip(),e._afterDraw())},e.prototype.cacheCanvasBBox=function(){var t=this.cfg.children,e=[],r=[];Object(s["each"])(t,(function(t){var n=t.cfg.cacheCanvasBBox;n&&t.cfg.isInView&&(e.push(n.minX,n.maxX),r.push(n.minY,n.maxY))}));var n=null;if(e.length){var a=Object(s["min"])(e),i=Object(s["max"])(e),o=Object(s["min"])(r),c=Object(s["max"])(r);n={minX:a,minY:o,x:a,y:o,maxX:i,maxY:c,width:i-a,height:c-o};var u=this.cfg.canvas;if(u){var f=u.getViewRange();this.set("isInView",Object(h["f"])(n,f))}}else this.set("isInView",!1);this.set("cacheCanvasBBox",n)},e.prototype.draw=function(t,e){var r=this.cfg.children,n=!e||this.cfg.refresh;r.length&&n&&(t.save(),Object(o["a"])(t,this),this._applyClip(t,this.getClip()),Object(o["d"])(t,r,e),t.restore(),this.cacheCanvasBBox()),this.cfg.refresh=null,this.set("hasChanged",!1)},e.prototype.skipDraw=function(){this.set("cacheCanvasBBox",null),this.set("hasChanged",!1)},e}(a["AbstractGroup"]);e["a"]=c},f5e5:function(t,e,r){"use strict";r.d(e,"a",(function(){return c})),r.d(e,"d",(function(){return u})),r.d(e,"b",(function(){return f})),r.d(e,"c",(function(){return p})),r.d(e,"e",(function(){return v})),r.d(e,"h",(function(){return y})),r.d(e,"f",(function(){return x})),r.d(e,"g",(function(){return b}));var n=r("8937"),a=r("af40"),i=r("9c29"),o=r("7326"),s=r("9f27"),h={fill:"fillStyle",stroke:"strokeStyle",opacity:"globalAlpha"};function c(t,e){var r=e.attr();for(var i in r){var o=r[i],s=h[i]?h[i]:i;"matrix"===s&&o?t.transform(o[0],o[1],o[3],o[4],o[6],o[7]):"lineDash"===s&&t.setLineDash?Object(n["isArray"])(o)&&t.setLineDash(o):("strokeStyle"===s||"fillStyle"===s?o=Object(a["b"])(t,e,o):"globalAlpha"===s&&(o*=t.globalAlpha),t[s]=o)}}function u(t,e,r){for(var n=0;n<e.length;n++){var a=e[n];a.cfg.visible?a.draw(t,r):a.skipDraw()}}function f(t,e,r){var a=t.get("refreshElements");Object(n["each"])(a,(function(e){if(e!==t){var r=e.cfg.parent;while(r&&r!==t&&!r.cfg.refresh)r.cfg.refresh=!0,r=r.cfg.parent}})),a[0]===t?g(e,r):l(e,r)}function l(t,e){for(var r=0;r<t.length;r++){var n=t[r];if(n.cfg.visible)if(n.cfg.hasChanged)n.cfg.refresh=!0,n.isGroup()&&g(n.cfg.children,e);else if(n.cfg.refresh)n.isGroup()&&l(n.cfg.children,e);else{var a=d(n,e);n.cfg.refresh=a,a&&n.isGroup()&&l(n.cfg.children,e)}}}function p(t){for(var e=0;e<t.length;e++){var r=t[e];r.cfg.hasChanged=!1,r.isGroup()&&!r.destroyed&&p(r.cfg.children)}}function g(t,e){for(var r=0;r<t.length;r++){var n=t[r];n.cfg.visible&&(n.cfg.refresh=!0,n.isGroup()&&g(n.get("children"),e))}}function d(t,e){var r=t.cfg.cacheCanvasBBox,n=t.cfg.isInView&&r&&Object(o["f"])(r,e);return n}function v(t,e,r,n){var a=r.path,o=r.startArrow,h=r.endArrow;if(a){var c=[0,0],u=[0,0],f={dx:0,dy:0};e.beginPath();for(var l=0;l<a.length;l++){var p=a[l],g=p[0];if(0===l&&o&&o.d){var d=t.getStartTangent();f=s["c"](d[0][0],d[0][1],d[1][0],d[1][1],o.d)}else if(l===a.length-2&&"Z"===a[l+1][0]&&h&&h.d){var v=a[l+1];if("Z"===v[0]){d=t.getEndTangent();f=s["c"](d[0][0],d[0][1],d[1][0],d[1][1],h.d)}}else if(l===a.length-1&&h&&h.d&&"Z"!==a[0]){d=t.getEndTangent();f=s["c"](d[0][0],d[0][1],d[1][0],d[1][1],h.d)}var y=f.dx,m=f.dy;switch(g){case"M":e.moveTo(p[1]-y,p[2]-m),u=[p[1],p[2]];break;case"L":e.lineTo(p[1]-y,p[2]-m);break;case"Q":e.quadraticCurveTo(p[1],p[2],p[3]-y,p[4]-m);break;case"C":e.bezierCurveTo(p[1],p[2],p[3],p[4],p[5]-y,p[6]-m);break;case"A":var x=void 0;n?(x=n[l],x||(x=Object(i["a"])(c,p),n[l]=x)):x=Object(i["a"])(c,p);var b=x.cx,w=x.cy,O=x.rx,A=x.ry,j=x.startAngle,_=x.endAngle,P=x.xRotation,C=x.sweepFlag;if(e.ellipse)e.ellipse(b,w,O,A,P,j,_,1-C);else{var M=O>A?O:A,k=O>A?1:O/A,S=O>A?A/O:1;e.translate(b,w),e.rotate(P),e.scale(k,S),e.arc(0,0,M,j,_,1-C),e.scale(1/k,1/S),e.rotate(-P),e.translate(-b,-w)}break;case"Z":e.closePath();break;default:break}if("Z"===g)c=u;else{var B=p.length;c=[p[B-2],p[B-1]]}}}}function y(t,e){var r=t.get("canvas");r&&("remove"===e&&(t._cacheCanvasBBox=t.get("cacheCanvasBBox")),t.get("hasChanged")||(t.set("hasChanged",!0),t.cfg.parent&&t.cfg.parent.get("hasChanged")||(r.refreshElement(t,e,r),r.get("autoDraw")&&r.draw())))}function m(t){var e;if(t.destroyed)e=t["_cacheCanvasBBox"];else{var r=t.get("cacheCanvasBBox"),n=r&&!(!r.width||!r.height),a=t.getCanvasBBox(),i=a&&!(!a.width||!a.height);n&&i?e=Object(o["l"])(r,a):n?e=r:i&&(e=a)}return e}function x(t){if(!t.length)return null;var e=[],r=[],a=[],i=[];return Object(n["each"])(t,(function(t){var n=m(t);n&&(e.push(n.minX),r.push(n.minY),a.push(n.maxX),i.push(n.maxY))})),{minX:Object(n["min"])(e),minY:Object(n["min"])(r),maxX:Object(n["max"])(a),maxY:Object(n["max"])(i)}}function b(t,e){return t&&e&&Object(o["f"])(t,e)?{minX:Math.max(t.minX,e.minX),minY:Math.max(t.minY,e.minY),maxX:Math.min(t.maxX,e.maxX),maxY:Math.min(t.maxY,e.maxY)}:null}}}]);