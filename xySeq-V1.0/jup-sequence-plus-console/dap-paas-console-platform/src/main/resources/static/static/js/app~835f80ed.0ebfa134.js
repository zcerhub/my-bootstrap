(window["jsonpPaas4"]=window["jsonpPaas4"]||[]).push([["app~835f80ed"],{"00f9":function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var r=n("73ec");function i(t,e){var n=t.cfg.el,r=t.attr(),i={dx:r.shadowOffsetX,dy:r.shadowOffsetY,blur:r.shadowBlur,color:r.shadowColor};if(i.dx||i.dy||i.blur||i.color){var a=e.find("filter",i);a||(a=e.addShadow(i)),n.setAttribute("filter","url(#"+a+")")}else n.removeAttribute("filter")}function a(t){var e=t.attr().matrix;if(e){for(var n=t.cfg.el,r=[],i=0;i<9;i+=3)r.push(e[i]+","+e[i+1]);r=r.join(","),-1===r.indexOf("NaN")&&n.setAttribute("transform","matrix("+r+")")}}function o(t,e){var n=t.getClip(),i=t.get("el");if(n){if(n&&!i.hasAttribute("clip-path")){Object(r["a"])(n),n.createPath(e);var a=e.addClip(n);i.setAttribute("clip-path","url(#"+a+")")}}else i.removeAttribute("clip-path")}},1183:function(t,e,n){"use strict";n.d(e,"e",(function(){return N})),n.d(e,"b",(function(){return y})),n.d(e,"a",(function(){return w})),n.d(e,"c",(function(){return l})),n.d(e,"d",(function(){return V})),n.d(e,"f",(function(){return r}));var r={};n.r(r),n.d(r,"distance",(function(){return a})),n.d(r,"isNumberEqual",(function(){return o})),n.d(r,"getBBoxByArray",(function(){return s})),n.d(r,"getBBoxRange",(function(){return u})),n.d(r,"piMod",(function(){return c}));var i=n("8937");function a(t,e,n,r){var i=t-n,a=e-r;return Math.sqrt(i*i+a*a)}function o(t,e){return Math.abs(t-e)<.001}function s(t,e){var n=Object(i["min"])(t),r=Object(i["min"])(e),a=Object(i["max"])(t),o=Object(i["max"])(e);return{x:n,y:r,width:a-n,height:o-r}}function u(t,e,n,r){return{minX:Object(i["min"])([t,n]),maxX:Object(i["max"])([t,n]),minY:Object(i["min"])([e,r]),maxY:Object(i["max"])([e,r])}}function c(t){return(t+2*Math.PI)%(2*Math.PI)}var E=n("6711"),l={box:function(t,e,n,r){return s([t,n],[e,r])},length:function(t,e,n,r){return a(t,e,n,r)},pointAt:function(t,e,n,r,i){return{x:(1-i)*t+i*n,y:(1-i)*e+i*r}},pointDistance:function(t,e,n,r,i,o){var s=(n-t)*(i-t)+(r-e)*(o-e);if(s<0)return a(t,e,i,o);var u=(n-t)*(n-t)+(r-e)*(r-e);return s>u?a(n,r,i,o):this.pointToLine(t,e,n,r,i,o)},pointToLine:function(t,e,n,r,i,a){var o=[n-t,r-e];if(E["exactEquals"](o,[0,0]))return Math.sqrt((i-t)*(i-t)+(a-e)*(a-e));var s=[-o[1],o[0]];E["normalize"](s,s);var u=[i-t,a-e];return Math.abs(E["dot"](u,s))},tangentAngle:function(t,e,n,r){return Math.atan2(r-e,n-t)}},h=1e-4;function f(t,e,n,r,i,o){var s,u=1/0,c=[n,r],E=20;o&&o>200&&(E=o/10);for(var l=1/E,f=l/10,_=0;_<=E;_++){var T=_*l,A=[i.apply(null,t.concat([T])),i.apply(null,e.concat([T]))],p=a(c[0],c[1],A[0],A[1]);p<u&&(s=T,u=p)}if(0===s)return{x:t[0],y:e[0]};if(1===s){var R=t.length;return{x:t[R-1],y:e[R-1]}}u=1/0;for(_=0;_<32;_++){if(f<h)break;var d=s-f,N=s+f;A=[i.apply(null,t.concat([d])),i.apply(null,e.concat([d]))],p=a(c[0],c[1],A[0],A[1]);if(d>=0&&p<u)s=d,u=p;else{var S=[i.apply(null,t.concat([N])),i.apply(null,e.concat([N]))],O=a(c[0],c[1],S[0],S[1]);N<=1&&O<u?(s=N,u=O):f*=.5}}return{x:i.apply(null,t.concat([s])),y:i.apply(null,e.concat([s]))}}function _(t,e){for(var n=0,r=t.length,i=0;i<r;i++){var o=t[i],s=e[i],u=t[(i+1)%r],c=e[(i+1)%r];n+=a(o,s,u,c)}return n/2}function T(t,e,n,r){var i=1-r;return i*i*t+2*r*i*e+r*r*n}function A(t,e,n){var r=t+n-2*e;if(o(r,0))return[.5];var i=(t-e)/r;return i<=1&&i>=0?[i]:[]}function p(t,e,n,r){return 2*(1-r)*(e-t)+2*r*(n-e)}function R(t,e,n,r,i,a,o){var s=T(t,n,i,o),u=T(e,r,a,o),c=l.pointAt(t,e,n,r,o),E=l.pointAt(n,r,i,a,o);return[[t,e,c.x,c.y,s,u],[s,u,E.x,E.y,i,a]]}function d(t,e,n,r,i,o,s){if(0===s)return(a(t,e,n,r)+a(n,r,i,o)+a(t,e,i,o))/2;var u=R(t,e,n,r,i,o,.5),c=u[0],E=u[1];return c.push(s-1),E.push(s-1),d.apply(null,c)+d.apply(null,E)}var N={box:function(t,e,n,r,i,a){var o=A(t,n,i)[0],u=A(e,r,a)[0],c=[t,i],E=[e,a];return void 0!==o&&c.push(T(t,n,i,o)),void 0!==u&&E.push(T(e,r,a,u)),s(c,E)},length:function(t,e,n,r,i,a){return d(t,e,n,r,i,a,3)},nearestPoint:function(t,e,n,r,i,a,o,s){return f([t,n,i],[e,r,a],o,s,T)},pointDistance:function(t,e,n,r,i,o,s,u){var c=this.nearestPoint(t,e,n,r,i,o,s,u);return a(c.x,c.y,s,u)},interpolationAt:T,pointAt:function(t,e,n,r,i,a,o){return{x:T(t,n,i,o),y:T(e,r,a,o)}},divide:function(t,e,n,r,i,a,o){return R(t,e,n,r,i,a,o)},tangentAngle:function(t,e,n,r,i,a,o){var s=p(t,n,i,o),u=p(e,r,a,o),E=Math.atan2(u,s);return c(E)}};function S(t,e,n,r,i){var a=1-i;return a*a*a*t+3*e*i*a*a+3*n*i*i*a+r*i*i*i}function O(t,e,n,r,i){var a=1-i;return 3*(a*a*(e-t)+2*a*i*(n-e)+i*i*(r-n))}function g(t,e,n,r){var i,a,s,u=-3*t+9*e-9*n+3*r,c=6*t-12*e+6*n,E=3*e-3*t,l=[];if(o(u,0))o(c,0)||(i=-E/c,i>=0&&i<=1&&l.push(i));else{var h=c*c-4*u*E;o(h,0)?l.push(-c/(2*u)):h>0&&(s=Math.sqrt(h),i=(-c+s)/(2*u),a=(-c-s)/(2*u),i>=0&&i<=1&&l.push(i),a>=0&&a<=1&&l.push(a))}return l}function I(t,e,n,r,i,a,o,s,u){var c=S(t,n,i,o,u),E=S(e,r,a,s,u),h=l.pointAt(t,e,n,r,u),f=l.pointAt(n,r,i,a,u),_=l.pointAt(i,a,o,s,u),T=l.pointAt(h.x,h.y,f.x,f.y,u),A=l.pointAt(f.x,f.y,_.x,_.y,u);return[[t,e,h.x,h.y,T.x,T.y,c,E],[c,E,A.x,A.y,_.x,_.y,o,s]]}function v(t,e,n,r,i,a,o,s,u){if(0===u)return _([t,n,i,o],[e,r,a,s]);var c=I(t,e,n,r,i,a,o,s,.5),E=c[0],l=c[1];return E.push(u-1),l.push(u-1),v.apply(null,E)+v.apply(null,l)}var y={extrema:g,box:function(t,e,n,r,i,a,o,u){for(var c=[t,o],E=[e,u],l=g(t,n,i,o),h=g(e,r,a,u),f=0;f<l.length;f++)c.push(S(t,n,i,o,l[f]));for(f=0;f<h.length;f++)E.push(S(e,r,a,u,h[f]));return s(c,E)},length:function(t,e,n,r,i,a,o,s){return v(t,e,n,r,i,a,o,s,3)},nearestPoint:function(t,e,n,r,i,a,o,s,u,c,E){return f([t,n,i,o],[e,r,a,s],u,c,S,E)},pointDistance:function(t,e,n,r,i,o,s,u,c,E,l){var h=this.nearestPoint(t,e,n,r,i,o,s,u,c,E,l);return a(h.x,h.y,c,E)},interpolationAt:S,pointAt:function(t,e,n,r,i,a,o,s,u){return{x:S(t,n,i,o,u),y:S(e,r,a,s,u)}},divide:function(t,e,n,r,i,a,o,s,u){return I(t,e,n,r,i,a,o,s,u)},tangentAngle:function(t,e,n,r,i,a,o,s,u){var E=O(t,n,i,o,u),l=O(e,r,a,s,u);return c(Math.atan2(l,E))}};function C(t,e){var n=Math.abs(t);return e>0?n:-1*n}var L={box:function(t,e,n,r){return{x:t-n,y:e-r,width:2*n,height:2*r}},length:function(t,e,n,r){return Math.PI*(3*(n+r)-Math.sqrt((3*n+r)*(n+3*r)))},nearestPoint:function(t,e,n,r,i,a){var o=n,s=r;if(0===o||0===s)return{x:t,y:e};for(var u,c,E=i-t,l=a-e,h=Math.abs(E),f=Math.abs(l),_=o*o,T=s*s,A=Math.PI/4,p=0;p<4;p++){u=o*Math.cos(A),c=s*Math.sin(A);var R=(_-T)*Math.pow(Math.cos(A),3)/o,d=(T-_)*Math.pow(Math.sin(A),3)/s,N=u-R,S=c-d,O=h-R,g=f-d,I=Math.hypot(S,N),v=Math.hypot(g,O),y=I*Math.asin((N*g-S*O)/(I*v)),L=y/Math.sqrt(_+T-u*u-c*c);A+=L,A=Math.min(Math.PI/2,Math.max(0,A))}return{x:t+C(u,E),y:e+C(c,l)}},pointDistance:function(t,e,n,r,i,o){var s=this.nearestPoint(t,e,n,r,i,o);return a(s.x,s.y,i,o)},pointAt:function(t,e,n,r,i){var a=2*Math.PI*i;return{x:t+n*Math.cos(a),y:e+r*Math.sin(a)}},tangentAngle:function(t,e,n,r,i){var a=2*Math.PI*i,o=Math.atan2(r*Math.cos(a),-n*Math.sin(a));return c(o)}};function b(t,e,n,r,i,a,o,s){return-1*n*Math.cos(i)*Math.sin(s)-r*Math.sin(i)*Math.cos(s)}function m(t,e,n,r,i,a,o,s){return-1*n*Math.sin(i)*Math.sin(s)+r*Math.cos(i)*Math.cos(s)}function P(t,e,n){return Math.atan(-e/t*Math.tan(n))}function M(t,e,n){return Math.atan(e/(t*Math.tan(n)))}function U(t,e,n,r,i,a){return n*Math.cos(i)*Math.cos(a)-r*Math.sin(i)*Math.sin(a)+t}function D(t,e,n,r,i,a){return n*Math.sin(i)*Math.cos(a)+r*Math.cos(i)*Math.sin(a)+e}function x(t,e,n,r){var i=Math.atan2(r*t,n*e);return(i+2*Math.PI)%(2*Math.PI)}function B(t,e,n){return{x:t*Math.cos(n),y:e*Math.sin(n)}}function F(t,e,n){var r=Math.cos(n),i=Math.sin(n);return[t*r-e*i,t*i+e*r]}var w={box:function(t,e,n,r,i,a,o){for(var s=P(n,r,i),u=1/0,c=-1/0,E=[a,o],l=2*-Math.PI;l<=2*Math.PI;l+=Math.PI){var h=s+l;a<o?a<h&&h<o&&E.push(h):o<h&&h<a&&E.push(h)}for(l=0;l<E.length;l++){var f=U(t,e,n,r,i,E[l]);f<u&&(u=f),f>c&&(c=f)}var _=M(n,r,i),T=1/0,A=-1/0,p=[a,o];for(l=2*-Math.PI;l<=2*Math.PI;l+=Math.PI){var R=_+l;a<o?a<R&&R<o&&p.push(R):o<R&&R<a&&p.push(R)}for(l=0;l<p.length;l++){var d=D(t,e,n,r,i,p[l]);d<T&&(T=d),d>A&&(A=d)}return{x:u,y:T,width:c-u,height:A-T}},length:function(t,e,n,r,i,a,o){},nearestPoint:function(t,e,n,r,i,a,o,s,u){var c=F(s-t,u-e,-i),E=c[0],l=c[1],h=L.nearestPoint(0,0,n,r,E,l),f=x(n,r,h.x,h.y);f<a?h=B(n,r,a):f>o&&(h=B(n,r,o));var _=F(h.x,h.y,i);return{x:_[0]+t,y:_[1]+e}},pointDistance:function(t,e,n,r,i,o,s,u,c){var E=this.nearestPoint(t,e,n,r,u,c);return a(E.x,E.y,u,c)},pointAt:function(t,e,n,r,i,a,o,s){var u=(o-a)*s+a;return{x:U(t,e,n,r,i,u),y:D(t,e,n,r,i,u)}},tangentAngle:function(t,e,n,r,i,a,o,s){var u=(o-a)*s+a,E=b(t,e,n,r,i,a,o,u),l=m(t,e,n,r,i,a,o,u);return c(Math.atan2(l,E))}};function G(t){for(var e=0,n=[],r=0;r<t.length-1;r++){var i=t[r],o=t[r+1],s=a(i[0],i[1],o[0],o[1]),u={from:i,to:o,length:s};n.push(u),e+=s}return{segments:n,totalLength:e}}function X(t){if(t.length<2)return 0;for(var e=0,n=0;n<t.length-1;n++){var r=t[n],i=t[n+1];e+=a(r[0],r[1],i[0],i[1])}return e}function j(t,e){if(e>1||e<0||t.length<2)return null;var n=G(t),r=n.segments,i=n.totalLength;if(0===i)return{x:t[0][0],y:t[0][1]};for(var a=0,o=null,s=0;s<r.length;s++){var u=r[s],c=u.from,E=u.to,h=u.length/i;if(e>=a&&e<=a+h){var f=(e-a)/h;o=l.pointAt(c[0],c[1],E[0],E[1],f);break}a+=h}return o}function H(t,e){if(e>1||e<0||t.length<2)return 0;for(var n=G(t),r=n.segments,i=n.totalLength,a=0,o=0,s=0;s<r.length;s++){var u=r[s],c=u.from,E=u.to,l=u.length/i;if(e>=a&&e<=a+l){o=Math.atan2(E[1]-c[1],E[0]-c[0]);break}a+=l}return o}function k(t,e,n){for(var r=1/0,i=0;i<t.length-1;i++){var a=t[i],o=t[i+1],s=l.pointDistance(a[0],a[1],o[0],o[1],e,n);s<r&&(r=s)}return r}var V={box:function(t){for(var e=[],n=[],r=0;r<t.length;r++){var i=t[r];e.push(i[0]),n.push(i[1])}return s(e,n)},length:function(t){return X(t)},pointAt:function(t,e){return j(t,e)},pointDistance:function(t,e,n){return k(t,e,n)},tangentAngle:function(t,e){return H(t,e)}}},"22f9":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r={rect:"path",circle:"circle",line:"line",path:"path",marker:"path",text:"text",polyline:"polyline",polygon:"polygon",image:"image",ellipse:"ellipse",dom:"foreignObject"},i={opacity:"opacity",fillStyle:"fill",fill:"fill",fillOpacity:"fill-opacity",strokeStyle:"stroke",strokeOpacity:"stroke-opacity",stroke:"stroke",x:"x",y:"y",r:"r",rx:"rx",ry:"ry",width:"width",height:"height",x1:"x1",x2:"x2",y1:"y1",y2:"y2",lineCap:"stroke-linecap",lineJoin:"stroke-linejoin",lineWidth:"stroke-width",lineDash:"stroke-dasharray",lineDashOffset:"stroke-dashoffset",miterLimit:"stroke-miterlimit",font:"font",fontSize:"font-size",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",fontFamily:"font-family",startArrow:"marker-start",endArrow:"marker-end",path:"d",class:"class",id:"id",style:"style",preserveAspectRatio:"preserveAspectRatio"}},"68de":function(t,e,n){"use strict";n.r(e),n.d(e,"Base",(function(){return h})),n.d(e,"Circle",(function(){return T})),n.d(e,"Dom",(function(){return p})),n.d(e,"Ellipse",(function(){return d})),n.d(e,"Image",(function(){return S})),n.d(e,"Line",(function(){return I})),n.d(e,"Marker",(function(){return L})),n.d(e,"Path",(function(){return m})),n.d(e,"Polygon",(function(){return M})),n.d(e,"Polyline",(function(){return D})),n.d(e,"Rect",(function(){return F})),n.d(e,"Text",(function(){return V}));var r={};n.r(r),n.d(r,"Base",(function(){return h})),n.d(r,"Circle",(function(){return T})),n.d(r,"Dom",(function(){return p})),n.d(r,"Ellipse",(function(){return d})),n.d(r,"Image",(function(){return S})),n.d(r,"Line",(function(){return I})),n.d(r,"Marker",(function(){return L})),n.d(r,"Path",(function(){return m})),n.d(r,"Polygon",(function(){return M})),n.d(r,"Polyline",(function(){return D})),n.d(r,"Rect",(function(){return F})),n.d(r,"Text",(function(){return V}));var i=n("9ab4"),a=n("6855"),o=n("00f9"),s=n("73ec"),u=n("7349"),c=n("22f9"),E=n("e73e"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="svg",e.canFill=!1,e.canStroke=!1,e}return Object(i["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{lineWidth:1,lineAppendWidth:0,strokeOpacity:1,fillOpacity:1})},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.draw(r,e)}},e.prototype.getShapeBase=function(){return r},e.prototype.getGroupBase=function(){return E["a"]},e.prototype.onCanvasChange=function(t){Object(u["b"])(this,t)},e.prototype.calculateBBox=function(){var t=this.get("el"),e=null;if(t)e=t.getBBox();else{var n=Object(a["getBBoxMethod"])(this.get("type"));n&&(e=n(this))}if(e){var r=e.x,i=e.y,o=e.width,s=e.height,u=this.getHitLineWidth(),c=u/2,E=r-c,l=i-c,h=r+o+c,f=i+s+c;return{x:E,y:l,minX:E,minY:l,maxX:h,maxY:f,width:o+u,height:s+u}}return{x:0,y:0,minX:0,minY:0,maxX:0,maxY:0,width:0,height:0}},e.prototype.isFill=function(){var t=this.attr(),e=t.fill,n=t.fillStyle;return(e||n||this.isClipShape())&&this.canFill},e.prototype.isStroke=function(){var t=this.attr(),e=t.stroke,n=t.strokeStyle;return(e||n)&&this.canStroke},e.prototype.draw=function(t,e){var n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||Object(s["a"])(this),Object(o["a"])(this,t),this.createPath(t,e),this.shadow(t,e),this.strokeAndFill(t,e),this.transform(e))},e.prototype.createPath=function(t,e){},e.prototype.strokeAndFill=function(t,e){var n=e||this.attr(),r=n.fill,i=n.fillStyle,a=n.stroke,o=n.strokeStyle,s=n.fillOpacity,u=n.strokeOpacity,E=n.lineWidth,l=this.get("el");this.canFill&&(e?"fill"in n?this._setColor(t,"fill",r):"fillStyle"in n&&this._setColor(t,"fill",i):this._setColor(t,"fill",r||i),s&&l.setAttribute(c["b"]["fillOpacity"],s)),this.canStroke&&E>0&&(e?"stroke"in n?this._setColor(t,"stroke",a):"strokeStyle"in n&&this._setColor(t,"stroke",o):this._setColor(t,"stroke",a||o),u&&l.setAttribute(c["b"]["strokeOpacity"],u),E&&l.setAttribute(c["b"]["lineWidth"],E))},e.prototype._setColor=function(t,e,n){var r=this.get("el");if(n)if(n=n.trim(),/^[r,R,L,l]{1}[\s]*\(/.test(n)){var i=t.find("gradient",n);i||(i=t.addGradient(n)),r.setAttribute(c["b"][e],"url(#"+i+")")}else if(/^[p,P]{1}[\s]*\(/.test(n)){i=t.find("pattern",n);i||(i=t.addPattern(n)),r.setAttribute(c["b"][e],"url(#"+i+")")}else r.setAttribute(c["b"][e],n);else r.setAttribute(c["b"][e],"none")},e.prototype.shadow=function(t,e){var n=this.attr(),r=e||n,i=r.shadowOffsetX,a=r.shadowOffsetY,s=r.shadowBlur,u=r.shadowColor;(i||a||s||u)&&Object(o["b"])(this,t)},e.prototype.transform=function(t){var e=this.attr(),n=(t||e).matrix;n&&Object(o["c"])(this)},e.prototype.isInShape=function(t,e){return this.isPointInPath(t,e)},e.prototype.isPointInPath=function(t,e){var n=this.get("el"),r=this.get("canvas"),i=r.get("el").getBoundingClientRect(),a=t+i.left,o=e+i.top,s=document.elementFromPoint(a,o);return!(!s||!s.isEqualNode(n))},e.prototype.getHitLineWidth=function(){var t=this.attrs,e=t.lineWidth,n=t.lineAppendWidth;return this.isStroke()?e+n:0},e}(a["AbstractShape"]),h=l,f=n("8937"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="circle",e.canFill=!0,e.canStroke=!0,e}return Object(i["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{x:0,y:0,r:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(f["each"])(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):c["b"][e]&&r.setAttribute(c["b"][e],t)}))},e}(h),T=_,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dom",e.canFill=!1,e.canStroke=!1,e}return Object(i["__extends"])(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");if(Object(f["each"])(e||n,(function(t,e){c["b"][e]&&r.setAttribute(c["b"][e],t)})),"function"===typeof n["html"]){var i=n["html"].call(this,n);if(i instanceof Element||i instanceof HTMLDocument){for(var a=r.childNodes,o=a.length-1;o>=0;o--)r.removeChild(a[o]);r.appendChild(i)}else r.innerHTML=i}else r.innerHTML=n["html"]},e}(h),p=A,R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="ellipse",e.canFill=!0,e.canStroke=!0,e}return Object(i["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{x:0,y:0,rx:0,ry:0})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(f["each"])(e||n,(function(t,e){"x"===e||"y"===e?r.setAttribute("c"+e,t):c["b"][e]&&r.setAttribute(c["b"][e],t)}))},e}(h),d=R,N=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="image",e.canFill=!1,e.canStroke=!1,e}return Object(i["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{x:0,y:0,width:0,height:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");Object(f["each"])(e||r,(function(t,e){"img"===e?n._setImage(r.img):c["b"][e]&&i.setAttribute(c["b"][e],t)}))},e.prototype.setAttr=function(t,e){this.attrs[t]=e,"img"===t&&this._setImage(e)},e.prototype._setImage=function(t){var e=this.attr(),n=this.get("el");if(Object(f["isString"])(t))n.setAttribute("href",t);else if(t instanceof window.Image)e.width||(n.setAttribute("width",t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",t.height),this.attr("height",t.height)),n.setAttribute("href",t.src);else if(t instanceof HTMLElement&&Object(f["isString"])(t.nodeName)&&"CANVAS"===t.nodeName.toUpperCase())n.setAttribute("href",t.toDataURL());else if(t instanceof ImageData){var r=document.createElement("canvas");r.setAttribute("width",""+t.width),r.setAttribute("height",""+t.height),r.getContext("2d").putImageData(t,0,0),e.width||(n.setAttribute("width",""+t.width),this.attr("width",t.width)),e.height||(n.setAttribute("height",""+t.height),this.attr("height",t.height)),n.setAttribute("href",r.toDataURL())}},e}(h),S=N,O=n("1183"),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="line",e.canFill=!1,e.canStroke=!0,e}return Object(i["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{x1:0,y1:0,x2:0,y2:0,startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(f["each"])(e||n,(function(e,i){if("startArrow"===i||"endArrow"===i)if(e){var a=Object(f["isObject"])(e)?t.addArrow(n,c["b"][i]):t.getDefaultArrow(n,c["b"][i]);r.setAttribute(c["b"][i],"url(#"+a+")")}else r.removeAttribute(c["b"][i]);else c["b"][i]&&r.setAttribute(c["b"][i],e)}))},e.prototype.getTotalLength=function(){var t=this.attr(),e=t.x1,n=t.y1,r=t.x2,i=t.y2;return O["c"].length(e,n,r,i)},e.prototype.getPoint=function(t){var e=this.attr(),n=e.x1,r=e.y1,i=e.x2,a=e.y2;return O["c"].pointAt(n,r,i,a,t)},e}(h),I=g,v={circle:function(t,e,n){return[["M",t,e],["m",-n,0],["a",n,n,0,1,0,2*n,0],["a",n,n,0,1,0,2*-n,0]]},square:function(t,e,n){return[["M",t-n,e-n],["L",t+n,e-n],["L",t+n,e+n],["L",t-n,e+n],["Z"]]},diamond:function(t,e,n){return[["M",t-n,e],["L",t,e-n],["L",t+n,e],["L",t,e+n],["Z"]]},triangle:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e+r],["L",t,e-r],["L",t+n,e+r],["z"]]},triangleDown:function(t,e,n){var r=n*Math.sin(1/3*Math.PI);return[["M",t-n,e-r],["L",t+n,e-r],["L",t,e+r],["Z"]]}},y={get:function(t){return v[t]},register:function(t,e){v[t]=e},remove:function(t){delete v[t]},getAll:function(){return v}},C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="marker",e.canFill=!0,e.canStroke=!0,e}return Object(i["__extends"])(e,t),e.prototype.createPath=function(t){var e=this.get("el");e.setAttribute("d",this._assembleMarker())},e.prototype._assembleMarker=function(){var t=this._getPath();return Object(f["isArray"])(t)?t.map((function(t){return t.join(" ")})).join(""):t},e.prototype._getPath=function(){var t,e=this.attr(),n=e.x,r=e.y,i=e.r||e.radius,a=e.symbol||"circle";return t=Object(f["isFunction"])(a)?a:y.get(a),t?t(n,r,i):null},e.symbolsFactory=y,e}(h),L=C,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="path",e.canFill=!0,e.canStroke=!0,e}return Object(i["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{startArrow:!1,endArrow:!1})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");Object(f["each"])(e||r,(function(e,a){if("path"===a&&Object(f["isArray"])(e))i.setAttribute("d",n._formatPath(e));else if("startArrow"===a||"endArrow"===a)if(e){var o=Object(f["isObject"])(e)?t.addArrow(r,c["b"][a]):t.getDefaultArrow(r,c["b"][a]);i.setAttribute(c["b"][a],"url(#"+o+")")}else i.removeAttribute(c["b"][a]);else c["b"][a]&&i.setAttribute(c["b"][a],e)}))},e.prototype._formatPath=function(t){var e=t.map((function(t){return t.join(" ")})).join("");return~e.indexOf("NaN")?"":e},e.prototype.getTotalLength=function(){var t=this.get("el");return t?t.getTotalLength():null},e.prototype.getPoint=function(t){var e=this.get("el"),n=this.getTotalLength();if(0===n)return null;var r=e?e.getPointAtLength(t*n):null;return r?{x:r.x,y:r.y}:null},e}(h),m=b,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polygon",e.canFill=!0,e.canStroke=!0,e}return Object(i["__extends"])(e,t),e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(f["each"])(e||n,(function(t,e){"points"===e&&Object(f["isArray"])(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):c["b"][e]&&r.setAttribute(c["b"][e],t)}))},e}(h),M=P,U=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="polyline",e.canFill=!0,e.canStroke=!0,e}return Object(i["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{startArrow:!1,endArrow:!1})},e.prototype.onAttrChange=function(e,n,r){t.prototype.onAttrChange.call(this,e,n,r),-1!==["points"].indexOf(e)&&this._resetCache()},e.prototype._resetCache=function(){this.set("totalLength",null),this.set("tCache",null)},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(f["each"])(e||n,(function(t,e){"points"===e&&Object(f["isArray"])(t)&&t.length>=2?r.setAttribute("points",t.map((function(t){return t[0]+","+t[1]})).join(" ")):c["b"][e]&&r.setAttribute(c["b"][e],t)}))},e.prototype.getTotalLength=function(){var t=this.attr().points,e=this.get("totalLength");return Object(f["isNil"])(e)?(this.set("totalLength",O["d"].length(t)),this.get("totalLength")):e},e.prototype.getPoint=function(t){var e,n,r=this.attr().points,i=this.get("tCache");return i||(this._setTcache(),i=this.get("tCache")),Object(f["each"])(i,(function(r,i){t>=r[0]&&t<=r[1]&&(e=(t-r[0])/(r[1]-r[0]),n=i)})),O["c"].pointAt(r[n][0],r[n][1],r[n+1][0],r[n+1][1],e)},e.prototype._setTcache=function(){var t=this.attr().points;if(t&&0!==t.length){var e=this.getTotalLength();if(!(e<=0)){var n,r,i=0,a=[];Object(f["each"])(t,(function(o,s){t[s+1]&&(n=[],n[0]=i/e,r=O["c"].length(o[0],o[1],t[s+1][0],t[s+1][1]),i+=r,n[1]=i/e,a.push(n))})),this.set("tCache",a)}}},e.prototype.getStartTangent=function(){var t=this.attr().points,e=[];return e.push([t[1][0],t[1][1]]),e.push([t[0][0],t[0][1]]),e},e.prototype.getEndTangent=function(){var t=this.attr().points,e=t.length-1,n=[];return n.push([t[e-1][0],t[e-1][1]]),n.push([t[e][0],t[e][1]]),n},e}(h),D=U;function x(t){var e=0,n=0,r=0,i=0;return Object(f["isArray"])(t)?1===t.length?e=n=r=i=t[0]:2===t.length?(e=r=t[0],n=i=t[1]):3===t.length?(e=t[0],n=i=t[1],r=t[2]):(e=t[0],n=t[1],r=t[2],i=t[3]):e=n=r=i=t,{r1:e,r2:n,r3:r,r4:i}}var B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="rect",e.canFill=!0,e.canStroke=!0,e}return Object(i["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{x:0,y:0,width:0,height:0,radius:0})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el"),a=!1,o=["x","y","width","height","radius"];Object(f["each"])(e||r,(function(t,e){-1===o.indexOf(e)||a?-1===o.indexOf(e)&&c["b"][e]&&i.setAttribute(c["b"][e],t):(i.setAttribute("d",n._assembleRect(r)),a=!0)}))},e.prototype._assembleRect=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,a=t.radius;if(!a)return"M "+e+","+n+" l "+r+",0 l 0,"+i+" l"+-r+" 0 z";var o=x(a);Object(f["isArray"])(a)?1===a.length?o.r1=o.r2=o.r3=o.r4=a[0]:2===a.length?(o.r1=o.r3=a[0],o.r2=o.r4=a[1]):3===a.length?(o.r1=a[0],o.r2=o.r4=a[1],o.r3=a[2]):(o.r1=a[0],o.r2=a[1],o.r3=a[2],o.r4=a[3]):o.r1=o.r2=o.r3=o.r4=a;var s=[["M "+(e+o.r1)+","+n],["l "+(r-o.r1-o.r2)+",0"],["a "+o.r2+","+o.r2+",0,0,1,"+o.r2+","+o.r2],["l 0,"+(i-o.r2-o.r3)],["a "+o.r3+","+o.r3+",0,0,1,"+-o.r3+","+o.r3],["l "+(o.r3+o.r4-r)+",0"],["a "+o.r4+","+o.r4+",0,0,1,"+-o.r4+","+-o.r4],["l 0,"+(o.r4+o.r1-i)],["a "+o.r1+","+o.r1+",0,0,1,"+o.r1+","+-o.r1],["z"]];return s.join(" ")},e}(h),F=B,w=n("7b46"),G=.3,X={top:"before-edge",middle:"central",bottom:"after-edge",alphabetic:"baseline",hanging:"hanging"},j={top:"text-before-edge",middle:"central",bottom:"text-after-edge",alphabetic:"alphabetic",hanging:"hanging"},H={left:"left",start:"left",center:"middle",right:"end",end:"end"},k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="text",e.canFill=!0,e.canStroke=!0,e}return Object(i["__extends"])(e,t),e.prototype.getDefaultAttrs=function(){var e=t.prototype.getDefaultAttrs.call(this);return Object(i["__assign"])(Object(i["__assign"])({},e),{x:0,y:0,text:null,fontSize:12,fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"normal",fontVariant:"normal",textAlign:"start",textBaseline:"bottom"})},e.prototype.createPath=function(t,e){var n=this,r=this.attr(),i=this.get("el");this._setFont(),Object(f["each"])(e||r,(function(t,e){"text"===e?n._setText(""+t):"matrix"===e&&t?Object(o["c"])(n):c["b"][e]&&i.setAttribute(c["b"][e],t)})),i.setAttribute("paint-order","stroke"),i.setAttribute("style","stroke-linecap:butt; stroke-linejoin:miter;")},e.prototype._setFont=function(){var t=this.get("el"),e=this.attr(),n=e.textBaseline,r=e.textAlign,i=Object(w["a"])();i&&"firefox"===i.name?t.setAttribute("dominant-baseline",j[n]||"alphabetic"):t.setAttribute("alignment-baseline",X[n]||"baseline"),t.setAttribute("text-anchor",H[r]||"left")},e.prototype._setText=function(t){var e=this.get("el"),n=this.attr(),r=n.x,i=n.textBaseline,a=void 0===i?"bottom":i;if(t)if(~t.indexOf("\n")){var o=t.split("\n"),s=o.length-1,u="";Object(f["each"])(o,(function(t,e){0===e?"alphabetic"===a?u+='<tspan x="'+r+'" dy="'+-s+'em">'+t+"</tspan>":"top"===a?u+='<tspan x="'+r+'" dy="0.9em">'+t+"</tspan>":"middle"===a?u+='<tspan x="'+r+'" dy="'+-(s-1)/2+'em">'+t+"</tspan>":"bottom"===a?u+='<tspan x="'+r+'" dy="-'+(s+G)+'em">'+t+"</tspan>":"hanging"===a&&(u+='<tspan x="'+r+'" dy="'+(-(s-1)-G)+'em">'+t+"</tspan>"):u+='<tspan x="'+r+'" dy="1em">'+t+"</tspan>"})),e.innerHTML=u}else e.innerHTML=t;else e.innerHTML=""},e}(h),V=k},7349:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r=n("00f9"),i=n("73ec");function a(t,e){e.forEach((function(e){e.draw(t)}))}function o(t,e){var n=t.get("canvas");if(n&&n.get("autoDraw")){var a=n.get("context"),o=t.getParent(),s=o?o.getChildren():[n],u=t.get("el");if("remove"===e){var c=t.get("isClipShape");if(c){var E=u&&u.parentNode,l=E&&E.parentNode;E&&l&&l.removeChild(E)}else u&&u.parentNode&&u.parentNode.removeChild(u)}else if("show"===e)u.setAttribute("visibility","visible");else if("hide"===e)u.setAttribute("visibility","hidden");else if("zIndex"===e)Object(i["c"])(u,s.indexOf(t));else if("sort"===e){var h=t.get("children");h&&h.length&&Object(i["d"])(t,(function(t,e){return h.indexOf(t)-h.indexOf(e)?1:0}))}else"clear"===e?u&&(u.innerHTML=""):"matrix"===e?Object(r["c"])(t):"clip"===e?Object(r["a"])(t,a):"attr"===e||"add"===e&&t.draw(a)}}},"73ec":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return u}));var r=n("8937"),i=n("22f9");function a(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function o(t){var e=i["a"][t.type],n=t.getParent();if(!e)throw new Error("the type "+t.type+" is not supported by svg");var r=a(e);if(t.get("id")&&(r.id=t.get("id")),t.set("el",r),t.set("attrs",{}),n){var o=n.get("el");o||(o=n.createDom(),n.set("el",o)),o.appendChild(r)}return r}function s(t,e){var n=t.get("el"),i=Object(r["toArray"])(n.children).sort(e),a=document.createDocumentFragment();i.forEach((function(t){a.appendChild(t)})),n.appendChild(a)}function u(t,e){var n=t.parentNode,r=Array.from(n.childNodes).filter((function(t){return 1===t.nodeType&&"defs"!==t.nodeName.toLowerCase()})),i=r[e],a=r.indexOf(t);if(i){if(a>e)n.insertBefore(t,i);else if(a<e){var o=r[e+1];o?n.insertBefore(t,o):n.appendChild(t)}}else n.appendChild(t)}},a196:function(t,e,n){"use strict";n.r(e),n.d(e,"World",(function(){return mt})),n.d(e,"Kernel",(function(){return W}));var r=n("c973"),i=n.n(r),a=n("9523"),o=n.n(a),s=n("970b"),u=n.n(s),c=n("5bc3"),E=n.n(c),l=n("73ac"),h=n.n(l),f=n("501e"),_=n.n(f),T=n("6747"),A=n.n(T),p=n("a34a"),R=n.n(p),d=1;function N(){return d++}var S;(function(t){t[t["DEPTH_BUFFER_BIT"]=256]="DEPTH_BUFFER_BIT",t[t["STENCIL_BUFFER_BIT"]=1024]="STENCIL_BUFFER_BIT",t[t["COLOR_BUFFER_BIT"]=16384]="COLOR_BUFFER_BIT",t[t["POINTS"]=0]="POINTS",t[t["LINES"]=1]="LINES",t[t["LINE_LOOP"]=2]="LINE_LOOP",t[t["LINE_STRIP"]=3]="LINE_STRIP",t[t["TRIANGLES"]=4]="TRIANGLES",t[t["TRIANGLE_STRIP"]=5]="TRIANGLE_STRIP",t[t["TRIANGLE_FAN"]=6]="TRIANGLE_FAN",t[t["ZERO"]=0]="ZERO",t[t["ONE"]=1]="ONE",t[t["SRC_COLOR"]=768]="SRC_COLOR",t[t["ONE_MINUS_SRC_COLOR"]=769]="ONE_MINUS_SRC_COLOR",t[t["SRC_ALPHA"]=770]="SRC_ALPHA",t[t["ONE_MINUS_SRC_ALPHA"]=771]="ONE_MINUS_SRC_ALPHA",t[t["DST_ALPHA"]=772]="DST_ALPHA",t[t["ONE_MINUS_DST_ALPHA"]=773]="ONE_MINUS_DST_ALPHA",t[t["DST_COLOR"]=774]="DST_COLOR",t[t["ONE_MINUS_DST_COLOR"]=775]="ONE_MINUS_DST_COLOR",t[t["SRC_ALPHA_SATURATE"]=776]="SRC_ALPHA_SATURATE",t[t["FUNC_ADD"]=32774]="FUNC_ADD",t[t["BLEND_EQUATION"]=32777]="BLEND_EQUATION",t[t["BLEND_EQUATION_RGB"]=32777]="BLEND_EQUATION_RGB",t[t["BLEND_EQUATION_ALPHA"]=34877]="BLEND_EQUATION_ALPHA",t[t["FUNC_SUBTRACT"]=32778]="FUNC_SUBTRACT",t[t["FUNC_REVERSE_SUBTRACT"]=32779]="FUNC_REVERSE_SUBTRACT",t[t["MAX_EXT"]=32776]="MAX_EXT",t[t["MIN_EXT"]=32775]="MIN_EXT",t[t["BLEND_DST_RGB"]=32968]="BLEND_DST_RGB",t[t["BLEND_SRC_RGB"]=32969]="BLEND_SRC_RGB",t[t["BLEND_DST_ALPHA"]=32970]="BLEND_DST_ALPHA",t[t["BLEND_SRC_ALPHA"]=32971]="BLEND_SRC_ALPHA",t[t["CONSTANT_COLOR"]=32769]="CONSTANT_COLOR",t[t["ONE_MINUS_CONSTANT_COLOR"]=32770]="ONE_MINUS_CONSTANT_COLOR",t[t["CONSTANT_ALPHA"]=32771]="CONSTANT_ALPHA",t[t["ONE_MINUS_CONSTANT_ALPHA"]=32772]="ONE_MINUS_CONSTANT_ALPHA",t[t["BLEND_COLOR"]=32773]="BLEND_COLOR",t[t["ARRAY_BUFFER"]=34962]="ARRAY_BUFFER",t[t["ELEMENT_ARRAY_BUFFER"]=34963]="ELEMENT_ARRAY_BUFFER",t[t["ARRAY_BUFFER_BINDING"]=34964]="ARRAY_BUFFER_BINDING",t[t["ELEMENT_ARRAY_BUFFER_BINDING"]=34965]="ELEMENT_ARRAY_BUFFER_BINDING",t[t["STREAM_DRAW"]=35040]="STREAM_DRAW",t[t["STATIC_DRAW"]=35044]="STATIC_DRAW",t[t["DYNAMIC_DRAW"]=35048]="DYNAMIC_DRAW",t[t["BUFFER_SIZE"]=34660]="BUFFER_SIZE",t[t["BUFFER_USAGE"]=34661]="BUFFER_USAGE",t[t["CURRENT_VERTEX_ATTRIB"]=34342]="CURRENT_VERTEX_ATTRIB",t[t["FRONT"]=1028]="FRONT",t[t["BACK"]=1029]="BACK",t[t["FRONT_AND_BACK"]=1032]="FRONT_AND_BACK",t[t["CULL_FACE"]=2884]="CULL_FACE",t[t["BLEND"]=3042]="BLEND",t[t["DITHER"]=3024]="DITHER",t[t["STENCIL_TEST"]=2960]="STENCIL_TEST",t[t["DEPTH_TEST"]=2929]="DEPTH_TEST",t[t["SCISSOR_TEST"]=3089]="SCISSOR_TEST",t[t["POLYGON_OFFSET_FILL"]=32823]="POLYGON_OFFSET_FILL",t[t["SAMPLE_ALPHA_TO_COVERAGE"]=32926]="SAMPLE_ALPHA_TO_COVERAGE",t[t["SAMPLE_COVERAGE"]=32928]="SAMPLE_COVERAGE",t[t["NO_ERROR"]=0]="NO_ERROR",t[t["INVALID_ENUM"]=1280]="INVALID_ENUM",t[t["INVALID_VALUE"]=1281]="INVALID_VALUE",t[t["INVALID_OPERATION"]=1282]="INVALID_OPERATION",t[t["OUT_OF_MEMORY"]=1285]="OUT_OF_MEMORY",t[t["CW"]=2304]="CW",t[t["CCW"]=2305]="CCW",t[t["LINE_WIDTH"]=2849]="LINE_WIDTH",t[t["ALIASED_POINT_SIZE_RANGE"]=33901]="ALIASED_POINT_SIZE_RANGE",t[t["ALIASED_LINE_WIDTH_RANGE"]=33902]="ALIASED_LINE_WIDTH_RANGE",t[t["CULL_FACE_MODE"]=2885]="CULL_FACE_MODE",t[t["FRONT_FACE"]=2886]="FRONT_FACE",t[t["DEPTH_RANGE"]=2928]="DEPTH_RANGE",t[t["DEPTH_WRITEMASK"]=2930]="DEPTH_WRITEMASK",t[t["DEPTH_CLEAR_VALUE"]=2931]="DEPTH_CLEAR_VALUE",t[t["DEPTH_FUNC"]=2932]="DEPTH_FUNC",t[t["STENCIL_CLEAR_VALUE"]=2961]="STENCIL_CLEAR_VALUE",t[t["STENCIL_FUNC"]=2962]="STENCIL_FUNC",t[t["STENCIL_FAIL"]=2964]="STENCIL_FAIL",t[t["STENCIL_PASS_DEPTH_FAIL"]=2965]="STENCIL_PASS_DEPTH_FAIL",t[t["STENCIL_PASS_DEPTH_PASS"]=2966]="STENCIL_PASS_DEPTH_PASS",t[t["STENCIL_REF"]=2967]="STENCIL_REF",t[t["STENCIL_VALUE_MASK"]=2963]="STENCIL_VALUE_MASK",t[t["STENCIL_WRITEMASK"]=2968]="STENCIL_WRITEMASK",t[t["STENCIL_BACK_FUNC"]=34816]="STENCIL_BACK_FUNC",t[t["STENCIL_BACK_FAIL"]=34817]="STENCIL_BACK_FAIL",t[t["STENCIL_BACK_PASS_DEPTH_FAIL"]=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",t[t["STENCIL_BACK_PASS_DEPTH_PASS"]=34819]="STENCIL_BACK_PASS_DEPTH_PASS",t[t["STENCIL_BACK_REF"]=36003]="STENCIL_BACK_REF",t[t["STENCIL_BACK_VALUE_MASK"]=36004]="STENCIL_BACK_VALUE_MASK",t[t["STENCIL_BACK_WRITEMASK"]=36005]="STENCIL_BACK_WRITEMASK",t[t["VIEWPORT"]=2978]="VIEWPORT",t[t["SCISSOR_BOX"]=3088]="SCISSOR_BOX",t[t["COLOR_CLEAR_VALUE"]=3106]="COLOR_CLEAR_VALUE",t[t["COLOR_WRITEMASK"]=3107]="COLOR_WRITEMASK",t[t["UNPACK_ALIGNMENT"]=3317]="UNPACK_ALIGNMENT",t[t["PACK_ALIGNMENT"]=3333]="PACK_ALIGNMENT",t[t["MAX_TEXTURE_SIZE"]=3379]="MAX_TEXTURE_SIZE",t[t["MAX_VIEWPORT_DIMS"]=3386]="MAX_VIEWPORT_DIMS",t[t["SUBPIXEL_BITS"]=3408]="SUBPIXEL_BITS",t[t["RED_BITS"]=3410]="RED_BITS",t[t["GREEN_BITS"]=3411]="GREEN_BITS",t[t["BLUE_BITS"]=3412]="BLUE_BITS",t[t["ALPHA_BITS"]=3413]="ALPHA_BITS",t[t["DEPTH_BITS"]=3414]="DEPTH_BITS",t[t["STENCIL_BITS"]=3415]="STENCIL_BITS",t[t["POLYGON_OFFSET_UNITS"]=10752]="POLYGON_OFFSET_UNITS",t[t["POLYGON_OFFSET_FACTOR"]=32824]="POLYGON_OFFSET_FACTOR",t[t["TEXTURE_BINDING_2D"]=32873]="TEXTURE_BINDING_2D",t[t["SAMPLE_BUFFERS"]=32936]="SAMPLE_BUFFERS",t[t["SAMPLES"]=32937]="SAMPLES",t[t["SAMPLE_COVERAGE_VALUE"]=32938]="SAMPLE_COVERAGE_VALUE",t[t["SAMPLE_COVERAGE_INVERT"]=32939]="SAMPLE_COVERAGE_INVERT",t[t["COMPRESSED_TEXTURE_FORMATS"]=34467]="COMPRESSED_TEXTURE_FORMATS",t[t["DONT_CARE"]=4352]="DONT_CARE",t[t["FASTEST"]=4353]="FASTEST",t[t["NICEST"]=4354]="NICEST",t[t["GENERATE_MIPMAP_HINT"]=33170]="GENERATE_MIPMAP_HINT",t[t["BYTE"]=5120]="BYTE",t[t["UNSIGNED_BYTE"]=5121]="UNSIGNED_BYTE",t[t["SHORT"]=5122]="SHORT",t[t["UNSIGNED_SHORT"]=5123]="UNSIGNED_SHORT",t[t["INT"]=5124]="INT",t[t["UNSIGNED_INT"]=5125]="UNSIGNED_INT",t[t["FLOAT"]=5126]="FLOAT",t[t["DEPTH_COMPONENT"]=6402]="DEPTH_COMPONENT",t[t["ALPHA"]=6406]="ALPHA",t[t["RGB"]=6407]="RGB",t[t["RGBA"]=6408]="RGBA",t[t["LUMINANCE"]=6409]="LUMINANCE",t[t["LUMINANCE_ALPHA"]=6410]="LUMINANCE_ALPHA",t[t["UNSIGNED_SHORT_4_4_4_4"]=32819]="UNSIGNED_SHORT_4_4_4_4",t[t["UNSIGNED_SHORT_5_5_5_1"]=32820]="UNSIGNED_SHORT_5_5_5_1",t[t["UNSIGNED_SHORT_5_6_5"]=33635]="UNSIGNED_SHORT_5_6_5",t[t["FRAGMENT_SHADER"]=35632]="FRAGMENT_SHADER",t[t["VERTEX_SHADER"]=35633]="VERTEX_SHADER",t[t["MAX_VERTEX_ATTRIBS"]=34921]="MAX_VERTEX_ATTRIBS",t[t["MAX_VERTEX_UNIFORM_VECTORS"]=36347]="MAX_VERTEX_UNIFORM_VECTORS",t[t["MAX_VARYING_VECTORS"]=36348]="MAX_VARYING_VECTORS",t[t["MAX_COMBINED_TEXTURE_IMAGE_UNITS"]=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",t[t["MAX_VERTEX_TEXTURE_IMAGE_UNITS"]=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",t[t["MAX_TEXTURE_IMAGE_UNITS"]=34930]="MAX_TEXTURE_IMAGE_UNITS",t[t["MAX_FRAGMENT_UNIFORM_VECTORS"]=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",t[t["SHADER_TYPE"]=35663]="SHADER_TYPE",t[t["DELETE_STATUS"]=35712]="DELETE_STATUS",t[t["LINK_STATUS"]=35714]="LINK_STATUS",t[t["VALIDATE_STATUS"]=35715]="VALIDATE_STATUS",t[t["ATTACHED_SHADERS"]=35717]="ATTACHED_SHADERS",t[t["ACTIVE_UNIFORMS"]=35718]="ACTIVE_UNIFORMS",t[t["ACTIVE_ATTRIBUTES"]=35721]="ACTIVE_ATTRIBUTES",t[t["SHADING_LANGUAGE_VERSION"]=35724]="SHADING_LANGUAGE_VERSION",t[t["CURRENT_PROGRAM"]=35725]="CURRENT_PROGRAM",t[t["NEVER"]=512]="NEVER",t[t["LESS"]=513]="LESS",t[t["EQUAL"]=514]="EQUAL",t[t["LEQUAL"]=515]="LEQUAL",t[t["GREATER"]=516]="GREATER",t[t["NOTEQUAL"]=517]="NOTEQUAL",t[t["GEQUAL"]=518]="GEQUAL",t[t["ALWAYS"]=519]="ALWAYS",t[t["KEEP"]=7680]="KEEP",t[t["REPLACE"]=7681]="REPLACE",t[t["INCR"]=7682]="INCR",t[t["DECR"]=7683]="DECR",t[t["INVERT"]=5386]="INVERT",t[t["INCR_WRAP"]=34055]="INCR_WRAP",t[t["DECR_WRAP"]=34056]="DECR_WRAP",t[t["VENDOR"]=7936]="VENDOR",t[t["RENDERER"]=7937]="RENDERER",t[t["VERSION"]=7938]="VERSION",t[t["NEAREST"]=9728]="NEAREST",t[t["LINEAR"]=9729]="LINEAR",t[t["NEAREST_MIPMAP_NEAREST"]=9984]="NEAREST_MIPMAP_NEAREST",t[t["LINEAR_MIPMAP_NEAREST"]=9985]="LINEAR_MIPMAP_NEAREST",t[t["NEAREST_MIPMAP_LINEAR"]=9986]="NEAREST_MIPMAP_LINEAR",t[t["LINEAR_MIPMAP_LINEAR"]=9987]="LINEAR_MIPMAP_LINEAR",t[t["TEXTURE_MAG_FILTER"]=10240]="TEXTURE_MAG_FILTER",t[t["TEXTURE_MIN_FILTER"]=10241]="TEXTURE_MIN_FILTER",t[t["TEXTURE_WRAP_S"]=10242]="TEXTURE_WRAP_S",t[t["TEXTURE_WRAP_T"]=10243]="TEXTURE_WRAP_T",t[t["TEXTURE_2D"]=3553]="TEXTURE_2D",t[t["TEXTURE"]=5890]="TEXTURE",t[t["TEXTURE_CUBE_MAP"]=34067]="TEXTURE_CUBE_MAP",t[t["TEXTURE_BINDING_CUBE_MAP"]=34068]="TEXTURE_BINDING_CUBE_MAP",t[t["TEXTURE_CUBE_MAP_POSITIVE_X"]=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t["TEXTURE_CUBE_MAP_NEGATIVE_X"]=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t["TEXTURE_CUBE_MAP_POSITIVE_Y"]=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t["TEXTURE_CUBE_MAP_NEGATIVE_Y"]=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t["TEXTURE_CUBE_MAP_POSITIVE_Z"]=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t["TEXTURE_CUBE_MAP_NEGATIVE_Z"]=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t[t["MAX_CUBE_MAP_TEXTURE_SIZE"]=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",t[t["TEXTURE0"]=33984]="TEXTURE0",t[t["TEXTURE1"]=33985]="TEXTURE1",t[t["TEXTURE2"]=33986]="TEXTURE2",t[t["TEXTURE3"]=33987]="TEXTURE3",t[t["TEXTURE4"]=33988]="TEXTURE4",t[t["TEXTURE5"]=33989]="TEXTURE5",t[t["TEXTURE6"]=33990]="TEXTURE6",t[t["TEXTURE7"]=33991]="TEXTURE7",t[t["TEXTURE8"]=33992]="TEXTURE8",t[t["TEXTURE9"]=33993]="TEXTURE9",t[t["TEXTURE10"]=33994]="TEXTURE10",t[t["TEXTURE11"]=33995]="TEXTURE11",t[t["TEXTURE12"]=33996]="TEXTURE12",t[t["TEXTURE13"]=33997]="TEXTURE13",t[t["TEXTURE14"]=33998]="TEXTURE14",t[t["TEXTURE15"]=33999]="TEXTURE15",t[t["TEXTURE16"]=34e3]="TEXTURE16",t[t["TEXTURE17"]=34001]="TEXTURE17",t[t["TEXTURE18"]=34002]="TEXTURE18",t[t["TEXTURE19"]=34003]="TEXTURE19",t[t["TEXTURE20"]=34004]="TEXTURE20",t[t["TEXTURE21"]=34005]="TEXTURE21",t[t["TEXTURE22"]=34006]="TEXTURE22",t[t["TEXTURE23"]=34007]="TEXTURE23",t[t["TEXTURE24"]=34008]="TEXTURE24",t[t["TEXTURE25"]=34009]="TEXTURE25",t[t["TEXTURE26"]=34010]="TEXTURE26",t[t["TEXTURE27"]=34011]="TEXTURE27",t[t["TEXTURE28"]=34012]="TEXTURE28",t[t["TEXTURE29"]=34013]="TEXTURE29",t[t["TEXTURE30"]=34014]="TEXTURE30",t[t["TEXTURE31"]=34015]="TEXTURE31",t[t["ACTIVE_TEXTURE"]=34016]="ACTIVE_TEXTURE",t[t["REPEAT"]=10497]="REPEAT",t[t["CLAMP_TO_EDGE"]=33071]="CLAMP_TO_EDGE",t[t["MIRRORED_REPEAT"]=33648]="MIRRORED_REPEAT",t[t["FLOAT_VEC2"]=35664]="FLOAT_VEC2",t[t["FLOAT_VEC3"]=35665]="FLOAT_VEC3",t[t["FLOAT_VEC4"]=35666]="FLOAT_VEC4",t[t["INT_VEC2"]=35667]="INT_VEC2",t[t["INT_VEC3"]=35668]="INT_VEC3",t[t["INT_VEC4"]=35669]="INT_VEC4",t[t["BOOL"]=35670]="BOOL",t[t["BOOL_VEC2"]=35671]="BOOL_VEC2",t[t["BOOL_VEC3"]=35672]="BOOL_VEC3",t[t["BOOL_VEC4"]=35673]="BOOL_VEC4",t[t["FLOAT_MAT2"]=35674]="FLOAT_MAT2",t[t["FLOAT_MAT3"]=35675]="FLOAT_MAT3",t[t["FLOAT_MAT4"]=35676]="FLOAT_MAT4",t[t["SAMPLER_2D"]=35678]="SAMPLER_2D",t[t["SAMPLER_CUBE"]=35680]="SAMPLER_CUBE",t[t["VERTEX_ATTRIB_ARRAY_ENABLED"]=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",t[t["VERTEX_ATTRIB_ARRAY_SIZE"]=34339]="VERTEX_ATTRIB_ARRAY_SIZE",t[t["VERTEX_ATTRIB_ARRAY_STRIDE"]=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",t[t["VERTEX_ATTRIB_ARRAY_TYPE"]=34341]="VERTEX_ATTRIB_ARRAY_TYPE",t[t["VERTEX_ATTRIB_ARRAY_NORMALIZED"]=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",t[t["VERTEX_ATTRIB_ARRAY_POINTER"]=34373]="VERTEX_ATTRIB_ARRAY_POINTER",t[t["VERTEX_ATTRIB_ARRAY_BUFFER_BINDING"]=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",t[t["COMPILE_STATUS"]=35713]="COMPILE_STATUS",t[t["LOW_FLOAT"]=36336]="LOW_FLOAT",t[t["MEDIUM_FLOAT"]=36337]="MEDIUM_FLOAT",t[t["HIGH_FLOAT"]=36338]="HIGH_FLOAT",t[t["LOW_INT"]=36339]="LOW_INT",t[t["MEDIUM_INT"]=36340]="MEDIUM_INT",t[t["HIGH_INT"]=36341]="HIGH_INT",t[t["FRAMEBUFFER"]=36160]="FRAMEBUFFER",t[t["RENDERBUFFER"]=36161]="RENDERBUFFER",t[t["RGBA4"]=32854]="RGBA4",t[t["RGB5_A1"]=32855]="RGB5_A1",t[t["RGB565"]=36194]="RGB565",t[t["DEPTH_COMPONENT16"]=33189]="DEPTH_COMPONENT16",t[t["STENCIL_INDEX"]=6401]="STENCIL_INDEX",t[t["STENCIL_INDEX8"]=36168]="STENCIL_INDEX8",t[t["DEPTH_STENCIL"]=34041]="DEPTH_STENCIL",t[t["RENDERBUFFER_WIDTH"]=36162]="RENDERBUFFER_WIDTH",t[t["RENDERBUFFER_HEIGHT"]=36163]="RENDERBUFFER_HEIGHT",t[t["RENDERBUFFER_INTERNAL_FORMAT"]=36164]="RENDERBUFFER_INTERNAL_FORMAT",t[t["RENDERBUFFER_RED_SIZE"]=36176]="RENDERBUFFER_RED_SIZE",t[t["RENDERBUFFER_GREEN_SIZE"]=36177]="RENDERBUFFER_GREEN_SIZE",t[t["RENDERBUFFER_BLUE_SIZE"]=36178]="RENDERBUFFER_BLUE_SIZE",t[t["RENDERBUFFER_ALPHA_SIZE"]=36179]="RENDERBUFFER_ALPHA_SIZE",t[t["RENDERBUFFER_DEPTH_SIZE"]=36180]="RENDERBUFFER_DEPTH_SIZE",t[t["RENDERBUFFER_STENCIL_SIZE"]=36181]="RENDERBUFFER_STENCIL_SIZE",t[t["FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE"]=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",t[t["FRAMEBUFFER_ATTACHMENT_OBJECT_NAME"]=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",t[t["FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL"]=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",t[t["FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE"]=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",t[t["COLOR_ATTACHMENT0"]=36064]="COLOR_ATTACHMENT0",t[t["DEPTH_ATTACHMENT"]=36096]="DEPTH_ATTACHMENT",t[t["STENCIL_ATTACHMENT"]=36128]="STENCIL_ATTACHMENT",t[t["DEPTH_STENCIL_ATTACHMENT"]=33306]="DEPTH_STENCIL_ATTACHMENT",t[t["NONE"]=0]="NONE",t[t["FRAMEBUFFER_COMPLETE"]=36053]="FRAMEBUFFER_COMPLETE",t[t["FRAMEBUFFER_INCOMPLETE_ATTACHMENT"]=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",t[t["FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT"]=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",t[t["FRAMEBUFFER_INCOMPLETE_DIMENSIONS"]=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",t[t["FRAMEBUFFER_UNSUPPORTED"]=36061]="FRAMEBUFFER_UNSUPPORTED",t[t["FRAMEBUFFER_BINDING"]=36006]="FRAMEBUFFER_BINDING",t[t["RENDERBUFFER_BINDING"]=36007]="RENDERBUFFER_BINDING",t[t["MAX_RENDERBUFFER_SIZE"]=34024]="MAX_RENDERBUFFER_SIZE",t[t["INVALID_FRAMEBUFFER_OPERATION"]=1286]="INVALID_FRAMEBUFFER_OPERATION",t[t["UNPACK_FLIP_Y_WEBGL"]=37440]="UNPACK_FLIP_Y_WEBGL",t[t["UNPACK_PREMULTIPLY_ALPHA_WEBGL"]=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",t[t["CONTEXT_LOST_WEBGL"]=37442]="CONTEXT_LOST_WEBGL",t[t["UNPACK_COLORSPACE_CONVERSION_WEBGL"]=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",t[t["BROWSER_DEFAULT_WEBGL"]=37444]="BROWSER_DEFAULT_WEBGL",t[t["COPY_SRC"]=1]="COPY_SRC",t[t["COPY_DST"]=2]="COPY_DST",t[t["SAMPLED"]=4]="SAMPLED",t[t["STORAGE"]=8]="STORAGE",t[t["RENDER_ATTACHMENT"]=16]="RENDER_ATTACHMENT"})(S||(S={}));var O,g,I,v,y=function(){function t(){u()(this,t),this.config=void 0}return E()(t,[{key:"get",value:function(){return this.config}},{key:"set",value:function(t){this.config=t}}]),t}();"undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);(function(t){t["Void"]="Void",t["Boolean"]="Boolean",t["Float"]="Float",t["Uint32"]="Uint32",t["Int32"]="Int32",t["Vector"]="Vector",t["Vector2Float"]="vec2<f32>",t["Vector3Float"]="vec3<f32>",t["Vector4Float"]="vec4<f32>",t["Vector2Boolean"]="vec2<bool>",t["Vector3Boolean"]="vec3<bool>",t["Vector4Boolean"]="vec4<bool>",t["Vector2Uint"]="vec2<u32>",t["Vector3Uint"]="vec3<u32>",t["Vector4Uint"]="vec4<u32>",t["Vector2Int"]="vec2<i32>",t["Vector3Int"]="vec3<i32>",t["Vector4Int"]="vec4<i32>",t["Matrix"]="Matrix",t["Matrix3x3Float"]="mat3x3<f32>",t["Matrix4x4Float"]="mat4x4<i32>",t["Struct"]="Struct",t["FloatArray"]="Float[]",t["Vector4FloatArray"]="vec4<f32>[]"})(O||(O={})),function(t){t["Program"]="Program",t["Identifier"]="Identifier",t["VariableDeclaration"]="VariableDeclaration",t["BlockStatement"]="BlockStatement",t["ReturnStatement"]="ReturnStatement",t["FunctionDeclaration"]="FunctionDeclaration",t["VariableDeclarator"]="VariableDeclarator",t["AssignmentExpression"]="AssignmentExpression",t["LogicalExpression"]="LogicalExpression",t["BinaryExpression"]="BinaryExpression",t["ArrayExpression"]="ArrayExpression",t["UnaryExpression"]="UnaryExpression",t["UpdateExpression"]="UpdateExpression",t["FunctionExpression"]="FunctionExpression",t["MemberExpression"]="MemberExpression",t["ConditionalExpression"]="ConditionalExpression",t["ExpressionStatement"]="ExpressionStatement",t["CallExpression"]="CallExpression",t["NumThreadStatement"]="NumThreadStatement",t["StorageStatement"]="StorageStatement",t["DoWhileStatement"]="DoWhileStatement",t["WhileStatement"]="WhileStatement",t["ForStatement"]="ForStatement",t["BreakStatement"]="BreakStatement",t["ContinueStatement"]="ContinueStatement",t["IfStatement"]="IfStatement",t["ImportedFunctionStatement"]="ImportedFunctionStatement"}(g||(g={})),function(t){t["Input"]="Input",t["Output"]="Output",t["Uniform"]="Uniform",t["Workgroup"]="Workgroup",t["UniformConstant"]="UniformConstant",t["Image"]="Image",t["StorageBuffer"]="StorageBuffer",t["Private"]="Private",t["Function"]="Function"}(I||(I={})),function(t){t["GLSL100"]="GLSL100",t["GLSL450"]="GLSL450",t["WGSL"]="WGSL"}(v||(v={}));var C="__DefineValuePlaceholder__";function L(){if("undefined"!==typeof document)return document.createElement("canvas");throw new Error("Cannot create a canvas in this context")}function b(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?b(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P,M,U,D,x,B,F,w,G,X,j,H,k,V,W=function(){function t(e,n){u()(this,t),this.engine=e,this.configService=n,this.model=void 0,this.dirty=!0,this.compiledBundle=void 0,this.initPromise=void 0}return E()(t,[{key:"init",value:function(){var t=this.configService.get(),e=t.canvas,n=t.engineOptions;this.initPromise=this.engine.init(m({canvas:e||L(),antialiasing:!1},n))}},{key:"setBundle",value:function(t){this.compiledBundle=JSON.parse(JSON.stringify(t))}},{key:"setDispatch",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.dispatch=t),this}},{key:"setMaxIteration",value:function(t){return this.compiledBundle.context&&(this.compiledBundle.context.maxIteration=t),this}},{key:"setBinding",value:function(t,e){var n=this;if("string"===typeof t){var r=_()(e)||h()(e)||A()(e);if(this.compiledBundle&&this.compiledBundle.context){var i=this.compiledBundle.context.defines.find((function(e){return e.name===t}));if(i)return i.value=e,this;var a=this.compiledBundle.context.uniforms.find((function(e){return e.name===t}));a&&(r?(a.data=e,a.isReferer=!1,a.storageClass===I.Uniform?this.model&&this.model.updateUniform(t,e):this.model&&this.model.updateBuffer(t,e)):(a.isReferer=!0,a.data=e))}}else Object.keys(t).forEach((function(e){n.setBinding(e,t[e])}));return this}},{key:"execute",value:function(){var t=i()(R.a.mark((function t(){var e,n,r=this,i=arguments;return R.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=i.length>0&&void 0!==i[0]?i[0]:1,!this.dirty){t.next=6;break}return this.compiledBundle.context&&(e>1?this.compiledBundle.context.maxIteration=e:this.compiledBundle.context.maxIteration++),t.next=5,this.compile();case 5:this.dirty=!1;case 6:for(this.engine.beginFrame(),this.engine.clear({}),this.compiledBundle.context&&this.compiledBundle.context.uniforms.filter((function(t){var e=t.isReferer;return e})).forEach((function(t){var e=t.data,n=t.name;r.model.confirmInput(e.model,n)})),n=0;n<e;n++)this.model.run();return this.engine.endFrame(),t.abrupt("return",this);case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"getOutput",value:function(){var t=i()(R.a.mark((function t(){return R.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",this.model.readData());case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"compile",value:function(){var t=i()(R.a.mark((function t(){var e,n,r;return R.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.initPromise;case 2:return e=m({},this.compiledBundle.context),n=this.engine.supportWebGPU?this.engine.useWGSL?v.WGSL:v.GLSL450:v.GLSL100,r=this.compiledBundle.shaders[n],e.defines.filter((function(t){return t.runtime})).forEach((function(t){var e="".concat(C).concat(t.name);r=r.replace(e,"".concat(t.value))})),e.shader=r,e.uniforms.forEach((function(t){if(!t.data&&t.storageClass===I.StorageBuffer){var n=1;t.type===O.FloatArray?n=1:t.type===O.Vector4FloatArray&&(n=4),t.data=new Float32Array(e.output.length*n).fill(0)}})),this.compiledBundle.context=e,t.next=11,this.engine.createComputeModel(this.compiledBundle.context);case 11:this.model=t.sent;case 12:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}]),t}(),Y=n("7dbb"),K=n.n(Y),z=function(){function t(e,n){u()(this,t),this.attribute=void 0,this.buffer=void 0;var r=n.buffer,i=n.offset,a=n.stride,o=n.normalized,s=n.size,c=n.divisor;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:a||0,normalized:o||!1,divisor:c||0},s&&(this.attribute.size=s)}return E()(t,[{key:"get",value:function(){return this.attribute}},{key:"updateBuffer",value:function(t){this.buffer.subData(t)}},{key:"destroy",value:function(){this.buffer.destroy()}}]),t}(),Z=(P={},o()(P,S.POINTS,"points"),o()(P,S.LINES,"lines"),o()(P,S.LINE_LOOP,"line loop"),o()(P,S.LINE_STRIP,"line strip"),o()(P,S.TRIANGLES,"triangles"),o()(P,S.TRIANGLE_FAN,"triangle fan"),o()(P,S.TRIANGLE_STRIP,"triangle strip"),P),q=(M={},o()(M,S.STATIC_DRAW,"static"),o()(M,S.DYNAMIC_DRAW,"dynamic"),o()(M,S.STREAM_DRAW,"stream"),M),Q=(U={},o()(U,S.BYTE,"int8"),o()(U,S.UNSIGNED_INT,"int16"),o()(U,S.INT,"int32"),o()(U,S.UNSIGNED_BYTE,"uint8"),o()(U,S.UNSIGNED_SHORT,"uint16"),o()(U,S.UNSIGNED_INT,"uint32"),o()(U,S.FLOAT,"float"),U),J=(D={},o()(D,S.ALPHA,"alpha"),o()(D,S.LUMINANCE,"luminance"),o()(D,S.LUMINANCE_ALPHA,"luminance alpha"),o()(D,S.RGB,"rgb"),o()(D,S.RGBA,"rgba"),o()(D,S.RGBA4,"rgba4"),o()(D,S.RGB5_A1,"rgb5 a1"),o()(D,S.RGB565,"rgb565"),o()(D,S.DEPTH_COMPONENT,"depth"),o()(D,S.DEPTH_STENCIL,"depth stencil"),D),$=(x={},o()(x,S.DONT_CARE,"dont care"),o()(x,S.NICEST,"nice"),o()(x,S.FASTEST,"fast"),x),tt=(B={},o()(B,S.NEAREST,"nearest"),o()(B,S.LINEAR,"linear"),o()(B,S.LINEAR_MIPMAP_LINEAR,"mipmap"),o()(B,S.NEAREST_MIPMAP_LINEAR,"nearest mipmap linear"),o()(B,S.LINEAR_MIPMAP_NEAREST,"linear mipmap nearest"),o()(B,S.NEAREST_MIPMAP_NEAREST,"nearest mipmap nearest"),B),et=(F={},o()(F,S.REPEAT,"repeat"),o()(F,S.CLAMP_TO_EDGE,"clamp"),o()(F,S.MIRRORED_REPEAT,"mirror"),F),nt=(w={},o()(w,S.NONE,"none"),o()(w,S.BROWSER_DEFAULT_WEBGL,"browser"),w),rt=(G={},o()(G,S.NEVER,"never"),o()(G,S.ALWAYS,"always"),o()(G,S.LESS,"less"),o()(G,S.LEQUAL,"lequal"),o()(G,S.GREATER,"greater"),o()(G,S.GEQUAL,"gequal"),o()(G,S.EQUAL,"equal"),o()(G,S.NOTEQUAL,"notequal"),G),it=(X={},o()(X,S.FUNC_ADD,"add"),o()(X,S.MIN_EXT,"min"),o()(X,S.MAX_EXT,"max"),o()(X,S.FUNC_SUBTRACT,"subtract"),o()(X,S.FUNC_REVERSE_SUBTRACT,"reverse subtract"),X),at=(j={},o()(j,S.ZERO,"zero"),o()(j,S.ONE,"one"),o()(j,S.SRC_COLOR,"src color"),o()(j,S.ONE_MINUS_SRC_COLOR,"one minus src color"),o()(j,S.SRC_ALPHA,"src alpha"),o()(j,S.ONE_MINUS_SRC_ALPHA,"one minus src alpha"),o()(j,S.DST_COLOR,"dst color"),o()(j,S.ONE_MINUS_DST_COLOR,"one minus dst color"),o()(j,S.DST_ALPHA,"dst alpha"),o()(j,S.ONE_MINUS_DST_ALPHA,"one minus dst alpha"),o()(j,S.CONSTANT_COLOR,"constant color"),o()(j,S.ONE_MINUS_CONSTANT_COLOR,"one minus constant color"),o()(j,S.CONSTANT_ALPHA,"constant alpha"),o()(j,S.ONE_MINUS_CONSTANT_ALPHA,"one minus constant alpha"),o()(j,S.SRC_ALPHA_SATURATE,"src alpha saturate"),j),ot=(H={},o()(H,S.NEVER,"never"),o()(H,S.ALWAYS,"always"),o()(H,S.LESS,"less"),o()(H,S.LEQUAL,"lequal"),o()(H,S.GREATER,"greater"),o()(H,S.GEQUAL,"gequal"),o()(H,S.EQUAL,"equal"),o()(H,S.NOTEQUAL,"notequal"),H),st=(k={},o()(k,S.ZERO,"zero"),o()(k,S.KEEP,"keep"),o()(k,S.REPLACE,"replace"),o()(k,S.INVERT,"invert"),o()(k,S.INCR,"increment"),o()(k,S.DECR,"decrement"),o()(k,S.INCR_WRAP,"increment wrap"),o()(k,S.DECR_WRAP,"decrement wrap"),k),ut=(V={},o()(V,S.FRONT,"front"),o()(V,S.BACK,"back"),V),ct=function(){function t(e,n){u()(this,t),this.buffer=void 0;var r=n.data,i=n.usage,a=n.type;this.buffer=e.buffer({data:r,usage:q[i||S.STATIC_DRAW],type:Q[a||S.UNSIGNED_BYTE]})}return E()(t,[{key:"get",value:function(){return this.buffer}},{key:"destroy",value:function(){}},{key:"subData",value:function(t){var e=t.data,n=t.offset;this.buffer.subdata(e,n)}}]),t}(),Et=n("448a"),lt=n.n(Et);function ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ht(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _t="attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}",Tt=0,At=function(){function t(e,n){var r=this;u()(this,t),this.reGl=e,this.context=n,this.entity=N(),this.texFBO=void 0,this.computeCommand=void 0,this.textureCache={},this.outputTextureName=void 0,this.swapOutputTextureName=void 0,this.compiledPingpong=void 0,this.dynamicPingpong=void 0;var i={};this.context.uniforms.forEach((function(t){var e=t.name,n=t.type,a=t.data,o=t.isReferer,s=t.storageClass;if(s===I.StorageBuffer){if(o)r.textureCache[e]={data:void 0},i["".concat(e,"Size")]=function(){return a.compiledBundle.context.output.textureSize};else{r.textureCache[e]=r.calcDataTexture(e,n,a);var u=r.textureCache[e],c=u.textureWidth,E=u.isOutput;i["".concat(e,"Size")]=[c,c],E&&(r.outputTextureName=e,r.context.needPingpong&&(r.outputTextureName="".concat(e,"Output"),r.textureCache[r.outputTextureName]=r.calcDataTexture(e,n,a)))}i[e]=function(){return r.textureCache[e].texture}}else if(s===I.Uniform){if(a&&(Array.isArray(a)||h()(a))&&a.length>16)throw new Error("invalid data type ".concat(n));i[e]=function(){return t.data}}}));var a=this.getOuputDataTexture(),o=a.textureWidth,s=a.texelCount;i.u_OutputTextureSize=[o,o],i.u_OutputTexelCount=s,this.context.output.textureSize=[o,o];var c={attributes:{a_Position:[[-1,1,0],[-1,-1,0],[1,1,0],[1,-1,0]],a_TexCoord:[[0,1],[0,0],[1,1],[1,0]]},frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(this.context.shader),uniforms:i,vert:_t,primitive:"triangle strip",count:4};this.computeCommand=this.reGl(c)}return E()(t,[{key:"run",value:function(){var t=this;this.context.maxIteration>1&&this.context.needPingpong&&(this.compiledPingpong=!0),(this.compiledPingpong||this.dynamicPingpong)&&this.swap(),this.texFBO=this.reGl.framebuffer({color:this.getOuputDataTexture().texture}),this.texFBO.use((function(){t.computeCommand()}))}},{key:"readData",value:function(){var t=i()(R.a.mark((function t(){var e,n,r,i,a,o,s,u,c=this;return R.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.reGl({framebuffer:this.texFBO})((function(){e=c.reGl.read()})),!e){t.next=6;break}if(n=this.getOuputDataTexture(),r=n.originalDataLength,i=n.elementsPerTexel,a=n.typedArrayConstructor,o=void 0===a?Float32Array:a,s=[],4!==i)for(u=0;u<e.length;u+=4)1===i?s.push(e[u]):2===i?s.push(e[u],e[u+1]):s.push(e[u],e[u+1],e[u+2]);else s=e;return t.abrupt("return",new o(s.slice(0,r)));case 6:return t.abrupt("return",new Float32Array);case 7:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"confirmInput",value:function(t,e){var n;this.entity===t.entity?(this.dynamicPingpong=!0,n=this):n=t,this.textureCache[e].id=n.getOuputDataTexture().id,this.textureCache[e].texture=n.getOuputDataTexture().texture}},{key:"updateUniform",value:function(){}},{key:"updateBuffer",value:function(t,e){var n=this.context.uniforms.find((function(e){var n=e.name;return n===t}));if(n){var r=this.calcDataTexture(t,n.type,e),i=r.texture,a=r.data;this.textureCache[t].data=a,this.textureCache[t].texture=i}}},{key:"destroy",value:function(){}},{key:"swap",value:function(){if(this.swapOutputTextureName||this.createSwapOutputDataTexture(),this.compiledPingpong){var t=this.context.output.name;this.textureCache[t].id=this.getOuputDataTexture().id,this.textureCache[t].texture=this.getOuputDataTexture().texture}var e=this.outputTextureName;this.outputTextureName=this.swapOutputTextureName,this.swapOutputTextureName=e}},{key:"getOuputDataTexture",value:function(){return this.textureCache[this.outputTextureName]}},{key:"createSwapOutputDataTexture",value:function(){var t=this.cloneDataTexture(this.getOuputDataTexture());this.swapOutputTextureName="".concat(this.entity,"-swap"),this.textureCache[this.swapOutputTextureName]=t}},{key:"cloneDataTexture",value:function(t){var e=t.data,n=t.textureWidth;return ft(ft({},t),{},{id:Tt++,texture:this.reGl.texture({width:n,height:n,data:e,type:"float"})})}},{key:"calcDataTexture",value:function(t,e,n){var r=1;e===O.Vector4FloatArray&&(r=4);for(var i=[],a=0;a<n.length;a+=r)1===r?i.push(n[a],0,0,0):2===r?i.push(n[a],n[a+1],0,0):3===r?i.push(n[a],n[a+1],n[a+2],0):4===r&&i.push(n[a],n[a+1],n[a+2],n[a+3]);var o=n.length,s=Math.ceil(o/r),u=Math.ceil(Math.sqrt(s)),c=u*u;s<c&&i.push.apply(i,lt()(new Array(4*(c-s)).fill(0)));var E=this.reGl.texture({width:u,height:u,data:i,type:"float"});return{id:Tt++,data:i,originalDataLength:o,typedArrayConstructor:h()(n)?n.constructor:void 0,textureWidth:u,texture:E,texelCount:s,elementsPerTexel:r,isOutput:t===this.context.output.name}}}]),t}(),pt=function(){function t(e,n){u()(this,t),this.elements=void 0;var r=n.data,i=n.usage,a=n.type,o=n.count;this.elements=e.elements({data:r,usage:q[i||S.STATIC_DRAW],type:Q[a||S.UNSIGNED_BYTE],count:o})}return E()(t,[{key:"get",value:function(){return this.elements}},{key:"subData",value:function(t){var e=t.data;this.elements.subdata(e)}},{key:"destroy",value:function(){this.elements.destroy()}}]),t}(),Rt=function(){function t(e,n){u()(this,t),this.framebuffer=void 0;var r=n.width,i=n.height,a=n.color,o=n.colors,s=(n.depth,n.stencil,{width:r,height:i});Array.isArray(o)&&(s.colors=o.map((function(t){return t.get()}))),a&&"boolean"!==typeof a&&(s.color=a.get()),this.framebuffer=e.framebuffer(s)}return E()(t,[{key:"get",value:function(){return this.framebuffer}},{key:"destroy",value:function(){this.framebuffer.destroy()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.framebuffer.resize(e,n)}}]),t}(),dt=n("7037"),Nt=n.n(dt),St=n("60ed"),Ot=n.n(St);function gt(t){var e={};return Object.keys(t).forEach((function(n){It(n,t[n],e,"")})),e}function It(t,e,n,r){null===e||"number"===typeof e||"boolean"===typeof e||Array.isArray(e)&&"number"===typeof e[0]||h()(e)||""===e||void 0!==e.resize?n["".concat(r&&r+".").concat(t)]=e:(Ot()(e)&&Object.keys(e).forEach((function(i){It(i,e[i],n,"".concat(r&&r+".").concat(t))})),Array.isArray(e)&&e.forEach((function(e,i){Object.keys(e).forEach((function(a){It(a,e[a],n,"".concat(r&&r+".").concat(t,"[").concat(i,"]"))}))})))}function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Ct=function(){function t(e,n){u()(this,t),this.reGl=void 0,this.drawCommand=void 0,this.uniforms={},this.reGl=e;var r=n.vs,i=n.fs,a=n.defines,o=n.attributes,s=n.uniforms,c=n.primitive,E=n.count,l=n.elements,h=n.depth,f=n.blend,_=n.stencil,T=n.cull,A=n.instances,p=n.scissor,R=n.viewport,d={};s&&(this.uniforms=gt(s),Object.keys(s).forEach((function(t){d[t]=e.prop(t)})));var N={};Object.keys(o).forEach((function(t){N[t]=o[t].get()}));var O=a&&this.generateDefines(a)||"",g={attributes:N,frag:"#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n".concat(O,"\n").concat(i),uniforms:d,vert:"\n".concat(O,"\n").concat(r),primitive:Z[void 0===c?S.TRIANGLES:c]};A&&(g.instances=A),E&&(g.count=E),l&&(g.elements=l.get()),p&&(g.scissor=p),R&&(g.viewport=R),this.initDepthDrawParams({depth:h},g),this.initBlendDrawParams({blend:f},g),this.initStencilDrawParams({stencil:_},g),this.initCullDrawParams({cull:T},g),this.drawCommand=e(g)}return E()(t,[{key:"addUniforms",value:function(t){this.uniforms=yt(yt({},this.uniforms),gt(t))}},{key:"draw",value:function(t){var e=yt(yt({},this.uniforms),gt(t.uniforms||{})),n={};Object.keys(e).forEach((function(t){var r=Nt()(e[t]);"boolean"===r||"number"===r||Array.isArray(e[t])||e[t].BYTES_PER_ELEMENT?n[t]=e[t]:"string"===r||(n[t]=e[t].get())})),this.drawCommand(n)}},{key:"destroy",value:function(){}},{key:"initDepthDrawParams",value:function(t,e){var n=t.depth;n&&(e.depth={enable:void 0===n.enable||!!n.enable,mask:void 0===n.mask||!!n.mask,func:rt[n.func||S.LESS],range:n.range||[0,1]})}},{key:"initBlendDrawParams",value:function(t,e){var n=t.blend;if(n){var r=n.enable,i=n.func,a=n.equation,o=n.color,s=void 0===o?[0,0,0,0]:o;e.blend={enable:!!r,func:{srcRGB:at[i&&i.srcRGB||S.SRC_ALPHA],srcAlpha:at[i&&i.srcAlpha||S.SRC_ALPHA],dstRGB:at[i&&i.dstRGB||S.ONE_MINUS_SRC_ALPHA],dstAlpha:at[i&&i.dstAlpha||S.ONE_MINUS_SRC_ALPHA]},equation:{rgb:it[a&&a.rgb||S.FUNC_ADD],alpha:it[a&&a.alpha||S.FUNC_ADD]},color:s}}}},{key:"initStencilDrawParams",value:function(t,e){var n=t.stencil;if(n){var r=n.enable,i=n.mask,a=void 0===i?-1:i,o=n.func,s=void 0===o?{cmp:S.ALWAYS,ref:0,mask:-1}:o,u=n.opFront,c=void 0===u?{fail:S.KEEP,zfail:S.KEEP,zpass:S.KEEP}:u,E=n.opBack,l=void 0===E?{fail:S.KEEP,zfail:S.KEEP,zpass:S.KEEP}:E;e.stencil={enable:!!r,mask:a,func:yt(yt({},s),{},{cmp:ot[s.cmp]}),opFront:{fail:st[c.fail],zfail:st[c.zfail],zpass:st[c.zpass]},opBack:{fail:st[l.fail],zfail:st[l.zfail],zpass:st[l.zpass]}}}}},{key:"initCullDrawParams",value:function(t,e){var n=t.cull;if(n){var r=n.enable,i=n.face,a=void 0===i?S.BACK:i;e.cull={enable:!!r,face:ut[a]}}}},{key:"generateDefines",value:function(t){return Object.keys(t).map((function(e){return"#define ".concat(e," ").concat(Number(t[e]))})).join("\n")}}]),t}(),Lt=function(){function t(e,n){u()(this,t),this.texture=void 0,this.width=void 0,this.height=void 0;var r=n.data,i=n.type,a=void 0===i?S.UNSIGNED_BYTE:i,o=n.width,s=n.height,c=n.flipY,E=void 0!==c&&c,l=n.format,h=void 0===l?S.RGBA:l,f=n.mipmap,_=void 0!==f&&f,T=n.wrapS,A=void 0===T?S.CLAMP_TO_EDGE:T,p=n.wrapT,R=void 0===p?S.CLAMP_TO_EDGE:p,d=n.aniso,N=void 0===d?0:d,O=n.alignment,g=void 0===O?1:O,I=n.premultiplyAlpha,v=void 0!==I&&I,y=n.mag,C=void 0===y?S.NEAREST:y,L=n.min,b=void 0===L?S.NEAREST:L,m=n.colorSpace,P=void 0===m?S.BROWSER_DEFAULT_WEBGL:m;this.width=o,this.height=s;var M={width:o,height:s,type:Q[a],format:J[h],wrapS:et[A],wrapT:et[R],mag:tt[C],min:tt[b],alignment:g,flipY:E,colorSpace:nt[P],premultiplyAlpha:v,aniso:N};r&&(M.data=r),"number"===typeof _?M.mipmap=$[_]:"boolean"===typeof _&&(M.mipmap=_),this.texture=e.texture(M)}return E()(t,[{key:"get",value:function(){return this.texture}},{key:"update",value:function(){this.texture._texture.bind()}},{key:"resize",value:function(t){var e=t.width,n=t.height;this.texture.resize(e,n),this.width=e,this.height=n}},{key:"destroy",value:function(){this.texture.destroy()}}]),t}(),bt=function(){function t(){var e=this;u()(this,t),this.supportWebGPU=!1,this.useWGSL=!1,this.$canvas=void 0,this.gl=void 0,this.inited=void 0,this.createModel=function(){var t=i()(R.a.mark((function t(n){return R.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.uniforms){t.next=3;break}return t.next=3,Promise.all(Object.keys(n.uniforms).map(function(){var t=i()(R.a.mark((function t(e){var r;return R.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n.uniforms[e]||void 0===n.uniforms[e].load){t.next=5;break}return t.next=3,n.uniforms[e].load();case 3:r=t.sent,n.uniforms[e]=r;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:return t.abrupt("return",new Ct(e.gl,n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.createAttribute=function(t){return new z(e.gl,t)},this.createBuffer=function(t){return new ct(e.gl,t)},this.createElements=function(t){return new pt(e.gl,t)},this.createTexture2D=function(t){return new Lt(e.gl,t)},this.createFramebuffer=function(t){return new Rt(e.gl,t)},this.useFramebuffer=function(t,n){e.gl({framebuffer:t?t.get():null})(n)},this.createComputeModel=function(){var t=i()(R.a.mark((function t(n){return R.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new At(e.gl,n));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),this.clear=function(t){var n=t.color,r=t.depth,i=t.stencil,a=t.framebuffer,o=void 0===a?null:a,s={color:n,depth:r,stencil:i};s.framebuffer=null===o?o:o.get(),e.gl.clear(s)},this.setScissor=function(t){e.gl&&e.gl._gl&&(t.enable&&t.box?(e.gl._gl.enable(S.SCISSOR_TEST),e.gl._gl.scissor(t.box.x,t.box.y,t.box.width,t.box.height)):e.gl._gl.disable(S.SCISSOR_TEST),e.gl._refresh())},this.viewport=function(t){var n=t.x,r=t.y,i=t.width,a=t.height;e.gl&&e.gl._gl&&(e.gl._gl.viewport(n,r,i,a),e.gl._refresh())},this.readPixels=function(t){var n=t.framebuffer,r=t.x,i=t.y,a=t.width,o=t.height,s={x:r,y:i,width:a,height:o};return n&&(s.framebuffer=n.get()),e.gl.read(s)},this.getCanvas=function(){return e.$canvas},this.getGLContext=function(){return e.gl._gl},this.destroy=function(){e.gl&&(e.gl.destroy(),e.inited=!1)}}return E()(t,[{key:"init",value:function(){var t=i()(R.a.mark((function t(e){return R.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.inited){t.next=2;break}return t.abrupt("return");case 2:return this.$canvas=e.canvas,t.next=5,new Promise((function(t,n){K()({canvas:e.canvas,attributes:{alpha:!0,antialias:e.antialias,premultipliedAlpha:!0},pixelRatio:1,extensions:["OES_element_index_uint","OES_texture_float","OES_standard_derivatives","angle_instanced_arrays"],optionalExtensions:["EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture"],profile:!0,onDone:function(e,r){!e&&r||n(e),t(r)}})}));case 5:this.gl=t.sent,this.inited=!0;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()},{key:"isFloatSupported",value:function(){return this.gl.limits.readFloat}},{key:"beginFrame",value:function(){}},{key:"endFrame",value:function(){}}]),t}(),mt=function(){function t(){u()(this,t),this.engine=void 0,this.configService=new y}return E()(t,[{key:"setConfig",value:function(t){this.configService.set(t)}},{key:"setEngine",value:function(t){this.engine=t}},{key:"createEntity",value:function(){return N()}},{key:"createKernel",value:function(t){var e=new W(this.engine,this.configService);return"string"===typeof t?e.setBundle(JSON.parse(t)):e.setBundle(t),e.init(),e}},{key:"destroy",value:function(){this.engine.destroy()}}],[{key:"create",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=new t;return n.setConfig(e),n.setEngine(new bt),n}}]),t}()},bfb1:function(t,e,n){"use strict";n("68de"),n("6855");var r=n("c029");n.d(e,"Canvas",(function(){return r["a"]}));n("e73e")},c029:function(t,e,n){"use strict";var r=n("9ab4"),i=n("6855"),a=n("22f9"),o=n("7349"),s=n("00f9"),u=n("73ec"),c=n("68de"),E=n("e73e"),l=n("8937"),h=/^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,f=/^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,_=/[\d.]+:(#[^\s]+|[^)]+\))/gi;function T(t){var e=t.match(_);if(!e)return"";var n="";return e.sort((function(t,e){return t=t.split(":"),e=e.split(":"),Number(t[0])-Number(e[0])})),Object(l["each"])(e,(function(t){t=t.split(":"),n+='<stop offset="'+t[0]+'" stop-color="'+t[1]+'"></stop>'})),n}function A(t,e){var n,r,i=h.exec(t),a=Object(l["mod"])(Object(l["toRadian"])(parseFloat(i[1])),2*Math.PI),o=i[2];a>=0&&a<.5*Math.PI?(n={x:0,y:0},r={x:1,y:1}):.5*Math.PI<=a&&a<Math.PI?(n={x:1,y:0},r={x:0,y:1}):Math.PI<=a&&a<1.5*Math.PI?(n={x:1,y:1},r={x:0,y:0}):(n={x:0,y:1},r={x:1,y:0});var s=Math.tan(a),u=s*s,c=(r.x-n.x+s*(r.y-n.y))/(u+1)+n.x,E=s*(r.x-n.x+s*(r.y-n.y))/(u+1)+n.y;e.setAttribute("x1",n.x),e.setAttribute("y1",n.y),e.setAttribute("x2",c),e.setAttribute("y2",E),e.innerHTML=T(o)}function p(t,e){var n=f.exec(t),r=parseFloat(n[1]),i=parseFloat(n[2]),a=parseFloat(n[3]),o=n[4];e.setAttribute("cx",r),e.setAttribute("cy",i),e.setAttribute("r",a),e.innerHTML=T(o)}var R=function(){function t(t){this.cfg={};var e=null,n=Object(l["uniqueId"])("gradient_");return"l"===t.toLowerCase()[0]?(e=Object(u["b"])("linearGradient"),A(t,e)):(e=Object(u["b"])("radialGradient"),p(t,e)),e.setAttribute("id",n),this.el=e,this.id=n,this.cfg=t,this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),d=R,N={shadowColor:"color",shadowOpacity:"opacity",shadowBlur:"blur",shadowOffsetX:"dx",shadowOffsetY:"dy"},S={x:"-40%",y:"-40%",width:"200%",height:"200%"},O=function(){function t(t){this.type="filter",this.cfg={},this.type="filter";var e=Object(u["b"])("filter");return Object(l["each"])(S,(function(t,n){e.setAttribute(n,t)})),this.el=e,this.id=Object(l["uniqueId"])("filter_"),this.el.id=this.id,this.cfg=t,this._parseShadow(t,e),this}return t.prototype.match=function(t,e){if(this.type!==t)return!1;var n=!0,r=this.cfg;return Object(l["each"])(Object.keys(r),(function(t){if(r[t]!==e[t])return n=!1,!1})),n},t.prototype.update=function(t,e){var n=this.cfg;return n[N[t]]=e,this._parseShadow(n,this.el),this},t.prototype._parseShadow=function(t,e){var n='<feDropShadow\n      dx="'+(t.dx||0)+'"\n      dy="'+(t.dy||0)+'"\n      stdDeviation="'+(t.blur?t.blur/10:0)+'"\n      flood-color="'+(t.color?t.color:"#000")+'"\n      flood-opacity="'+(t.opacity?t.opacity:1)+'"\n      />';e.innerHTML=n},t}(),g=O,I=function(){function t(t,e){this.cfg={};var n=Object(u["b"])("marker"),r=Object(l["uniqueId"])("marker_");n.setAttribute("id",r);var i=Object(u["b"])("path");i.setAttribute("stroke",t.stroke||"none"),i.setAttribute("fill",t.fill||"none"),n.appendChild(i),n.setAttribute("overflow","visible"),n.setAttribute("orient","auto-start-reverse"),this.el=n,this.child=i,this.id=r;var a=t["marker-start"===e?"startArrow":"endArrow"];return this.stroke=t.stroke||"#000",!0===a?this._setDefaultPath(e,i):(this.cfg=a,this._setMarker(t.lineWidth,i)),this}return t.prototype.match=function(){return!1},t.prototype._setDefaultPath=function(t,e){var n=this.el;e.setAttribute("d","M0,0 L"+10*Math.cos(Math.PI/6)+",5 L0,10"),n.setAttribute("refX",""+10*Math.cos(Math.PI/6)),n.setAttribute("refY","5")},t.prototype._setMarker=function(t,e){var n=this.el,r=this.cfg.path,i=this.cfg.d;Object(l["isArray"])(r)&&(r=r.map((function(t){return t.join(" ")})).join("")),e.setAttribute("d",r),n.appendChild(e),i&&n.setAttribute("refX",""+i/t)},t.prototype.update=function(t){var e=this.child;e.attr?e.attr("fill",t):e.setAttribute("fill",t)},t}(),v=I,y=function(){function t(t){this.type="clip",this.cfg={};var e=Object(u["b"])("clipPath");this.el=e,this.id=Object(l["uniqueId"])("clip_"),e.id=this.id;var n=t.cfg.el;return e.appendChild(n),this.cfg=t,this}return t.prototype.match=function(){return!1},t.prototype.remove=function(){var t=this.el;t.parentNode.removeChild(t)},t}(),C=y,L=/^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,b=function(){function t(t){this.cfg={};var e=Object(u["b"])("pattern");e.setAttribute("patternUnits","userSpaceOnUse");var n=Object(u["b"])("image");e.appendChild(n);var r=Object(l["uniqueId"])("pattern_");e.id=r,this.el=e,this.id=r,this.cfg=t;var i=L.exec(t),a=i[2];n.setAttribute("href",a);var o=new Image;function s(){e.setAttribute("width",""+o.width),e.setAttribute("height",""+o.height)}return a.match(/^data:/i)||(o.crossOrigin="Anonymous"),o.src=a,o.complete?s():(o.onload=s,o.src=o.src),this}return t.prototype.match=function(t,e){return this.cfg===e},t}(),m=b,P=function(){function t(t){var e=Object(u["b"])("defs"),n=Object(l["uniqueId"])("defs_");e.id=n,t.appendChild(e),this.children=[],this.defaultArrow={},this.el=e,this.canvas=t}return t.prototype.find=function(t,e){for(var n=this.children,r=null,i=0;i<n.length;i++)if(n[i].match(t,e)){r=n[i].id;break}return r},t.prototype.findById=function(t){for(var e=this.children,n=null,r=0;r<e.length;r++)if(e[r].id===t){n=e[r];break}return n},t.prototype.add=function(t){this.children.push(t),t.canvas=this.canvas,t.parent=this},t.prototype.getDefaultArrow=function(t,e){var n=t.stroke||t.strokeStyle;if(this.defaultArrow[n])return this.defaultArrow[n].id;var r=new v(t,e);return this.defaultArrow[n]=r,this.el.appendChild(r.el),this.add(r),r.id},t.prototype.addGradient=function(t){var e=new d(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addArrow=function(t,e){var n=new v(t,e);return this.el.appendChild(n.el),this.add(n),n.id},t.prototype.addShadow=function(t){var e=new g(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addPattern=function(t){var e=new m(t);return this.el.appendChild(e.el),this.add(e),e.id},t.prototype.addClip=function(t){var e=new C(t);return this.el.appendChild(e.el),this.add(e),e.id},t}(),M=P,U=function(t){function e(e){return t.call(this,Object(r["__assign"])(Object(r["__assign"])({},e),{autoDraw:!0,renderer:"svg"}))||this}return Object(r["__extends"])(e,t),e.prototype.getShapeBase=function(){return c},e.prototype.getGroupBase=function(){return E["a"]},e.prototype.getShape=function(t,e,n){var r=n.target||n.srcElement;if(!a["a"][r.tagName]){var i=r.parentNode;while(i&&!a["a"][i.tagName])i=i.parentNode;r=i}return this.find((function(t){return t.get("el")===r}))},e.prototype.createDom=function(){var t=Object(u["b"])("svg"),e=new M(t);return t.setAttribute("width",""+this.get("width")),t.setAttribute("height",""+this.get("height")),this.set("context",e),t},e.prototype.onCanvasChange=function(t){var e=this.get("context"),n=this.get("el");if("sort"===t){var r=this.get("children");r&&r.length&&Object(u["d"])(this,(function(t,e){return r.indexOf(t)-r.indexOf(e)?1:0}))}else if("clear"===t){if(n){n.innerHTML="";var i=e.el;i.innerHTML="",n.appendChild(i)}}else"matrix"===t?Object(s["c"])(this):"clip"===t?Object(s["a"])(this,e):"changeSize"===t&&(n.setAttribute("width",""+this.get("width")),n.setAttribute("height",""+this.get("height")))},e.prototype.draw=function(){var t=this.get("context"),e=this.getChildren();Object(s["a"])(this,t),e.length&&Object(o["a"])(t,e)},e}(i["AbstractCanvas"]);e["a"]=U},e73e:function(t,e,n){"use strict";var r=n("9ab4"),i=n("6855"),a=n("8937"),o=n("68de"),s=n("7349"),u=n("00f9"),c=n("22f9"),E=n("73ec"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(r["__extends"])(e,t),e.prototype.isEntityGroup=function(){return!0},e.prototype.createDom=function(){var t=Object(E["b"])("g");this.set("el",t);var e=this.getParent();if(e){var n=e.get("el");n||(n=e.createDom(),e.set("el",n)),n.appendChild(t)}return t},e.prototype.afterAttrsChange=function(e){t.prototype.afterAttrsChange.call(this,e);var n=this.get("canvas");if(n&&n.get("autoDraw")){var r=n.get("context");this.createPath(r,e)}},e.prototype.onCanvasChange=function(t){Object(s["b"])(this,t)},e.prototype.getShapeBase=function(){return o},e.prototype.getGroupBase=function(){return e},e.prototype.draw=function(t){var e=this.getChildren(),n=this.get("el");this.get("destroyed")?n&&n.parentNode.removeChild(n):(n||this.createDom(),Object(u["a"])(this,t),this.createPath(t),e.length&&Object(s["a"])(t,e))},e.prototype.createPath=function(t,e){var n=this.attr(),r=this.get("el");Object(a["each"])(e||n,(function(t,e){c["b"][e]&&r.setAttribute(c["b"][e],t)})),Object(u["c"])(this)},e}(i["AbstractGroup"]);e["a"]=l}}]);