(window["jsonpPaas4"]=window["jsonpPaas4"]||[]).push([["app~1e604d41"],{"41fe":function(e,t,a){"use strict";a("cafd")},adc8:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("div",{staticClass:"name-container"},[t("search-form",{attrs:{searchConfig:e.searchConfig},on:{onSearch:e.onSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,total:e.tableConfig.pagination.totalCount,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showDetail?t("ConfigDetail",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.showDetail,callback:function(t){e.showDetail=t},expression:"showDetail"}}):e._e()],1)])},l=[],n=a("5530"),o=(a("b0c0"),a("d3b7"),a("c5a7")),s=a("082f"),r=a("ec41"),p=a("ff51"),d={filters:{},components:{ConfigDetail:o["default"]},data:function(){return{showDetail:!1,showPasswordDialog:!1,buttonList:[{label:"新增",type:"add",click:this.addInfo}],tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"name",label:"名称",align:"center"},{prop:"moduleType",label:"类型",align:"center"},{prop:"updateUserName",label:"更新人",align:"center"},{prop:"updateDate",label:"更新时间",align:"center"}],operate:{width:220,list:[{label:"编辑",id:"edit"},{label:"删除",id:"delete"}]}},searchConfig:{searchData:{name:""},searchItem:[{type:"input",label:"名称",prop:"name"}],rules:{}}}},mounted:function(){this.getList()},methods:{getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:Object(n["a"])(Object(n["a"])({},this.searchConfig.searchData),{},{componentType:"CACHE"})};this.tableConfig.loading=!0,Object(s["f"])(t).then((function(t){var a,i=Object(r["a"])(t,"data.data");e.tableConfig.tableData=Object(p["a"])(i)?i:[],e.tableConfig.pagination.totalCount=null!==(a=Object(r["a"])(t,"data.totalCount"))&&void 0!==a?a:0})).finally((function(){e.tableConfig.loading=!1}))},addInfo:function(){this.showDetail=!0,this.rowData=null},onSearch:function(){this.tableConfig.pagination.pageNo=1,this.getList()},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),i=e.operate;"delete"===i.id?this.$confirm("确定要删除【".concat(a.name,"】吗?"),{type:"warning"}).then((function(){t.tableConfig.loading=!0,Object(s["a"])(a.id).then((function(e){t.$message.success("删除成功"),t.getList()})).catch((function(e){}))})).catch((function(e){})).finally((function(){t.tableConfig.loading=!1})):"edit"===i.id&&(this.rowData=a,this.showDetail=!0)}}},c=d,y=a("2877"),u=Object(y["a"])(c,i,l,!1,null,"a90cb722",null);t["default"]=u.exports},c5a7:function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a"),a("b0c0"),a("498a");var i=function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"medium","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.form,rules:e.rules}},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name","string"===typeof t?t.trim():t)},expression:"form.name"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"组件",prop:"moduleType"}},[t("el-select",{staticClass:"w-100",attrs:{placeholder:"请选择组件"},model:{value:e.form.moduleType,callback:function(t){e.$set(e.form,"moduleType",t)},expression:"form.moduleType"}},e._l(e.opts_modules,(function(e){return t("el-option",{key:e.name,attrs:{label:e.name,value:e.name}})})),1)],1)],1)],1),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}]},[t("el-row",[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.form.tableData,border:"",height:"auto","row-class-name":e.tableRowClassName}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"name",label:"参数项",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[""==a.row.description&&a.row.description?t("span",[e._v(e._s(a.row.key))]):t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:a.row.description,placement:"top-start"}},[t("span",[e._v(e._s(a.row.key))])])]}}])}),t("el-table-column",{attrs:{prop:"title",label:"中文名称",width:"300"}}),t("el-table-column",{attrs:{label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(a){var i=a.$index,l=a.row;return[t("div",[t("el-form-item",{attrs:{prop:"tableData.".concat(i,".value"),"label-width":"0"}},["radio"===l.type?t("span",[t("el-radio-group",{model:{value:l.value,callback:function(t){e.$set(l,"value",t)},expression:"row.value"}},e._l(l.options,(function(a){return t("el-radio",{key:a.id,attrs:{label:a.value}},[e._v(e._s(a.label))])})),1)],1):e._e(),"input"===l.type?t("span",[t("el-input",{attrs:{size:"mini",disabled:l.readonly},model:{value:l.value,callback:function(t){e.$set(l,"value",t)},expression:"row.value"}})],1):e._e(),"inputNumber"===l.type?t("span",[t("el-input-number",{attrs:{min:l.min,size:"mini",disabled:l.readonly},model:{value:l.value,callback:function(t){e.$set(l,"value",t)},expression:"row.value"}})],1):e._e(),"select"===l.type?t("el-select",{model:{value:l.value,callback:function(t){e.$set(l,"value",t)},expression:"row.value"}},e._l(l.options,(function(a){return t("el-option",{key:a.id,attrs:{label:a.value}},[e._v(e._s(a.label))])})),1):e._e(),"text"===l.type?t("span",[e._v(" "+e._s(l.value)+" ")]):e._e()],1)],1)]}}])})],1)],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",disabled:e.loading,loading:e.loading},on:{click:e.confirmSave}},[e._v("保存")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)},l=[],n=a("5530"),o=a("c7eb"),s=a("1da1"),r=(a("4de4"),a("caad"),a("d81d"),a("e9c4"),a("4ec9"),a("b64b"),a("d3b7"),a("2532"),a("3ca3"),a("159b"),a("ddb0"),a("082f")),p=[{label:"yes",value:"yes"},{label:"no",value:"no"}],d=["pidfile","dir","logfile","dbfilename"],c=[{id:1,key:"zset-max-ziplist-entries",value:"128",type:"input",params:"",options:[],title:"zset压缩列表元素的最大值",description:"zset中压缩列表ziplist最大的元素是128个，超过128将会使用跳表skiplist+dict来存储",elementType:"文本框",readonly:!1},{id:2,key:"min-slaves-max-lag",value:"10",type:"input",params:"",options:[],title:"不大于三个服务器时的延迟值得最大值",description:"在从服务器的数量少于3个，或者三个从服务器的延迟（lag）值都大于或等于10秒时，主服务器将拒绝执行写命令，这里的延迟值就是上面提到的INFO replication命令的lag值",elementType:"文本框",readonly:!1},{id:3,key:"active-defrag-cycle-max",value:"75",type:"input",params:"",options:[],title:"自动清理过程所用CPU时间的比例",description:"表示自动清理过程所用CPU时间的比例不高于75%，一旦超过，就停止清理，从而避免在清理时，大量的内存拷贝阻塞Redis，导致响应延迟升高",elementType:"文本框%（带有百分号）默认75%",readonly:!1},{id:4,key:"replica-read-only",value:"yes",type:"radio",params:"",options:p,title:"副本从节点只读",description:"副本从节点只读，为了保持从节点和主节点的一致性，从节点一般都是只读的",elementType:"单选下拉框（yes,no）默认yes",readonly:!1},{id:6,key:"hz",value:"10",type:"input",params:"",options:[],title:"redis处理同时到期的许多key的参数",description:"默认设为10，提高它的值将会占用更多的cpu，当然相应的redis将会更快的处理同时到期的许多key，以及更精确的去处理超时",elementType:"文本框",readonly:!1},{id:8,key:"hash-max-ziplist-value",value:"64",type:"input",params:"",options:[],title:"当hash中的value长度超过64的时候转为dict",description:"表示当hash中的value长度超过64的时候转为dict",elementType:"文本框",readonly:!1},{id:9,key:"slave-ignore-maxmemory",value:"yes",type:"input",params:"",options:[],title:"从节点是否忽略maxmemory配置",description:"从节点是否忽略maxmemory配置,默认yes",elementType:"文本框",readonly:!1},{id:10,key:"list-compress-depth",value:"0",type:"input",params:"",options:[],title:"不压缩quicklist 距离首尾节点小于等于这个值的ziplist节点",description:"不压缩quicklist 距离首尾节点小于等于这个值的ziplist节点",elementType:"文本框",readonly:!1},{id:11,key:"databases",value:"16",type:"input",params:"",options:[],title:"数据库的数量，默认数据库为0",description:"设置数据库的数量，默认数据库为0，可以使用SELECT 命令在连接上指定数据库id",elementType:"文本框",readonly:!1},{id:12,key:"latency-monitor-threshold",value:"0",type:"input",params:"",options:[],title:"延迟峰值(尖峰) 是指运行时间超过latency-monitor-threshold 配置的阈值的事件",description:"延迟峰值(尖峰) 是指运行时间超过latency-monitor-threshold 配置的阈值的事件",elementType:"文本框",readonly:!1},{id:13,key:"hash-max-ziplist-entries",value:"512",type:"input",params:"",options:[],title:"表示当hash项（field，value）数＞512即ziplist项＞1024的时候转为dict",description:"表示当hash项（field，value）数＞512即ziplist项＞1024的时候转为dict",elementType:"文本框",readonly:!1},{id:14,key:"proto-max-bulk-len",value:"536870912",type:"input",params:"",options:[],title:"批量请求的大小限制",description:"批量请求的大小限制",elementType:"文本框",readonly:!1},{id:15,key:"maxclients",value:"999",type:"inputNumber",max:"",min:1,params:"",options:[],title:"同时最大的连接数,默认1000,如果小于1启动失败",description:"同时最大的连接数,默认1000,如果小于1启动失败",elementType:"文本框",readonly:!1},{id:16,key:"lazyfree-lazy-eviction",value:"no",type:"radio",params:"",options:p,title:"针对redis内存使用达到maxmeory",description:"针对redis内存使用达到maxmeory，并设置有淘汰策略时；在被动淘汰键时，是否采用lazy free机制",elementType:"单选下拉框（yes,no）默认no",readonly:!1},{id:17,key:"hll-sparse-max-bytes",value:"3000",type:"input",params:"",options:[],title:"大于这个值,hyperloglog使用稠密结构，小于等于这个值,使用稀疏结构大于16000无意义",description:"大于这个值,hyperloglog使用稠密结构，小于等于这个值,使用稀疏结构大于16000无意义,建议设置3000",elementType:"文本框",readonly:!1},{id:18,key:"active-defrag-threshold-lower",value:"10",type:"input",params:"",options:[],title:"内存碎片空间占操作系统分配给Redis的总空间比例达到10%时",description:"表示内存碎片空间占操作系统分配给Redis的总空间比例达到10%时，开始清理",elementType:"文本框%（带有百分号）默认10%",readonly:!1},{id:19,key:"stream-node-max-entries",value:"100",type:"input",params:"",options:[],title:"stream 的最大项数量",description:"stream 的最大项数量",elementType:"文本框",readonly:!1},{id:20,key:"slowlog-max-len",value:"128",type:"input",params:"",options:[],title:"stream 的最大项数量",description:"慢查询日志长度。当一个新的命令被写进日志的时候，最老的那个记录会被删掉",elementType:"文本框",readonly:!1},{id:21,key:"zset-max-ziplist-value",value:"64",type:"input",params:"",options:[],title:"zset中压缩列表ziplist中每个元素最大的个数是64个，超过64将会使用跳表skiplist+dict来存储",description:"zset中压缩列表ziplist中每个元素最大的个数是64个，超过64将会使用跳表skiplist+dict来存储",elementType:"文本框",readonly:!1},{id:22,key:"cluster-slave-no-failover",value:"",type:"radio",params:"no",options:p,title:"在主节点失效期间,从节点不允许对master失效转移",description:"在主节点失效期间,从节点不允许对master失效转移",elementType:"单选下拉框（yes,no）默认no",readonly:!1},{id:24,key:"lua-time-limit",value:"5000",type:"input",params:"",options:[],title:"如果设置每次执行Lua脚本之前，服务器都会在Lua环境里面设置一个超时处理钩子（hook）",description:"如果设置每次执行Lua脚本之前，服务器都会在Lua环境里面设置一个超时处理钩子（hook）",elementType:"文本框",readonly:!1},{id:25,key:"slowlog-log-slower-than",value:"10000",type:"input",params:"",options:[],title:"执行时间比此参数大的请求记录到slowlog里面，单位是微秒",description:"执行时间比此参数大的请求记录到slowlog里面，单位是微秒",elementType:"文本框",readonly:!1},{id:26,key:"active-defrag-ignore-bytes",value:"104857600",type:"input",params:"",options:[],title:"表示内存碎片的字节数达到100MB时，开始清理",description:"表示内存碎片的字节数达到100MB时，开始清理",elementType:"文本框",isEdit:"是"},{id:27,key:"activerehashing",value:"yes",type:"radio",params:"",options:p,title:"是否重置Hash表,设置成yes后redis将每100毫秒使用1毫秒CPU时间来对redis的hash表重新hash",description:"是否重置Hash表,设置成yes后redis将每100毫秒使用1毫秒CPU时间来对redis的hash表重新hash",elementType:"单选下拉框（yes,no）默认yes",readonly:!1},{id:28,key:"stream-node-max-bytes",value:"4096",type:"input",params:"",options:[],title:"每个宏节点占用的内存容量上限为4096 Bytes",description:"单位为Byte，默认值为4096，即每个宏节点占用的内存容量上限为4096 Bytes。取值范围：0~999,999,999,999,999。0表示无限制",elementType:"文本框",readonly:!1},{id:29,key:"slave-lazy-flush",value:"no",type:"radio",params:"",options:p,title:"redis是否同步清空数据库的参数，默认yes",description:"默认no,那么redis是同步清空数据库,也就是停止完成其他请求来做清空数据库,如果遇到数据库很大会增加请求延时如果yes,那么则新建dict等数据结构,然后把清空数据库提交给后台线程做",elementType:"单选下拉框（yes,no）默认no",readonly:!1},{id:30,key:"list-max-ziplist-size",value:"-2",type:"input",params:"",options:[],title:"用于配置 quicklist 中的每个节点的 ziplist 的大小",description:"用于配置 quicklist 中的每个节点的 ziplist 的大小",elementType:"文本框",isEdit:"是"},{id:32,key:"activedefrag",value:"no",type:"radio",params:"",options:p,title:"开启自动内存碎片整理(总开关)",description:"开启自动内存碎片整理(总开关)",elementType:"单选下拉框（yes,no）默认no",readonly:!1},{id:33,key:"no-appendfsync-on-rewrite",value:"no",type:"radio",params:"",options:p,title:"是否在后台写时同步单写，默认值no(表示需要同步)",description:"是否在后台写时同步单写，默认值no(表示需要同步)",elementType:"单选下拉框（yes,no）默认no",readonly:!1},{id:34,key:"client-output-buffer-limit",value:"normal 0 0 0 slave 268435456 67108864 60 pubsub 33554432 8388608 60",type:"input",params:"",options:[],title:"格式达到hard limit或者保持超过soft limit 持续sof seconds则断开连接",description:"格式client-output-buffer-limit <class> <hard limit> <soft limit> <soft seconds> client-output-buffer达到hard limit或者保持超过soft limit 持续sof seconds则断开连接",elementType:"文本框",readonly:!1},{id:35,key:"repl-disable-tcp-nodelay",value:"no",type:"radio",params:"",options:p,title:"yes表示redis会合并小的TCP包从而节省带宽，no则redis master会立即发送同步数据",description:"在slave和master同步后（发送psync/sync），后续的同步是否设置成TCP_NODELAY，yes表示redis会合并小的TCP包从而节省带宽，但会增加同步延迟（40ms），造成master与slave数据不一致no则redis master会立即发送同步数据，没有延迟前者关注性能，后者关注一致性",elementType:"单选下拉框（yes,no）默认no",readonly:!1},{id:36,key:"loglevel",value:"notice",type:"radio",params:"",options:[{label:"debug",value:"debug"},{label:"verbose",value:"verbose"},{label:"notice",value:"notice"},{label:"warning",value:"warning"}],title:"日志记录级别",description:"指定日志记录级别，Redis 总共支持四个级别：debug、verbose、notice、warning，默认为 notice",elementType:"单选下拉框 debug verbose notice warning 默认为 notice ",readonly:!1},{id:37,key:"cluster-migration-barrier",value:"1",type:"input",params:"",options:[],title:"当存在孤立主节点后,其他从节点会迁移作为这个孤立的主节点的从节点",description:"当存在孤立主节点后(没有从节点),其他从节点会迁移作为这个孤立的主节点的从节点(前提是这个从节点之前的主节点至少还有这个数额个从节点)",elementType:"文本框",readonly:!1},{id:38,key:"lfu-decay-time",value:"1",type:"input",params:"",options:[],title:"小于0则启动失败",description:"小于0则启动失败",elementType:"文本框",readonly:!1},{id:39,key:"replica-lazy-flush",value:"no",type:"radio",params:"",options:p,title:"是否同步清空数据库",description:"默认no,那么redis是同步清空数据库,也就是停止完成其他请求来做清空数据库,如果遇到数据库很大会增加请求延时如果yes,那么则新建dict等数据结构,然后把清空数据库提交给后台线程做",elementType:"单选下拉框（yes,no）默认no",readonly:!1},{id:40,key:"maxmemory-samples",value:"5",type:"input",params:"",options:[],title:"lru,lfu会对这个数量的key进行检查",description:"lru,lfu会对这个数量的key进行检查,设置过高会消耗cpu,如果小于0则启动失败",elementType:"文本框",readonly:!1},{id:41,key:"tcp-keepalive",value:"300",type:"input",params:"",options:[],title:"用于检测tcp连接是否还存活",description:"用于检测tcp连接是否还存活,建议设置300(单位是秒),如果小于0启动失败",elementType:"文本框",readonly:!1},{id:42,key:"stop-writes-on-bgsave-error",value:"yes",type:"radio",params:"",options:p,title:"basave错误后是否停止接受写请求",description:"basave错误后是否停止接受写请求",elementType:"单选下拉框（yes,no）默认yes",readonly:!1},{id:45,key:"min-slaves-to-write",value:"0",type:"input",params:"",options:[],title:"从服务器延迟时间",description:"在从服务器的数量少于3个，或者三个从服务器的延迟（lag）值都大于或等于10秒时，主服务器将拒绝执行写命令，这里的延迟值就是上面提到的INFO replication命令的lag值",elementType:"文本框",readonly:!1},{id:46,key:"syslog-facility",value:"local0",type:"radio",params:"",options:[{label:"user",value:"user"},{label:"local0",value:"local0"},{label:"local1",value:"local1"},{label:"local2",value:"local2"},{label:"local3",value:"local3"},{label:"local4",value:"local4"},{label:"local5",value:"local5"},{label:"local6",value:"local6"},{label:"local7",value:"local7"}],title:"syslog的facility,取值范围",description:"syslog的facility,取值范围,user,local0-local7",elementType:"单选下拉框 user local0 local1 local2 local3 local4 local5 local6 local7 默认 local0 ",readonly:!1},{id:47,key:"repl-timeout",value:"60",type:"input",params:"",options:[],title:"从库向主库PING的超时时长",description:"从库向主库PING的超时时长，应大于 repl-ping-slave-period",elementType:"文本框",readonly:!1},{id:48,key:"dynamic-hz",value:"yes",type:"radio",params:"",options:p,title:"设置yes,则根据客户端连接数可以自动调节hz",description:"设置yes,则根据客户端连接数可以自动调节hz",elementType:"单选下拉框（yes,no）默认yes",readonly:!1},{id:50,key:"notify-keyspace-events",value:"",type:"input",params:"",options:[],title:"空字符串表示通知已禁用",description:"#事件通知 #零个或多个字符。空字符串表示通知已禁用。",elementType:"文本框",readonly:!1},{id:52,key:"lfu-log-factor",value:"10",type:"input",params:"",options:[],title:"根据LRU counter计数规则 lfu-log-factor设置越大，递增概率越低",description:"根据LRU counter计数规则 lfu-log-factor设置越大，递增概率越低",elementType:"文本框",readonly:!1},{id:53,key:"tcp-backlog",value:"511",type:"input",params:"",options:[],title:"TCP 监听的最大容纳数量",description:"TCP 监听的最大容纳数量",elementType:"文本框",readonly:!1},{id:54,key:"protected-mode",value:"no",type:"radio",params:"",options:p,title:"默认是yes，即开启。设置外部网络连接redis服务",description:"默认是yes，即开启。设置外部网络连接redis服务",elementType:"单选下拉框（yes,no）默认yes",readonly:!1},{id:55,key:"lazyfree-lazy-expire",value:"no",type:"radio",params:"",options:p,title:"删除过期key的参数",description:"默认no,那么redis是同步删除过期key,也就是停止完成其他请求来做删除过期key,如果遇到key复杂度很大时(0(n))的会增加请求延时如果yes,把删除key的任务提交给后台线程做",elementType:"单选下拉框（yes,no）默认no",readonly:!1},{id:56,key:"slave-serve-stale-data",value:"yes",type:"radio",params:"",options:p,title:"回复客户端请求的数据参数",description:"当slave跟master失去连接,复制进程却还在运行，设置yes slave将回复客户端的请求 但数据可能是过期的,如果是第一次同步 数据是空的 ，设置no slave将对各种命令回复”sync with master”错误,除了info和slaveof",elementType:"单选下拉框（yes,no）默认yes",readonly:!1},{id:57,key:"timeout",value:"0",type:"input",params:"",options:[],title:"客户端超时",description:"当客户端闲置多长秒后关闭连接，如果指定为 0 ，表示关闭该功能",elementType:"文本框",readonly:!1},{id:58,key:"repl-ping-slave-period",value:"10",type:"input",params:"",options:[],title:"从库向主库PING的间隔（秒）,从发给主的心跳周期,如果小于0则启动失败",description:"从库向主库PING的间隔（秒）,从发给主的心跳周期,如果小于0则启动失败",elementType:"文本框",readonly:!1},{id:59,key:"watchdog-period",value:"0",type:"input",params:"",options:[],title:"单位为毫秒，运行时间超过设置时间的操作将会被记录下来",description:"单位为毫秒，运行时间超过设置时间的操作将会被记录下来",elementType:"文本框",readonly:!1},{id:60,key:"cluster-node-timeout",value:"5000",type:"input",params:"",options:[],title:"节点超时时限",description:"节点超时时限",elementType:"文本框",readonly:!1},{id:61,key:"repl-backlog-size",value:"1048576",type:"input",params:"",options:[],title:"环形缓冲复制队列大小",description:"环形缓冲复制队列大小,可不带单位,但同时支持单位:b、k、kb、m、mb、g、gb,单位不区分大小写",elementType:"文本框",readonly:!1},{id:62,key:"lazyfree-lazy-server-del",value:"no",type:"radio",params:"",options:p,title:"隐式的DEL键的操作",description:"针对有些指令在处理已存在的键时，会带有一个隐式的DEL键的操作",elementType:"单选下拉框（yes,no）默认no",readonly:!1},{id:63,key:"active-defrag-threshold-upper",value:"100",type:"input",params:"",options:[],title:"内存碎片超过 设置百分比",description:"内存碎片超过 设置百分比，则尽最大努力整理",elementType:"文本框%（带有百分号）默认100%",readonly:!1},{id:64,key:"active-defrag-max-scan-fields",value:"1000",type:"input",params:"",options:[],title:"key的随便整理阈值参数设置",description:"碎片整理 扫描set/hash/zset/list时，仅当 set/hash/zset/list 的长度小于此阀值时，才会将此key加入碎片整理；",elementType:"文本框",readonly:!1},{id:65,key:"client-query-buffer-limit",value:"1073741824",type:"input",params:"",options:[],title:"客户端查询缓存大小限制",description:"客户端查询缓存大小限制,如果multi/exec 大可以考虑调节",elementType:"文本框",readonly:!1},{id:67,key:"repl-backlog-ttl",value:"3600",type:"input",params:"",options:[],title:"复制积压的生命期,超过多长时间从节点还没重连,则释放内存",description:"复制积压的生命期,超过多长时间从节点还没重连,则释放内存",elementType:"文本框",isEdit:"是"},{id:68,key:"slave-priority",value:"100",type:"input",params:"",options:[],title:"当master不在工作后,从节点提升为master的优先级",description:"当master不在工作后,从节点提升为master的优先级,0则不会提升为master越小优先级越高",elementType:"文本框",readonly:!1},{id:69,key:"set-max-intset-entries",value:"512",type:"input",params:"",options:[],title:"set类型的元素设置",description:"当set 的元素数量小于这个值且元素可以用int64范围的整型表示时,使用inset,节约内存大于或者元素无法用int64范围的整型表示时用set表示",elementType:"文本框",readonly:!1},{id:70,key:"active-defrag-cycle-min",value:"5",type:"input",params:"",options:[],title:"自动清理过程所用CPU时间的比例不低于25%",description:"表示自动清理过程所用CPU时间的比例不低于25%，保证清理能正常开展",elementType:"文本框%（带有百分号）默认5%",readonly:!1}],y=a("ff51"),u=a("ec41");function m(e){var t={id:"",name:"",moduleType:"",tableData:c};return e&&Object.keys(t).forEach((function(a){has(e,a)&&("tableData"===a&&(t[a]=c),t[a]=e[a])})),t}var f={name:"cache-config-params",components:{},model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{opts_modules:[],fileList:[],loading:!1,labelPosition:"right",form:m(),rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],moduleType:[{required:!0,message:"请选择组件",trigger:"change"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},created:function(){this.getOpts_modules()},mounted:function(){this.isEdit&&this.getDetail()},methods:{getOpts_modules:function(){var e=this;return Object(s["a"])(Object(o["a"])().mark((function t(){var a,i;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={componentType:"CACHE"},t.next=3,Object(r["e"])(a);case 3:i=t.sent,e.opts_modules=Object(y["a"])(null===i||void 0===i?void 0:i.data)?i.data:[];case 5:case"end":return t.stop()}}),t)})))()},getDetail:function(){var e=this;this.loading=!0,Object(r["b"])(this.rowData.id).then((function(t){var a=Object(u["a"])(t,"data"),i=Object(u["a"])(t,"data.content"),l=JSON.parse(i),n=new Map;l.forEach((function(e){n.set(e.configKey,e.configValue)})),e.form.tableData.forEach((function(e){n.has(e.key)&&(e.value=n.get(e.key))})),e.form.name=a.name,e.form.moduleType=a.moduleType,e.form.id=a.id})).catch((function(e){})).finally((function(){e.loading=!1}))},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},confirmSave:function(){var e=this,t=this.form.tableData.map((function(e){return{configKey:e.key,configValue:e.value}}));0!=this.clusterType&&2!=this.clusterType||(t=t.filter((function(e){return!d.includes(e.configKey)}))),this.$refs.formRef.validate(function(){var a=Object(s["a"])(Object(o["a"])().mark((function a(i){var l;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i&&(l=Object(n["a"])(Object(n["a"])({},e.form),{},{componentType:"CACHE",content:JSON.stringify(t)}),delete l.tableData,e.loading=!0,Object(r["g"])(l).then((function(t){200===t.code&&(e.$message.success("保存成功"),e.$emit("change",!1),e.refresh())})).catch((function(e){})).finally((function(){e.loading=!1})));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},tableRowClassName:function(e){var t=e.row;e.rowIndex;return"text"===t.type?"readonly-text-item":""}}},v=f,g=(a("41fe"),a("2877")),b=Object(g["a"])(v,i,l,!1,null,"6dec71cc",null);t["default"]=b.exports},cafd:function(e,t,a){}}]);