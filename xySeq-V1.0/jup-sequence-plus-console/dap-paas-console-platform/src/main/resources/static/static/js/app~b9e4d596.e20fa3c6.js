(window["jsonpPaas4"]=window["jsonpPaas4"]||[]).push([["app~b9e4d596"],{"0d3c":function(t,e,r){"use strict";var n=r("7c8a"),o=r("effd"),i=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),a="url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)",s=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.getDefaultCfgs=function(){return{img:a,follow:!0}},e.prototype.init=function(){var t=this.get("graph"),e=t.get("container"),r=t.get("canvas").get("el"),o=this.get("img")||a;o.includes("url(")||(o='url("'.concat(o,'")'));var i=Object(n["b"])("<div class='g6-grid-container' style=\"position:absolute;overflow:hidden;z-index: -1;\"></div>"),s=Object(n["b"])("<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(o,";\n        user-select: none\n        '></div>"));this.set("container",i),this.set("gridContainer",s),this.positionInit(),i.appendChild(s),e.insertBefore(i,r)},e.prototype.positionInit=function(){var t=this.get("graph"),e=t.get("minZoom"),r=t.get("width"),o=t.get("height");Object(n["c"])(this.get("container"),{width:"".concat(r,"px"),height:"".concat(o,"px")});var i=80*r/e,a=80*o/e;Object(n["c"])(this.get("gridContainer"),{width:"".concat(i,"px"),height:"".concat(a,"px"),left:"-".concat(i/2,"px"),top:"-".concat(a/2,"px")})},e.prototype.getEvents=function(){return{viewportchange:"updateGrid"}},e.prototype.updateGrid=function(t){var e=this.get("gridContainer"),r=t.matrix;r||(r=[1,0,0,0,1,0,0,0,1]);var o=this.get("follow"),i="matrix(".concat(r[0],", ").concat(r[1],", ").concat(r[3],", ").concat(r[4],", ").concat(o?r[6]:"0",", ").concat(o?r[7]:"0",")");Object(n["c"])(e,{transform:i})},e.prototype.getContainer=function(){return this.get("container")},e.prototype.destroy=function(){var t=this.get("graph"),e=t.get("container"),r=this.get("container");e.removeChild(r)},e}(o["a"]),g=s,c=r("6e84"),l=r("072a"),h=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();function u(t,e,r){var n=t.x-e.x,o=t.y-e.y;return!r||Math.abs(n)>r||Math.abs(o)>r?Math.sqrt(n*n+o*o):r}function d(t,e){return t.x*e.x+t.y*e.y}function p(t,e){var r=(e.source.y-e.target.y)/(e.source.x-e.target.x),n=(r*r*e.source.x+r*(t.y-e.source.y)+t.x)/(r*r+1),o=r*(n-e.source.x)+e.source.y;return{x:n,y:o}}var y=function(t){function e(e){return t.call(this,e)||this}return h(e,t),e.prototype.getDefaultCfgs=function(){return{edgeBundles:[],edgePoints:[],K:.1,lambda:.1,divisions:1,divRate:2,cycles:6,iterations:90,iterRate:.6666667,bundleThreshold:.6,eps:1e-6,onLayoutEnd:function(){},onTick:function(){}}},e.prototype.init=function(){var t=this.get("graph"),e=this.get("onTick"),r=function(){e&&e(),t.refreshPositions()};this.set("tick",r)},e.prototype.bundling=function(t){var e=this;if(e.set("data",t),!e.isTicking()){var r=t.edges||[],n=t.nodes||[],o={},i=!1;if(n.forEach((function(t){null!==t.x&&null!==!t.y&&void 0!==t.x&&void 0!==!t.y||(i=!0),o[t.id]=t})),i)throw new Error("please layout the graph or assign x and y for nodes first");e.set("nodeIdMap",o);var a=e.get("divisions"),s=e.get("divRate"),g=e.divideEdges(a);e.set("edgePoints",g);var c=e.getEdgeBundles();e.set("edgeBundles",c);for(var l=e.get("cycles"),h=e.get("iterations"),u=e.get("iterRate"),d=e.get("lambda"),p=0;p<l;p++){for(var y=function(t){var n=[];r.forEach((function(t,r){if(t.source!==t.target){var i=o[t.source],s=o[t.target];n[r]=e.getEdgeForces({source:i,target:s},r,a,d);for(var c=0;c<a+1;c++)g[r][c].x+=n[r][c].x,g[r][c].y+=n[r][c].y}}))},f=0;f<h;f++)y(f);d/=2,a*=s,h*=u,g=e.divideEdges(a),e.set("edgePoints",g)}r.forEach((function(t,e){t.source!==t.target&&(t.type="polyline",t.controlPoints=g[e].slice(1,g[e].length-1))}));var v=e.get("graph");v.refresh()}},e.prototype.updateBundling=function(t){var e=this,r=t.data;if(r&&e.set("data",r),e.get("ticking")&&e.set("ticking",!1),Object.keys(t).forEach((function(r){e.set(r,t[r])})),t.onTick){var n=this.get("graph");e.set("tick",(function(){t.onTick(),n.refresh()}))}e.bundling(r)},e.prototype.divideEdges=function(t){var e=this,r=e.get("data").edges,n=e.get("nodeIdMap"),o=e.get("edgePoints");return o&&void 0!==o||(o=[]),r.forEach((function(r,i){var a;o[i]&&void 0!==o[i]||(o[i]=[]);var s=n[r.source],g=n[r.target];if(1===t)o[i].push({x:s.x,y:s.y}),o[i].push({x:.5*(s.x+g.x),y:.5*(s.y+g.y)}),o[i].push({x:g.x,y:g.y});else{var c=0;c=(null===(a=o[i])||void 0===a?void 0:a.length)?e.getEdgeLength(o[i]):u({x:s.x,y:s.y},{x:g.x,y:g.y});var l=c/(t+1),h=l,d=[{x:s.x,y:s.y}];o[i].forEach((function(t,e){if(0!==e){var r=u(t,o[i][e-1]);while(r>h){var n=h/r,a={x:o[i][e-1].x,y:o[i][e-1].y};a.x+=n*(t.x-o[i][e-1].x),a.y+=n*(t.y-o[i][e-1].y),d.push(a),r-=h,h=l}h-=r}})),d.push({x:g.x,y:g.y}),o[i]=d}})),o},e.prototype.getEdgeLength=function(t){var e=0;return t.forEach((function(r,n){0!==n&&(e+=u(r,t[n-1]))})),e},e.prototype.getEdgeBundles=function(){var t=this,e=t.get("data"),r=e.edges||[],n=t.get("bundleThreshold"),o=t.get("nodeIdMap"),i=t.get("edgeBundles");return i||(i=[]),r.forEach((function(t,e){i[e]&&void 0!==i[e]||(i[e]=[])})),r.forEach((function(e,a){var s=o[e.source],g=o[e.target];r.forEach((function(e,r){if(!(r<=a)){var c=o[e.source],l=o[e.target],h=t.getBundleScore({source:s,target:g},{source:c,target:l});h>=n&&(i[a].push(r),i[r].push(a))}}))})),i},e.prototype.getBundleScore=function(t,e){var r=this;t.vx=t.target.x-t.source.x,t.vy=t.target.y-t.source.y,e.vx=e.target.x-e.source.x,e.vy=e.target.y-e.source.y,t.length=u({x:t.source.x,y:t.source.y},{x:t.target.x,y:t.target.y}),e.length=u({x:e.source.x,y:e.source.y},{x:e.target.x,y:e.target.y});var n=r.getAngleScore(t,e),o=r.getScaleScore(t,e),i=r.getPositionScore(t,e),a=r.getVisibilityScore(t,e);return n*o*i*a},e.prototype.getAngleScore=function(t,e){var r=d({x:t.vx,y:t.vy},{x:e.vx,y:e.vy});return r/(t.length*e.length)},e.prototype.getScaleScore=function(t,e){var r=(t.length+e.length)/2,n=2/(r/Math.min(t.length,e.length)+Math.max(t.length,e.length)/r);return n},e.prototype.getPositionScore=function(t,e){var r=(t.length+e.length)/2,n={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2},o={x:(e.source.x+e.target.x)/2,y:(e.source.y+e.target.y)/2},i=u(n,o);return r/(r+i)},e.prototype.getVisibilityScore=function(t,e){var r=this.getEdgeVisibility(t,e),n=this.getEdgeVisibility(e,t);return r<n?r:n},e.prototype.getEdgeVisibility=function(t,e){var r=p(e.source,t),n=p(e.target,t),o={x:(r.x+n.x)/2,y:(r.y+n.y)/2},i={x:(t.source.x+t.target.x)/2,y:(t.source.y+t.target.y)/2};return Math.max(0,1-2*u(o,i)/u(r,n))},e.prototype.getEdgeForces=function(t,e,r,n){for(var o=this,i=o.get("edgePoints"),a=o.get("K"),s=a/(u(t.source,t.target)*(r+1)),g=[{x:0,y:0}],c=1;c<r;c++){var l={x:0,y:0},h=o.getSpringForce({pre:i[e][c-1],cur:i[e][c],next:i[e][c+1]},s),d=o.getElectrostaticForce(c,e);l.x=n*(h.x+d.x),l.y=n*(h.y+d.y),g.push(l)}return g.push({x:0,y:0}),g},e.prototype.getSpringForce=function(t,e){var r=t.pre.x+t.next.x-2*t.cur.x,n=t.pre.y+t.next.y-2*t.cur.y;return r*=e,n*=e,{x:r,y:n}},e.prototype.getElectrostaticForce=function(t,e){var r=this,n=r.get("eps"),o=r.get("edgeBundles"),i=r.get("edgePoints"),a=o[e],s={x:0,y:0};return a.forEach((function(r){var o={x:i[r][t].x-i[e][t].x,y:i[r][t].y-i[e][t].y};if(Math.abs(o.x)>n||Math.abs(o.y)>n){var a=u(i[r][t],i[e][t]),g=1/a;s.x+=o.x*g,s.y+=o.y*g}})),s},e.prototype.isTicking=function(){return this.get("ticking")},e.prototype.getSimulation=function(){return this.get("forceSimulation")},e.prototype.destroy=function(){this.get("ticking")&&this.getSimulation().stop(),t.prototype.destroy.call(this)},e}(o["a"]),f=y,v=r("8937"),x=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),m=function(){return m=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},m.apply(this,arguments)},w=.05,b={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:.1,fill:"#ccc"},D=function(t){function e(e){return t.call(this,e)||this}return x(e,t),e.prototype.getDefaultCfgs=function(){return{trigger:"mousemove",d:1.5,r:300,delegateStyle:Object(v["clone"])(b),showLabel:!1,maxD:5,minD:0,scaleRBy:"unset",scaleDBy:"unset",showDPercent:!0}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"magnify"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"magnify"};break}return t},e.prototype.init=function(){var t=this,e=t.get("r");t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{}),t.set("r2",e*e);var r=t.get("d");t.set("molecularParam",(r+1)*e)},e.prototype.createDelegate=function(t){var e=this,r=this,n=r.get("delegate");n&&!n.destroyed||(r.magnify(t),n=r.get("delegate"),n.on("dragstart",(function(t){r.set("delegateCenterDiff",{x:n.attr("x")-t.x,y:n.attr("y")-t.y})})),n.on("drag",(function(t){r.magnify(t)})),"wheel"===this.get("scaleDBy")&&n.on("mousewheel",(function(t){e.scaleDByWheel(t)})),"wheel"===this.get("scaleRBy")&&n.on("mousewheel",(function(t){r.scaleRByWheel(t)})))},e.prototype.scaleRByWheel=function(t){var e=this;if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var r,n=e.get("graph"),o=e.get("delegate"),i=o?{x:o.attr("x"),y:o.attr("y")}:void 0,a=i||n.getPointByClient(t.clientX,t.clientY);r=t.originalEvent.wheelDelta<0?1-w:1/(1-w);var s=e.get("maxR"),g=e.get("minR"),c=e.get("r");(c>(s||n.get("height"))&&r>1||c<(g||.05*n.get("height"))&&r<1)&&(r=1),c*=r,e.set("r",c),e.set("r2",c*c);var l=e.get("d");e.set("molecularParam",(l+1)*c),e.set("delegateCenterDiff",void 0),e.magnify(t,a)}},e.prototype.scaleRByDrag=function(t){var e=this;if(t){var r,n=e.get("dragPrePos"),o=e.get("graph"),i=o.getPointByClient(t.clientX,t.clientY);r=t.x-n.x<0?1-w:1/(1-w);var a=e.get("maxR"),s=e.get("minR"),g=e.get("r");(g>(a||o.get("height"))&&r>1||g<(s||.05*o.get("height"))&&r<1)&&(r=1),g*=r,e.set("r",g),e.set("r2",g*g);var c=e.get("d");e.set("molecularParam",(c+1)*g),e.magnify(t,i),e.set("dragPrePos",{x:t.x,y:t.y})}},e.prototype.scaleDByWheel=function(t){var e=this;if(t||t.originalEvent){t.preventDefault&&t.preventDefault();var r=0;r=t.originalEvent.wheelDelta<0?-.1:.1;var n=e.get("d"),o=n+r,i=e.get("maxD"),a=e.get("minD");if(o<i&&o>a){e.set("d",o);var s=e.get("r");e.set("molecularParam",(o+1)*s);var g=e.get("delegate"),c=g?{x:g.attr("x"),y:g.attr("y")}:void 0;e.set("delegateCenterDiff",void 0),e.magnify(t,c)}}},e.prototype.scaleDByDrag=function(t){var e=this,r=e.get("dragPrePos"),n=t.x-r.x>0?.1:-.1,o=e.get("d"),i=o+n,a=e.get("maxD"),s=e.get("minD");if(i<a&&i>s){e.set("d",i);var g=e.get("r");e.set("molecularParam",(i+1)*g),e.magnify(t)}e.set("dragPrePos",{x:t.x,y:t.y})},e.prototype.magnify=function(t,e){var r=this;r.restoreCache();var n=r.get("graph"),o=r.get("cachedMagnifiedModels"),i=r.get("cachedOriginPositions"),a=r.get("showLabel"),s=r.get("r"),g=r.get("r2"),c=r.get("d"),l=r.get("molecularParam"),h=n.getNodes(),u=h.length,d=e?{x:e.x,y:e.y}:{x:t.x,y:t.y};!r.get("dragging")||"mousemove"!==r.get("trigger")&&"click"!==r.get("trigger")||(d=r.get("cacheCenter"));var p=r.get("delegateCenterDiff");p&&(d.x+=p.x,d.y+=p.y),r.updateDelegate(d,s);for(var y=0;y<u;y++){var f=h[y].getModel(),v=f.x,x=f.y;if(!isNaN(v)&&!isNaN(x)){var m=(v-d.x)*(v-d.x)+(x-d.y)*(x-d.y);if(!isNaN(m)&&m<g&&0!==m){var w=Math.sqrt(m),b=l*w/(c*w+s),D=(v-d.x)/w,P=(x-d.y)/w;if(f.x=D*b+d.x,f.y=P*b+d.y,i[f.id]||(i[f.id]={x:v,y:x,texts:[]}),o.push(f),a&&2*w<s)for(var E=h[y],O=E.getContainer(),C=O.getChildren(),B=C.length,S=0;S<B;S++){var I=C[S];"text"===I.get("type")&&(i[f.id].texts.push({visible:I.get("visible"),shape:I}),I.set("visible",!0))}}}}n.refreshPositions()},e.prototype.restoreCache=function(){for(var t=this,e=t.get("cachedMagnifiedModels"),r=t.get("cachedOriginPositions"),n=e.length,o=0;o<n;o++){var i=e[o],a=i.id,s=r[a];i.x=s.x,i.y=s.y;for(var g=s.texts.length,c=0;c<g;c++){var l=s.texts[c];l.shape.set("visible",l.visible)}}t.set("cachedMagnifiedModels",[]),t.set("cachedOriginPositions",{})},e.prototype.updateParams=function(t){var e=this,r=t.r,n=t.d,o=t.trigger,i=t.minD,a=t.maxD,s=t.minR,g=t.maxR,c=t.scaleDBy,l=t.scaleRBy;isNaN(t.r)||(e.set("r",r),e.set("r2",r*r)),isNaN(n)||e.set("d",n),isNaN(a)||e.set("maxD",a),isNaN(i)||e.set("minD",i),isNaN(g)||e.set("maxR",g),isNaN(s)||e.set("minR",s);var h=e.get("d"),u=e.get("r");if(e.set("molecularParam",(h+1)*u),"mousemove"!==o&&"click"!==o&&"drag"!==o||e.set("trigger",o),"drag"===c||"wheel"===c||"unset"===c){e.set("scaleDBy",c),e.get("delegate").remove(),e.get("delegate").destroy();var d=e.get("dPercentText");d&&(d.remove(),d.destroy())}if("drag"===l||"wheel"===l||"unset"===l){e.set("scaleRBy",l),e.get("delegate").remove(),e.get("delegate").destroy();d=e.get("dPercentText");d&&(d.remove(),d.destroy())}},e.prototype.updateDelegate=function(t,e){var r=this,n=this,o=n.get("graph"),i=n.get("delegate");if(!i||i.destroyed){var a=o.get("group"),s=n.get("delegateStyle")||b;i=a.addShape("circle",{attrs:m({r:e/1.5,x:t.x,y:t.y},s),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&("wheel"===this.get("scaleRBy")?i.on("mousewheel",(function(t){n.scaleRByWheel(t)})):"drag"===this.get("scaleRBy")&&(i.on("dragstart",(function(t){n.set("dragging",!0),n.set("cacheCenter",{x:t.x,y:t.y}),n.set("dragPrePos",{x:t.x,y:t.y})})),i.on("drag",(function(t){n.scaleRByDrag(t)})),i.on("dragend",(function(t){n.set("dragging",!1)}))),"wheel"===this.get("scaleDBy")?i.on("mousewheel",(function(t){r.scaleDByWheel(t)})):"drag"===this.get("scaleDBy")&&(i.on("dragstart",(function(t){n.set("dragging",!0),n.set("cacheCenter",{x:t.x,y:t.y}),n.set("dragPrePos",{x:t.x,y:t.y})})),i.on("drag",(function(t){r.scaleDByDrag(t)})),i.on("dragend",(function(t){n.set("dragging",!1)}))))}else i.attr({x:t.x,y:t.y,r:e/1.5});if(n.get("showDPercent")){var g=Math.round((n.get("d")-n.get("minD"))/(n.get("maxD")-n.get("minD"))*100),c=n.get("dPercentText"),l=t.y+e/1.5+16;if(!c||c.destroyed){var h=o.get("group");c=h.addShape("text",{attrs:{text:"".concat(g,"%"),x:t.x,y:l,fill:"#aaa",stroke:"#fff",lineWidth:1,fontSize:12}}),n.set("dPercentText",c)}else c.attr({text:"".concat(g,"%"),x:t.x,y:l})}n.set("delegate",i)},e.prototype.clear=function(){var t=this.get("graph");this.restoreCache(),t.refreshPositions();var e=this.get("delegate");e&&!e.destroyed&&(e.remove(),e.destroy());var r=this.get("dPercentText");r&&!r.destroyed&&(r.remove(),r.destroy())},e.prototype.destroy=function(){this.clear()},e}(o["a"]),P=D,E=r("c9b7"),O=r("205d"),C=r("6b09"),B=r("3822"),S=r("e897"),I=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),M=B["h"].applyMatrix;function j(t,e){var r,n;if(t.naturalWidth)r=t.naturalWidth,n=t.naturalHeight;else{var o=new Image;o.src=t.src,o.onload=function(){e&&e(o.width,o.height)}}return[r,n]}var R=function(t){function e(e){return t.call(this,e)||this}return I(e,t),e.prototype.getDefaultCfgs=function(){return{container:null,className:"g6-minimap",viewportClassName:"g6-minimap-viewport",width:200,delegateStyle:{fill:"#40a9ff",stroke:"#096dd9"},refresh:!0}},e.prototype.getEvents=function(){return{beforepaint:"updateViewport",beforeanimate:"disableRefresh",afteranimate:"enableRefresh",viewportchange:"disableOneRefresh"}},e.prototype.disableRefresh=function(){this.set("refresh",!1)},e.prototype.enableRefresh=function(){this.set("refresh",!0),this.updateCanvas()},e.prototype.disableOneRefresh=function(){this.set("viewportChange",!0)},e.prototype.initViewport=function(){var t=this,e=this._cfgs,r=e.graph;if(!this.destroyed){var o=this.get("container");Object(v["isString"])(o)&&(o=document.getElementById(o));var i=Object(n["b"])("<div class=".concat(e.viewportClassName,"\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff;\n        cursor:move'\n      </div>")),a=0,s=0,g=!1,c=0,l=0,h=0,u=0,d=0,p=0;o.addEventListener("mousedown",(function(n){if(e.refresh=!1,n.target===i){var o=i.style;h=parseInt(o.width,10),u=parseInt(o.height,10);var c=t.get("width"),l=t.get("height");h>c||u>l||(p=r.getZoom(),d=t.get("ratio"),g=!0,a=n.clientX,s=n.clientY)}}),!1),o.addEventListener("mousemove",(function(e){if(g&&!Object(v["isNil"])(e.clientX)&&!Object(v["isNil"])(e.clientY)){var o=t.get("width"),y=t.get("height"),f=i.style;c=parseInt(f.left,10),l=parseInt(f.top,10),h=parseInt(f.width,10),u=parseInt(f.height,10);var x=a-e.clientX,m=s-e.clientY;c-x<0?x=c:c-x+h>=o&&(x=0),l-m<0?m=l:l-m+u>=y&&(m=0),c-=x,l-=m,Object(n["c"])(i,{left:"".concat(c,"px"),top:"".concat(l,"px")}),r.translate(x*p/d,m*p/d),a=e.clientX,s=e.clientY}}),!1),o.addEventListener("mouseleave",(function(){g=!1,e.refresh=!0}),!1),o.addEventListener("mouseup",(function(){g=!1,e.refresh=!0}),!1),this.set("viewport",i),o.appendChild(i)}},e.prototype.updateViewport=function(){if(!this.destroyed){var t=this.get("ratio"),e=this.get("width"),r=this.get("height"),o=this.get("graph"),i=o.get("width"),a=o.get("height"),s=i/a,g=o.getGroup(),c=g.getCanvasBBox(),l=[(c.minX+c.maxX)/2,(c.minY+c.maxY)/2],h=[c.maxX-c.minX,c.maxY-c.minY],u={centerX:l[0],centerY:l[1],width:0,height:0,minX:0,minY:0};c[0]/c[1]>s?(u.width=h[0],u.height=u.width/s):(u.height=h[1],u.width=u.height*s),u.minX=l[0]-u.width/2,u.minY=l[1]-u.height/2;var d=g.getMatrix();d||(d=[1,0,0,0,1,0,0,0,1]);var p=S["b"].invert([1,0,0,0,1,0,0,0,1],d),y=M({x:u.minX,y:u.minY},p),f=o.getCanvasByPoint(y.x,y.y),v=this.get("viewport");v||this.initViewport();var x=i/u.width,m=x*e,w=x*r,b=e*-f.x/u.width,D=r*-f.y/u.height,P=b+m,E=D+w;b<0&&(m+=b,b=0),P>e&&(m-=P-e),D<0&&(w+=D,D=0),E>r&&(w-=E-r),this.set("ratio",t);var O="".concat(b,"px"),C="".concat(D,"px");Object(n["c"])(v,{left:O,top:C,width:"".concat(m,"px"),height:"".concat(w,"px")})}},e.prototype.init=function(){this.initContainer()},e.prototype.initContainer=function(){var t=this,e=t.get("graph"),r=e.get("width"),o=e.get("height"),i=o/r,a=t.get("className"),s=t.get("container"),g=t.get("width"),c=t.get("height");g||c||(g=200),g?(c=i*g,t.set("height",c)):(g=1/i*c,t.set("width",g));var l=Object(n["b"])("<div class='".concat(a,"' style='width: ").concat(g,"px; height: ").concat(c,"px; overflow: hidden; position: relative;'></div>"));Object(v["isString"])(s)&&(s=document.getElementById(s)),s?s.appendChild(l):e.get("container").appendChild(l),t.set("container",l);var h=Object(n["b"])('<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>');l.appendChild(h);var u=Object(n["b"])('<span style="display: table-cell; vertical-align: middle; "></span>');h.appendChild(u),t.set("containerDOM",h),t.set("containerSpan",u);var d=Object(n["b"])('<img alt="" src="'.concat(this.get("graphImg"),'" style="display: inline-block; user-select: none;" draggable="false" />'));t.set("imgDOM",d),t.updateImgSize(),u.appendChild(d),t.updateCanvas()},e.prototype.updateImgSize=function(){var t=this,e=t.get("imgDOM"),r=t.get("width"),n=t.get("height");e.onload=function(){var t=j(e);t[0]>t[1]?e.width=r:e.height=n}},e.prototype.updateCanvas=function(){var t=this.get("refresh");if(t){var e=this.get("graph");if(!e.get("destroyed")){this.get("viewportChange")&&(this.set("viewportChange",!1),this.updateViewport());var r=this.get("width"),n=e.get("canvas").getCanvasBBox(),o=n.width,i=r/o;this.set("ratio",i),this.updateViewport()}}},e.prototype.getViewport=function(){return this.get("viewport")},e.prototype.getContainer=function(){return this.get("container")},e.prototype.updateGraphImg=function(t){var e=this,r=e.get("imgDOM");r.remove(),e.set("graphImg",t);var o=Object(n["b"])('<img alt="" src="'.concat(t,'" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>'));e.set("imgDOM",o),o.src=t,e.updateImgSize();var i=e.get("containerSpan");i.appendChild(o),e.updateCanvas()},e.prototype.destroy=function(){var t=this.get("container");t.parentNode.removeChild(t)},e}(o["a"]),N=R,_=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),k=function(){return k=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r],e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},k.apply(this,arguments)},A=B["h"].distance,T=.05,L={stroke:"#000",strokeOpacity:.8,lineWidth:2,fillOpacity:1,fill:"#fff"},Z=function(t){function e(e){return t.call(this,e)||this}return _(e,t),e.prototype.getDefaultCfgs=function(){return{type:"both",trigger:"mousemove",r:60,delegateStyle:Object(v["clone"])(L),showLabel:"edge",scaleRBy:"wheel"}},e.prototype.getEvents=function(){var t;switch(this.get("trigger")){case"click":t={click:"filter"};break;case"drag":t={click:"createDelegate"};break;default:t={mousemove:"filter"};break}return t},e.prototype.init=function(){var t=this,e=t.get("showLabel"),r="node"===e||"both"===e,n="edge"===e||"both"===e;t.set("showNodeLabel",r),t.set("showEdgeLabel",n);var o=t.get("shouldShow");o||t.set("shouldShow",(function(){return!0}))},e.prototype.createDelegate=function(t){var e=this,r=e.get("delegate");r&&!r.destroyed||(e.filter(t),r=e.get("delegate"),r.on("dragstart",(function(t){})),r.on("drag",(function(t){e.filter(t)})),"wheel"===this.get("scaleRBy")&&r.on("mousewheel",(function(t){e.scaleRByWheel(t)})))},e.prototype.scaleRByWheel=function(t){var e=this;if(t&&t.originalEvent){t.preventDefault&&t.preventDefault();var r,n=e.get("graph"),o=e.get("delegate"),i=o?{x:o.attr("x"),y:o.attr("y")}:void 0;i||n.getPointByClient(t.clientX,t.clientY);r=t.originalEvent.wheelDelta<0?1-T:1/(1-T);var a=e.get("maxR"),s=e.get("minR"),g=e.get("r");(g>(a||n.get("height"))&&r>1||g<(s||.05*n.get("height"))&&r<1)&&(r=1),g*=r,e.set("r",g),e.filter(t)}},e.prototype.filter=function(t){var e=this,r=e.get("graph"),n=r.getNodes(),o={},i=e.get("r"),a=e.get("type"),s={x:t.x,y:t.y};e.updateDelegate(s,i);var g=e.get("shouldShow"),c=e.get("vShapes");c&&c.forEach((function(t){t.remove(),t.destroy()})),c=[],n.forEach((function(t){var e=t.getModel(),r=e.x,n=e.y;A({x:r,y:n},s)<i&&(o[e.id]=t)}));var l=r.getEdges(),h=[];l.forEach((function(t){var e=t.getModel(),r=e.source,n=e.target;g(e)&&("only-source"===a||"one"===a?o[r]&&!o[n]&&h.push(t):"only-target"===a||"one"===a?o[n]&&!o[r]&&h.push(t):"both"===a&&o[r]&&o[n]&&h.push(t))}));var u=e.get("showNodeLabel"),d=e.get("showEdgelabel"),p=r.get("group");h.forEach((function(t){var e=t.get("group").get("children");e.forEach((function(t){var e=t.get("type"),r=p.addShape(e,{attrs:t.attr()});c.push(r),u&&"text"===e&&r.set("visible",!0)}))})),Object.keys(o).forEach((function(t){var e=o[t],r=e.get("group").clone();if(p.add(r),c.push(r),d)for(var n=r.get("children"),i=0;i<n.length;i++){var a=n[i];"text"===a.get("type")&&a.set("visible",!0)}})),e.set("vShapes",c)},e.prototype.updateParams=function(t){var e=this,r=t.r,n=t.trigger,o=t.minR,i=t.maxR,a=t.scaleRBy,s=t.showLabel,g=t.shouldShow;if(isNaN(t.r)||e.set("r",r),isNaN(i)||e.set("maxR",i),isNaN(o)||e.set("minR",o),"mousemove"!==n&&"click"!==n||e.set("trigger",n),"wheel"===a||"unset"===a){e.set("scaleRBy",a),e.get("delegate").remove(),e.get("delegate").destroy();var c=e.get("dPercentText");c&&(c.remove(),c.destroy())}"node"!==s&&"both"!==s||e.set("showNodeLabel",!0),"edge"!==s&&"both"!==s||e.set("showEdgeLabel",!0),g&&e.set("shouldShow",g)},e.prototype.updateDelegate=function(t,e){var r=this,n=r.get("graph"),o=r.get("delegate");if(!o||o.destroyed){var i=n.get("group"),a=r.get("delegateStyle")||L;o=i.addShape("circle",{attrs:k({r:e,x:t.x,y:t.y},a),name:"lens-shape",draggable:!0}),"drag"!==this.get("trigger")&&"wheel"===this.get("scaleRBy")&&o.on("mousewheel",(function(t){r.scaleRByWheel(t)}))}else o.attr({x:t.x,y:t.y,r:e});r.set("delegate",o)},e.prototype.clear=function(){var t=this,e=t.get("vShapes");e&&e.forEach((function(t){t.remove(),t.destroy()})),e=[],t.set("vShapes",e);var r=t.get("delegate");r&&!r.destroyed&&(r.remove(),r.destroy())},e.prototype.destroy=function(){this.clear()},e}(o["a"]),W=Z,z=r("d24b"),G=r("2d10"),V=r("940f"),Y={PluginBase:o["a"],Menu:c["a"],Grid:g,Minimap:l["a"],Bundling:f,ToolBar:E["a"],Tooltip:O["a"],Fisheye:P,TimeBar:C["a"],ImageMinimap:N,EdgeFilterLens:W,SnapLine:z["a"],Legend:G["a"],Annotation:V["a"]};e["a"]=Y},effd:function(t,e,r){"use strict";var n=r("8937"),o=function(){function t(t){this._cfgs=Object(n["deepMix"])(this.getDefaultCfgs(),t),this._events={},this.destroyed=!1}return t.prototype.getDefaultCfgs=function(){return{}},t.prototype.initPlugin=function(t){var e=this;e.set("graph",t);var r=e.getEvents(),o={};Object(n["each"])(r,(function(r,i){var a=Object(n["wrapBehavior"])(e,r);o[i]=a,t.on(i,a)})),this._events=o,this.init()},t.prototype.getEvents=function(){return{}},t.prototype.get=function(t){var e;return null===(e=this._cfgs)||void 0===e?void 0:e[t]},t.prototype.set=function(t,e){this._cfgs[t]=e},t.prototype.destroy=function(){},t.prototype.destroyPlugin=function(){this.destroy();var t=this.get("graph"),e=this._events;Object(n["each"])(e,(function(e,r){t.off(r,e)})),this._events=null,this._cfgs=null,this.destroyed=!0},t}();e["a"]=o}}]);