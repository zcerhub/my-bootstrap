(window["jsonpPaas4"]=window["jsonpPaas4"]||[]).push([["app~16ce2f2a"],{"23c5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("el-tabs",{model:{value:e.tabName,callback:function(t){e.tabName=t},expression:"tabName"}},[t("el-tab-pane",{attrs:{label:"redis",name:"redis"}}),t("el-tab-pane",{attrs:{label:"kafka",name:"kafka"}}),t("el-tab-pane",{attrs:{label:"rocketmq",name:"rocketmq"}}),t("el-tab-pane",{attrs:{label:"zookeeper",name:"zookeeper"}}),t("el-tab-pane",{attrs:{label:"sequence",name:"sequence"}})],1),"redis"===e.tabName?t("RedisPage",{attrs:{tabName:e.tabName}}):e._e(),"kafka"===e.tabName?t("KafkaPage",{attrs:{tabName:e.tabName}}):e._e(),"rocketmq"===e.tabName?t("RocketmqPage",{attrs:{tabName:e.tabName}}):e._e(),"zookeeper"===e.tabName?t("ZookeeperPage",{attrs:{tabName:e.tabName}}):e._e(),"sequence"===e.tabName?t("SequencePage",{attrs:{tabName:e.tabName}}):e._e()],1)},o=[],n=a("e80a"),r=a("8409"),s=a("43f5"),l=a("f9f4"),c=a("8c22"),f={components:{RedisPage:n["default"],KafkaPage:r["default"],RocketmqPage:s["default"],ZookeeperPage:l["default"],SequencePage:c["default"]},data:function(){return{tabName:"redis"}},mounted:function(){},methods:{}},u=f,p=a("2877"),d=Object(p["a"])(u,i,o,!1,null,"30a381aa",null);t["default"]=d.exports},"43f5":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.total,isCheckbox:e.tableConfig.isCheckbox,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showDialog?t("AddAndEdit",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e(),e.showUploadDialog?t("UploadPack",{attrs:{rowData:e.uploadData,refresh:e.getList},model:{value:e.showUploadDialog,callback:function(t){e.showUploadDialog=t},expression:"showUploadDialog"}}):e._e()],1)},o=[],n=a("1855"),r=a("ff51"),s=a("ec41"),l=(a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"120px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[t("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.form.productName,callback:function(t){e.$set(e.form,"productName","string"===typeof t?t.trim():t)},expression:"form.productName"}})],1),t("el-form-item",{attrs:{label:"版本",prop:"version"}},[t("el-input",{attrs:{placeholder:"请输入版本"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version","string"===typeof t?t.trim():t)},expression:"form.version"}})],1),t("el-form-item",{attrs:{label:"描述",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入描述"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark","string"===typeof t?t.trim():t)},expression:"form.remark"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),c=[],f=a("c7eb"),u=a("1da1");a("b64b"),a("d3b7"),a("159b");function p(e){var t={tableName:"",productName:"",version:"",remark:""};return e&&Object.keys(t).forEach((function(a){t[a]=e[a]})),t}var d={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{cpuCoreOptions:["ARM","x86"],labelPosition:"right",form:p(),rules:{productName:[{required:!0,message:"请输入产品名称",trigger:"blur"}],version:[{required:!0,message:"请输入版本",trigger:"blur"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){var e=this;this.form.tableName=this.rowData.tableName,this.isEdit&&Object.keys(this.form).forEach((function(t){e.form[t]=e.rowData[t]}))},methods:{clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},editConfirm:function(){var e=this;ApiEdit(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},addConfirm:function(){var e=this;Object(n["c"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},clickConfirm:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(u["a"])(Object(f["a"])().mark((function t(a){return Object(f["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(e.isEdit?e.editConfirm():e.addConfirm());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},m=d,g=a("2877"),h=Object(g["a"])(m,l,c,!1,null,"442ce59e",null),b=h.exports,v=a("9785"),k={filters:{},components:{AddAndEdit:b,UploadPack:v["default"]},props:{tabName:String},data:function(){var e=this;this.$createElement;return{showUploadDialog:!1,buttonList:[{label:"新增",type:"add",click:this.addOrganization},{label:"上传",type:"upload",click:this.uploadFile}],showDialog:!1,rowData:{},uploadData:{},tableConfig:{loading:!1,isCheckbox:!0,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"productName",label:"产品名称",align:"center"},{prop:"version",label:"版本",align:"center"},{prop:"remark",label:"描述",align:"center"},{prop:"packageName",label:"部署包",align:"center",render:function(t,a){var i=a.row;return i.packageName?t("el-link",{style:"color:#1d70f5",on:{click:function(){return e.downPack(i.id,i.packageName)}}},[i.packageName]):t("span",["-"])}},{prop:"sdkName",label:"SDK包",align:"center",render:function(t,a){var i=a.row;return i.sdkName?t("el-link",{style:"color:#1d70f5",on:{click:function(){return e.downPack(i.id,i.sdkName)}}},[i.sdkName]):t("span",["-"])}}],operate:{width:220,list:[{label:"删除",id:"delete"}]}},searchModel:{searchData:{productName:""},searchItem:[{type:"input",label:"产品名称",prop:"productName"}],rules:{}}}},mounted:function(){this.getList()},methods:{downPack:function(e,t){var a={fileName:t,id:e,tableName:this.tabName};Object(n["b"])(a).then((function(e){saveAs(new Blob([e],{type:"text/plain;charset=utf-8"}),t)}))},uploadFile:function(){var e=this.$refs.tableView.$refs.tableView.selection;1!==e.length?this.$message.warning("请选择一条数据"):(this.showUploadDialog=!0,this.uploadData={id:e[0].id,tableName:this.tabName})},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),i=e.operate;"delete"===i.id&&this.$confirm("确定要删除【".concat(a.productName,"】吗?"),{type:"warning"}).then((function(){Object(n["a"])({id:a.id}).then((function(e){200===e.code?(t.$message.success("删除成功"),t.getList()):t.$message.error(e.msg)})).catch((function(e){}))})).catch((function(e){}))},addOrganization:function(){this.showDialog=!0,this.rowData.tableName=this.tabName},onSearch:function(){this.tableConfig.pagination.currentPage=1,this.getList()},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:{tableName:this.tabName}};Object(n["d"])(t).then((function(t){Object(r["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data),e.tableConfig.pagination.total=Object(s["a"])(t,"data.totalCount")||0}))}}},w=k,C=Object(g["a"])(w,i,o,!1,null,"d481b268",null);t["default"]=C.exports},"4c65":function(e,t,a){"use strict";a.r(t);a("498a");var i=function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"上传类型",prop:"packageType"}},[t("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择类型"},model:{value:e.form.packageType,callback:function(t){e.$set(e.form,"packageType","string"===typeof t?t.trim():t)},expression:"form.packageType"}},e._l(e.uploadTypeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"上传文件",prop:""}},[t("upload-button",{ref:"unpackUpload",attrs:{action:"/v1/basic/file/upload",fileList:e.fileList,listType:"",data:e.form,autoUpload:!0,showFileList:!0,buttonText:"选择文件",beforeUpload:e.beforeUpload,multiple:!1},on:{success:e.uploadSuccess},model:{value:e.fileData,callback:function(t){e.fileData=t},expression:"fileData"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("关闭")])],1)],1)},o=[],n=a("c7eb"),r=a("1da1"),s=a("1855"),l={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{fileData:"",fileList:[],uploadTypeOptions:[{label:"部署包",value:"package"},{label:"SDK包",value:"sdk"}],cpuCoreOptions:["ARM","x86"],labelPosition:"right",form:{id:"",packageType:"",tableName:""},rules:{packageType:[{required:!0,message:"请选择类型",trigger:"change"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){this.form.id=this.rowData.id,this.form.tableName=this.rowData.tableName},methods:{beforeUpload:function(){var e=this,t=!0;return this.$refs.formRef.validate(function(){var a=Object(r["a"])(Object(n["a"])().mark((function a(i){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i||(e.$message("请选择类型"),t=!1);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),t},uploadSuccess:function(e){var t=e.response;e.file,e.fileList;200===t.code&&(this.$message.success("上传成功"),this.$emit("change",!1),this.refresh())},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},editConfirm:function(){var e=this;ApiEdit(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},addConfirm:function(){var e=this;Object(s["c"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},clickConfirm:function(){this.$emit("change",!1)}}},c=l,f=a("2877"),u=Object(f["a"])(c,i,o,!1,null,"3f7455d3",null);t["default"]=u.exports},"53e5":function(e,t,a){"use strict";a.r(t);a("498a");var i=function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"上传类型",prop:"packageType"}},[t("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择类型"},model:{value:e.form.packageType,callback:function(t){e.$set(e.form,"packageType","string"===typeof t?t.trim():t)},expression:"form.packageType"}},e._l(e.uploadTypeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"上传文件",prop:""}},[t("upload-button",{ref:"unpackUpload",attrs:{action:"/v1/basic/file/upload",fileList:e.fileList,listType:"",data:e.form,autoUpload:!0,showFileList:!0,buttonText:"选择文件",beforeUpload:e.beforeUpload,multiple:!1},on:{success:e.uploadSuccess},model:{value:e.fileData,callback:function(t){e.fileData=t},expression:"fileData"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("关闭")])],1)],1)},o=[],n=a("c7eb"),r=a("1da1"),s=(a("1855"),{name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{fileData:"",fileList:[],uploadTypeOptions:[{label:"部署包",value:"package"},{label:"SDK包",value:"sdk"}],labelPosition:"right",form:{id:"",packageType:"",tableName:""},rules:{packageType:[{required:!0,message:"请选择类型",trigger:"change"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){this.form.id=this.rowData.id,this.form.tableName=this.rowData.tableName},methods:{beforeUpload:function(){var e=this,t=!0;return this.$refs.formRef.validate(function(){var a=Object(r["a"])(Object(n["a"])().mark((function a(i){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i||(e.$message("请选择类型"),t=!1);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),t},uploadSuccess:function(e){var t=e.response;e.file,e.fileList;200===t.code&&(this.$message.success("上传成功"),this.$emit("change",!1),this.refresh())},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},clickConfirm:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)}}}),l=s,c=a("2877"),f=Object(c["a"])(l,i,o,!1,null,"182e09e5",null);t["default"]=f.exports},8409:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.total,isCheckbox:e.tableConfig.isCheckbox,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showDialog?t("AddAndEdit",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e(),e.showUploadDialog?t("UploadPack",{attrs:{rowData:e.uploadData,refresh:e.getList},model:{value:e.showUploadDialog,callback:function(t){e.showUploadDialog=t},expression:"showUploadDialog"}}):e._e()],1)},o=[],n=a("1855"),r=a("ff51"),s=a("ec41"),l=(a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"120px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[t("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.form.productName,callback:function(t){e.$set(e.form,"productName","string"===typeof t?t.trim():t)},expression:"form.productName"}})],1),t("el-form-item",{attrs:{label:"版本",prop:"version"}},[t("el-input",{attrs:{placeholder:"请输入版本"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version","string"===typeof t?t.trim():t)},expression:"form.version"}})],1),t("el-form-item",{attrs:{label:"描述",prop:"desc"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入描述"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark","string"===typeof t?t.trim():t)},expression:"form.remark"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),c=[],f=a("c7eb"),u=a("1da1");a("b64b"),a("d3b7"),a("159b");function p(e){var t={tableName:"",productName:"",version:"",remark:""};return e&&Object.keys(t).forEach((function(a){t[a]=e[a]})),t}var d={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{cpuCoreOptions:["ARM","x86"],labelPosition:"right",form:p(),rules:{productName:[{required:!0,message:"请输入产品名称",trigger:"blur"}],version:[{required:!0,message:"请输入版本",trigger:"blur"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){var e=this;this.form.tableName=this.rowData.tableName,this.isEdit&&Object.keys(this.form).forEach((function(t){e.form[t]=e.rowData[t]}))},methods:{clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},editConfirm:function(){var e=this;ApiEdit(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},addConfirm:function(){var e=this;Object(n["c"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},clickConfirm:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(u["a"])(Object(f["a"])().mark((function t(a){return Object(f["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(e.isEdit?e.editConfirm():e.addConfirm());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},m=d,g=a("2877"),h=Object(g["a"])(m,l,c,!1,null,"be8c4d64",null),b=h.exports,v=a("a248"),k={filters:{},components:{AddAndEdit:b,UploadPack:v["default"]},props:{tabName:String},data:function(){var e=this;this.$createElement;return{showUploadDialog:!1,buttonList:[{label:"新增",type:"add",click:this.addOrganization},{label:"上传",type:"upload",click:this.uploadFile}],showDialog:!1,rowData:{},uploadData:{},tableConfig:{loading:!1,isCheckbox:!0,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"productName",label:"产品名称",align:"center"},{prop:"version",label:"版本",align:"center"},{prop:"remark",label:"描述",align:"center"},{prop:"packageName",label:"部署包",align:"center",render:function(t,a){var i=a.row;return i.packageName?t("el-link",{style:"color:#1d70f5",on:{click:function(){return e.downPack(i.id,i.packageName)}}},[i.packageName]):t("span",["-"])}},{prop:"sdkName",label:"SDK包",align:"center",render:function(t,a){var i=a.row;return i.sdkName?t("el-link",{style:"color:#1d70f5",on:{click:function(){return e.downPack(i.id,i.sdkName)}}},[i.sdkName]):t("span",["-"])}}],operate:{width:220,list:[{label:"删除",id:"delete"}]}},searchModel:{searchData:{productName:""},searchItem:[{type:"input",label:"产品名称",prop:"productName"}],rules:{}}}},mounted:function(){this.getList()},methods:{downPack:function(e,t){var a={fileName:t,id:e,tableName:this.tabName};Object(n["b"])(a).then((function(e){saveAs(new Blob([e],{type:"text/plain;charset=utf-8"}),t)}))},uploadFile:function(){var e=this.$refs.tableView.$refs.tableView.selection;1!==e.length?this.$message.warning("请选择一条数据"):(this.showUploadDialog=!0,this.uploadData={id:e[0].id,tableName:this.tabName})},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),i=e.operate;"delete"===i.id&&this.$confirm("确定要删除【".concat(a.productName,"】吗?"),{type:"warning"}).then((function(){Object(n["a"])({id:a.id}).then((function(e){200===e.code?(t.$message.success("删除成功"),t.getList()):t.$message.error(e.msg)})).catch((function(e){}))})).catch((function(e){}))},addOrganization:function(){this.showDialog=!0,this.rowData.tableName=this.tabName},onSearch:function(){this.tableConfig.pagination.currentPage=1,this.getList()},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:{tableName:this.tabName}};Object(n["d"])(t).then((function(t){Object(r["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data),e.tableConfig.pagination.total=Object(s["a"])(t,"data.totalCount")||0}))}}},w=k,C=Object(g["a"])(w,i,o,!1,null,"13425e88",null);t["default"]=C.exports},"8c22":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.total,isCheckbox:e.tableConfig.isCheckbox,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showDialog?t("AddAndEdit",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e(),e.showUploadDialog?t("UploadPack",{attrs:{rowData:e.uploadData,refresh:e.getList},model:{value:e.showUploadDialog,callback:function(t){e.showUploadDialog=t},expression:"showUploadDialog"}}):e._e()],1)},o=[],n=a("1855"),r=a("ff51"),s=a("ec41"),l=(a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"120px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[t("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.form.productName,callback:function(t){e.$set(e.form,"productName","string"===typeof t?t.trim():t)},expression:"form.productName"}})],1),t("el-form-item",{attrs:{label:"版本",prop:"version"}},[t("el-input",{attrs:{placeholder:"请输入版本"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version","string"===typeof t?t.trim():t)},expression:"form.version"}})],1),t("el-form-item",{attrs:{label:"描述",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入描述"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark","string"===typeof t?t.trim():t)},expression:"form.remark"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),c=[],f=a("c7eb"),u=a("1da1");a("b64b"),a("d3b7"),a("159b");function p(e){var t={tableName:"",productName:"",version:"",remark:""};return e&&Object.keys(t).forEach((function(a){t[a]=e[a]})),t}var d={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{cpuCoreOptions:["ARM","x86"],labelPosition:"right",form:p(),rules:{productName:[{required:!0,message:"请输入产品名称",trigger:"blur"}],version:[{required:!0,message:"请输入版本",trigger:"blur"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){var e=this;this.form.tableName=this.rowData.tableName,this.isEdit&&Object.keys(this.form).forEach((function(t){e.form[t]=e.rowData[t]}))},methods:{clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},editConfirm:function(){var e=this;ApiEdit(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},addConfirm:function(){var e=this;Object(n["c"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},clickConfirm:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(u["a"])(Object(f["a"])().mark((function t(a){return Object(f["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(e.isEdit?e.editConfirm():e.addConfirm());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},m=d,g=a("2877"),h=Object(g["a"])(m,l,c,!1,null,"74b1f0f0",null),b=h.exports,v=a("c513"),k={filters:{},components:{AddAndEdit:b,UploadPack:v["default"]},props:{tabName:String},data:function(){var e=this;this.$createElement;return{showUploadDialog:!1,buttonList:[{label:"新增",type:"add",click:this.addOrganization},{label:"上传",type:"upload",click:this.uploadFile}],showDialog:!1,rowData:{},uploadData:{},tableConfig:{loading:!1,isCheckbox:!0,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"productName",label:"产品名称",align:"center"},{prop:"version",label:"版本",align:"center"},{prop:"remark",label:"描述",align:"center"},{prop:"packageName",label:"部署包",align:"center",render:function(t,a){var i=a.row;return i.packageName?t("el-link",{style:"color:#1d70f5",on:{click:function(){return e.downPack(i.id,i.packageName)}}},[i.packageName]):t("span",["-"])}},{prop:"sdkName",label:"SDK包",align:"center",render:function(t,a){var i=a.row;return i.sdkName?t("el-link",{style:"color:#1d70f5",on:{click:function(){return e.downPack(i.id,i.sdkName)}}},[i.sdkName]):t("span",["-"])}}],operate:{width:220,list:[{label:"删除",id:"delete"}]}},searchModel:{searchData:{productName:""},searchItem:[{type:"input",label:"产品名称",prop:"productName"}],rules:{}}}},mounted:function(){this.getList()},methods:{downPack:function(e,t){var a={fileName:t,id:e,tableName:this.tabName};Object(n["b"])(a).then((function(e){saveAs(new Blob([e],{type:"text/plain;charset=utf-8"}),t)}))},uploadFile:function(){var e=this.$refs.tableView.$refs.tableView.selection;1!==e.length?this.$message.warning("请选择一条数据"):(this.showUploadDialog=!0,this.uploadData={id:e[0].id,tableName:this.tabName})},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),i=e.operate;"delete"===i.id&&this.$confirm("确定要删除【".concat(a.productName,"】吗?"),{type:"warning"}).then((function(){Object(n["a"])({id:a.id}).then((function(e){200===e.code?(t.$message.success("删除成功"),t.getList()):t.$message.error(e.msg)})).catch((function(e){}))})).catch((function(e){}))},addOrganization:function(){this.showDialog=!0,this.rowData.tableName=this.tabName},onSearch:function(){this.tableConfig.pagination.currentPage=1,this.getList()},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:{tableName:this.tabName}};Object(n["d"])(t).then((function(t){Object(r["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data),e.tableConfig.pagination.total=Object(s["a"])(t,"data.totalCount")||0}))}}},w=k,C=Object(g["a"])(w,i,o,!1,null,"ce7c6adc",null);t["default"]=C.exports},9785:function(e,t,a){"use strict";a.r(t);a("498a");var i=function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"上传类型",prop:"packageType"}},[t("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择类型"},model:{value:e.form.packageType,callback:function(t){e.$set(e.form,"packageType","string"===typeof t?t.trim():t)},expression:"form.packageType"}},e._l(e.uploadTypeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"上传文件",prop:""}},[t("upload-button",{ref:"unpackUpload",attrs:{action:"/v1/basic/file/upload",fileList:e.fileList,listType:"",data:e.form,autoUpload:!0,showFileList:!0,buttonText:"选择文件",beforeUpload:e.beforeUpload,multiple:!1},on:{success:e.uploadSuccess},model:{value:e.fileData,callback:function(t){e.fileData=t},expression:"fileData"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("关闭")])],1)],1)},o=[],n=a("c7eb"),r=a("1da1"),s=a("1855"),l={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{fileData:"",fileList:[],uploadTypeOptions:[{label:"部署包",value:"package"},{label:"SDK包",value:"sdk"}],cpuCoreOptions:["ARM","x86"],labelPosition:"right",form:{id:"",packageType:"",tableName:""},rules:{packageType:[{required:!0,message:"请选择类型",trigger:"change"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){this.form.id=this.rowData.id,this.form.tableName=this.rowData.tableName},methods:{beforeUpload:function(){var e=this,t=!0;return this.$refs.formRef.validate(function(){var a=Object(r["a"])(Object(n["a"])().mark((function a(i){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i||(e.$message("请选择类型"),t=!1);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),t},uploadSuccess:function(e){var t=e.response;e.file,e.fileList;200===t.code&&(this.$message.success("上传成功"),this.$emit("change",!1),this.refresh())},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},editConfirm:function(){var e=this;ApiEdit(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},addConfirm:function(){var e=this;Object(s["c"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},clickConfirm:function(){this.$emit("change",!1)}}},c=l,f=a("2877"),u=Object(f["a"])(c,i,o,!1,null,"cc10632e",null);t["default"]=u.exports},a248:function(e,t,a){"use strict";a.r(t);a("498a");var i=function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"上传类型",prop:"packageType"}},[t("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择类型"},model:{value:e.form.packageType,callback:function(t){e.$set(e.form,"packageType","string"===typeof t?t.trim():t)},expression:"form.packageType"}},e._l(e.uploadTypeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"上传文件",prop:""}},[t("upload-button",{ref:"unpackUpload",attrs:{action:"/v1/basic/file/upload",fileList:e.fileList,listType:"",data:e.form,autoUpload:!0,showFileList:!0,buttonText:"选择文件",beforeUpload:e.beforeUpload,multiple:!1},on:{success:e.uploadSuccess},model:{value:e.fileData,callback:function(t){e.fileData=t},expression:"fileData"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("关闭")])],1)],1)},o=[],n=a("c7eb"),r=a("1da1"),s=a("1855"),l={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{fileData:"",fileList:[],uploadTypeOptions:[{label:"部署包",value:"package"},{label:"SDK包",value:"sdk"}],cpuCoreOptions:["ARM","x86"],labelPosition:"right",form:{id:"",packageType:"",tableName:""},rules:{packageType:[{required:!0,message:"请选择类型",trigger:"change"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){this.form.id=this.rowData.id,this.form.tableName=this.rowData.tableName},methods:{beforeUpload:function(){var e=this,t=!0;return this.$refs.formRef.validate(function(){var a=Object(r["a"])(Object(n["a"])().mark((function a(i){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i||(e.$message("请选择类型"),t=!1);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),t},uploadSuccess:function(e){var t=e.response;e.file,e.fileList;200===t.code&&(this.$message.success("上传成功"),this.$emit("change",!1),this.refresh())},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},editConfirm:function(){var e=this;ApiEdit(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},addConfirm:function(){var e=this;Object(s["c"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},clickConfirm:function(){this.$emit("change",!1)}}},c=l,f=a("2877"),u=Object(f["a"])(c,i,o,!1,null,"41bb27a6",null);t["default"]=u.exports},a85b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("search-form",{attrs:{searchConfig:e.searchModel},on:{onSearch:e.onSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.total,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showDialog?t("AddAndEdit",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e()],1)},o=[],n=a("5530"),r=a("783f"),s=a("743a"),l=a("ff51"),c=a("ec41"),f=(a("a4d3"),a("e01a"),a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"120px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"组织",prop:"organizationId"}},[t("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择组织"},model:{value:e.form.organizationId,callback:function(t){e.$set(e.form,"organizationId","string"===typeof t?t.trim():t)},expression:"form.organizationId"}},e._l(e.organizationList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.organizationName,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"地区",prop:"cityId"}},[t("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择地区"},model:{value:e.form.cityId,callback:function(t){e.$set(e.form,"cityId","string"===typeof t?t.trim():t)},expression:"form.cityId"}},e._l(e.cityList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.cityName,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"数据中心编码",prop:"machineRoomCode"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入数据中心编码"},model:{value:e.form.machineRoomCode,callback:function(t){e.$set(e.form,"machineRoomCode","string"===typeof t?t.trim():t)},expression:"form.machineRoomCode"}})],1),t("el-form-item",{attrs:{label:"数据中心名称",prop:"machineRoomName"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{placeholder:"请输入数据中心名称"},model:{value:e.form.machineRoomName,callback:function(t){e.$set(e.form,"machineRoomName","string"===typeof t?t.trim():t)},expression:"form.machineRoomName"}})],1),t("el-form-item",{attrs:{label:"描述",prop:"description"}},[t("el-input",{staticStyle:{width:"400px"},attrs:{type:"textarea",rows:2,placeholder:"请输入内容"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description","string"===typeof t?t.trim():t)},expression:"form.description"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),u=[],p=a("c7eb"),d=a("1da1");a("b64b"),a("d3b7"),a("159b");function m(e){var t={id:"",machineRoomCode:"",machineRoomName:"",organizationId:"",cityId:""};return e&&Object.keys(t).forEach((function(a){t[a]=e[a]})),t}var g={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{organizationList:[],cityList:[],labelPosition:"right",form:m(),rules:{organizationId:[{required:!0,message:"请选择组织",trigger:"change"}],cityId:[{required:!0,message:"请选择地区",trigger:"change"}],machineRoomCode:[{required:!0,message:"请输入数据中心编码",trigger:"blur"}],machineRoomName:[{required:!0,message:"请输入数据中心名称",trigger:"blur"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){var e=this;this.isEdit&&Object.keys(this.form).forEach((function(t){e.form[t]=e.rowData[t]})),this.getOrganizationList(),this.getCityList()},methods:{getOrganizationList:function(){var e=this;Object(r["f"])().then((function(t){200===t.code&&(e.organizationList=t.data)}))},getCityList:function(){var e=this;Object(r["b"])().then((function(t){200===t.code&&(e.cityList=t.data)}))},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},confirmTest:function(){var e=this;ApiAddConnecte(this.formDataFile).then((function(t){200===t.code?(e.$message({type:"success",message:"已联通"}),e.rowData?(e.formDataFile.set("id",e.rowData.id),Object(r["d"])(e.formDataFile).then((function(t){200===t.code&&(e.$message({type:"success",message:t.data}),e.$emit("change",!1),e.refresh())})).catch((function(e){}))):Object(r["a"])(e.formDataFile).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())})).catch((function(e){}))):e.$message.error(t.msg)}))},editConfirm:function(){var e=this;Object(r["d"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},addConfirm:function(){var e=this;Object(r["a"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},clickConfirm:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(d["a"])(Object(p["a"])().mark((function t(a){return Object(p["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(e.isEdit?e.editConfirm():e.addConfirm());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},h=g,b=a("2877"),v=Object(b["a"])(h,f,u,!1,null,"7ad8e60e",null),k=v.exports,w={filters:{},components:{headersearch:s["default"],AddAndEdit:k},data:function(){return{buttonList:[{label:"新增",type:"add",click:this.addOrganization}],showDialog:!1,rowData:null,tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"machineRoomCode",label:"数据中心编码",align:"center"},{prop:"machineRoomName",label:"数据中心名称",align:"center"}],operate:{width:220,list:[{label:"编辑",id:"edit"},{label:"删除",id:"delete"}]}},searchModel:{searchData:{machineRoomCode:"",machineRoomName:""},searchItem:[{type:"input",label:"数据中心名称",prop:"machineRoomCode"},{type:"input",label:"数据中心编码",prop:"machineRoomName"}],rules:{}}}},mounted:function(){this.getList()},methods:{changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),i=e.operate;"delete"===i.id?this.$confirm("确定要删除【".concat(a.machineRoomName,"】吗?"),{type:"warning"}).then((function(){Object(r["c"])(a.id).then((function(e){200===e.code?(t.$message.success("删除成功"),t.getList()):t.$message.error(e.msg)})).catch((function(e){}))})).catch((function(e){})):"edit"===i.id&&(this.rowData=a,this.showDialog=!0)},addOrganization:function(){this.showDialog=!0,this.rowData=null},onSearch:function(){this.tableConfig.pagination.currentPage=1,this.getList()},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:Object(n["a"])({},this.searchModel.searchData)};Object(r["e"])(t).then((function(t){Object(l["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data),e.tableConfig.pagination.total=Object(c["a"])(t,"data.totalCount")||0}))}}},C=w,N=Object(b["a"])(C,i,o,!1,null,"36cfff6f",null);t["default"]=N.exports},c513:function(e,t,a){"use strict";a.r(t);a("498a");var i=function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"80px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"上传类型",prop:"packageType"}},[t("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择类型"},model:{value:e.form.packageType,callback:function(t){e.$set(e.form,"packageType","string"===typeof t?t.trim():t)},expression:"form.packageType"}},e._l(e.uploadTypeOptions,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"上传文件",prop:""}},[t("upload-button",{ref:"unpackUpload",attrs:{action:"/v1/basic/file/upload",fileList:e.fileList,listType:"",data:e.form,autoUpload:!0,showFileList:!0,buttonText:"选择文件",beforeUpload:e.beforeUpload,multiple:!1},on:{success:e.uploadSuccess},model:{value:e.fileData,callback:function(t){e.fileData=t},expression:"fileData"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("关闭")])],1)],1)},o=[],n=a("c7eb"),r=a("1da1"),s=a("1855"),l={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{fileData:"",fileList:[],uploadTypeOptions:[{label:"部署包",value:"package"},{label:"SDK包",value:"sdk"}],cpuCoreOptions:["ARM","x86"],labelPosition:"right",form:{id:"",packageType:"",tableName:""},rules:{packageType:[{required:!0,message:"请选择类型",trigger:"change"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){this.form.id=this.rowData.id,this.form.tableName=this.rowData.tableName},methods:{beforeUpload:function(){var e=this,t=!0;return this.$refs.formRef.validate(function(){var a=Object(r["a"])(Object(n["a"])().mark((function a(i){return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i||(e.$message("请选择类型"),t=!1);case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()),t},uploadSuccess:function(e){var t=e.response;e.file,e.fileList;200===t.code&&(this.$message.success("上传成功"),this.$emit("change",!1),this.refresh())},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},editConfirm:function(){var e=this;ApiEdit(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},addConfirm:function(){var e=this;Object(s["c"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},clickConfirm:function(){this.$emit("change",!1)}}},c=l,f=a("2877"),u=Object(f["a"])(c,i,o,!1,null,"e4abf59c",null);t["default"]=u.exports},e80a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.total,isCheckbox:e.tableConfig.isCheckbox,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showDialog?t("AddAndEdit",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e(),e.showUploadDialog?t("UploadPack",{attrs:{rowData:e.uploadData,refresh:e.getList},model:{value:e.showUploadDialog,callback:function(t){e.showUploadDialog=t},expression:"showUploadDialog"}}):e._e()],1)},o=[],n=a("1855"),r=a("ff51"),s=a("ec41"),l=(a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"120px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[t("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.form.productName,callback:function(t){e.$set(e.form,"productName","string"===typeof t?t.trim():t)},expression:"form.productName"}})],1),t("el-form-item",{attrs:{label:"版本",prop:"version"}},[t("el-input",{attrs:{placeholder:"请输入版本"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version","string"===typeof t?t.trim():t)},expression:"form.version"}})],1),t("el-form-item",{attrs:{label:"CPU内核",prop:"cpuArchitecture"}},[t("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择CPU内核"},model:{value:e.form.cpuArchitecture,callback:function(t){e.$set(e.form,"cpuArchitecture","string"===typeof t?t.trim():t)},expression:"form.cpuArchitecture"}},e._l(e.cpuCoreOptions,(function(e){return t("el-option",{key:e,attrs:{label:e,value:e}})})),1)],1),t("el-form-item",{attrs:{label:"描述",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入描述"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark","string"===typeof t?t.trim():t)},expression:"form.remark"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),c=[],f=a("c7eb"),u=a("1da1");a("b64b"),a("d3b7"),a("159b");function p(e){var t={productName:"",tableName:"",version:"",cpuArchitecture:"",remark:""};return e&&Object.keys(t).forEach((function(a){t[a]=e[a]})),t}var d={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{cpuCoreOptions:["ARM","x86"],labelPosition:"right",form:p(),rules:{productName:[{required:!0,message:"请输入产品名称",trigger:"blur"}],version:[{required:!0,message:"请输入版本",trigger:"blur"}],cpuArchitecture:[{required:!0,message:"请选择cpu内核",trigger:"blur"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){var e=this;this.form.tableName=this.rowData.tableName,this.isEdit&&Object.keys(this.form).forEach((function(t){e.form[t]=e.rowData[t]}))},methods:{clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},editConfirm:function(){var e=this;ApiEdit(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},addConfirm:function(){var e=this;Object(n["c"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},clickConfirm:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(u["a"])(Object(f["a"])().mark((function t(a){return Object(f["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(e.isEdit?e.editConfirm():e.addConfirm());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},m=d,g=a("2877"),h=Object(g["a"])(m,l,c,!1,null,"44c577e2",null),b=h.exports,v=a("53e5"),k={filters:{},components:{AddAndEdit:b,UploadPack:v["default"]},props:{tabName:String},data:function(){var e=this;this.$createElement;return{showUploadDialog:!1,buttonList:[{label:"新增",type:"add",click:this.addOrganization},{label:"上传",type:"upload",click:this.uploadFile}],showDialog:!1,rowData:{},uploadData:{},tableConfig:{loading:!1,isCheckbox:!0,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"productName",label:"产品名称",align:"center"},{prop:"version",label:"版本",align:"center"},{prop:"cpuArchitecture",label:"CPU内核",align:"center"},{prop:"remark",label:"描述",align:"center"},{prop:"packageName",label:"部署包",align:"center",render:function(t,a){var i=a.row;return i.packageName?t("el-link",{style:"color:#1d70f5",on:{click:function(){return e.downPack(i.id,i.packageName)}}},[i.packageName]):t("span",["-"])}},{prop:"sdkName",label:"SDK包",align:"center",render:function(t,a){var i=a.row;return i.sdkName?t("el-link",{style:"color:#1d70f5",on:{click:function(){return e.downPack(i.id,i.sdkName)}}},[i.sdkName]):t("span",["-"])}}],operate:{width:220,list:[{label:"删除",id:"delete"}]}},searchModel:{searchData:{productName:""},searchItem:[{type:"input",label:"产品名称",prop:"productName"}],rules:{}}}},mounted:function(){this.getList()},methods:{downPack:function(e,t){var a={fileName:t,id:e,tableName:this.tabName};Object(n["b"])(a).then((function(e){saveAs(new Blob([e],{type:"text/plain;charset=utf-8"}),t)}))},uploadFile:function(){var e=this.$refs.tableView.$refs.tableView.selection;1!==e.length?this.$message.warning("请选择一条数据"):(this.showUploadDialog=!0,this.uploadData={id:e[0].id,tableName:this.tabName})},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),i=e.operate;"delete"===i.id&&this.$confirm("确定要删除【".concat(a.productName,"】吗?"),{type:"warning"}).then((function(){Object(n["a"])({id:a.id}).then((function(e){200===e.code?(t.$message.success("删除成功"),t.getList()):t.$message.error(e.msg)})).catch((function(e){}))})).catch((function(e){}))},addOrganization:function(){this.showDialog=!0,this.rowData.tableName=this.tabName},onSearch:function(){this.tableConfig.pagination.currentPage=1,this.getList()},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:{tableName:this.tabName}};Object(n["d"])(t).then((function(t){Object(r["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data),e.tableConfig.pagination.total=Object(s["a"])(t,"data.totalCount")||0}))}}},w=k,C=Object(g["a"])(w,i,o,!1,null,"09f87d9a",null);t["default"]=C.exports},f9f4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.total,isCheckbox:e.tableConfig.isCheckbox,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showDialog?t("AddAndEdit",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e(),e.showUploadDialog?t("UploadPack",{attrs:{rowData:e.uploadData,refresh:e.getList},model:{value:e.showUploadDialog,callback:function(t){e.showUploadDialog=t},expression:"showUploadDialog"}}):e._e()],1)},o=[],n=a("1855"),r=a("ff51"),s=a("ec41"),l=(a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"120px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[t("el-input",{attrs:{placeholder:"请输入产品名称"},model:{value:e.form.productName,callback:function(t){e.$set(e.form,"productName","string"===typeof t?t.trim():t)},expression:"form.productName"}})],1),t("el-form-item",{attrs:{label:"版本",prop:"version"}},[t("el-input",{attrs:{placeholder:"请输入版本"},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version","string"===typeof t?t.trim():t)},expression:"form.version"}})],1),t("el-form-item",{attrs:{label:"描述",prop:"remark"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入描述"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark","string"===typeof t?t.trim():t)},expression:"form.remark"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),c=[],f=a("c7eb"),u=a("1da1");a("b64b"),a("d3b7"),a("159b");function p(e){var t={tableName:"",productName:"",version:"",remark:""};return e&&Object.keys(t).forEach((function(a){t[a]=e[a]})),t}var d={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{cpuCoreOptions:["ARM","x86"],labelPosition:"right",form:p(),rules:{productName:[{required:!0,message:"请输入产品名称",trigger:"blur"}],version:[{required:!0,message:"请输入版本",trigger:"blur"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){var e=this;this.form.tableName=this.rowData.tableName,this.isEdit&&Object.keys(this.form).forEach((function(t){e.form[t]=e.rowData[t]}))},methods:{clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},editConfirm:function(){var e=this;ApiEdit(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},addConfirm:function(){var e=this;Object(n["c"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},clickConfirm:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(u["a"])(Object(f["a"])().mark((function t(a){return Object(f["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(e.isEdit?e.editConfirm():e.addConfirm());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},m=d,g=a("2877"),h=Object(g["a"])(m,l,c,!1,null,"216839f2",null),b=h.exports,v=a("4c65"),k={filters:{},components:{AddAndEdit:b,UploadPack:v["default"]},props:{tabName:String},data:function(){var e=this;this.$createElement;return{showUploadDialog:!1,buttonList:[{label:"新增",type:"add",click:this.addOrganization},{label:"上传",type:"upload",click:this.uploadFile}],showDialog:!1,rowData:{},uploadData:{},tableConfig:{loading:!1,isCheckbox:!0,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"productName",label:"产品名称",align:"center"},{prop:"version",label:"版本",align:"center"},{prop:"remark",label:"描述",align:"center"},{prop:"packageName",label:"部署包",align:"center",render:function(t,a){var i=a.row;return i.packageName?t("el-link",{style:"color:#1d70f5",on:{click:function(){return e.downPack(i.id,i.packageName)}}},[i.packageName]):t("span",["-"])}},{prop:"sdkName",label:"SDK包",align:"center",render:function(t,a){var i=a.row;return i.sdkName?t("el-link",{style:"color:#1d70f5",on:{click:function(){return e.downPack(i.id,i.sdkName)}}},[i.sdkName]):t("span",["-"])}}],operate:{width:220,list:[{label:"删除",id:"delete"}]}},searchModel:{searchData:{productName:""},searchItem:[{type:"input",label:"产品名称",prop:"productName"}],rules:{}}}},mounted:function(){this.getList()},methods:{downPack:function(e,t){var a={fileName:t,id:e,tableName:this.tabName};Object(n["b"])(a).then((function(e){saveAs(new Blob([e],{type:"text/plain;charset=utf-8"}),t)}))},uploadFile:function(){var e=this.$refs.tableView.$refs.tableView.selection;1!==e.length?this.$message.warning("请选择一条数据"):(this.showUploadDialog=!0,this.uploadData={id:e[0].id,tableName:this.tabName})},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),i=e.operate;"delete"===i.id&&this.$confirm("确定要删除【".concat(a.productName,"】吗?"),{type:"warning"}).then((function(){Object(n["a"])({id:a.id}).then((function(e){200===e.code?(t.$message.success("删除成功"),t.getList()):t.$message.error(e.msg)})).catch((function(e){}))})).catch((function(e){}))},addOrganization:function(){this.showDialog=!0,this.rowData.tableName=this.tabName},onSearch:function(){this.tableConfig.pagination.currentPage=1,this.getList()},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:{tableName:this.tabName}};Object(n["d"])(t).then((function(t){Object(r["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data),e.tableConfig.pagination.total=Object(s["a"])(t,"data.totalCount")||0}))}}},w=k,C=Object(g["a"])(w,i,o,!1,null,"9558349a",null);t["default"]=C.exports}}]);