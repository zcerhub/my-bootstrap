(window["jsonpPaas4"]=window["jsonpPaas4"]||[]).push([["app~acfdd614"],{"0301":function(e,t,a){},"063d":function(e,t,a){"use strict";a.r(t);a("99af"),a("b0c0"),a("498a");var n=function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:"添加节点",visible:e.visible,loading:e.loading,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",attrs:{model:e.formData,"label-width":"80px",rules:e.rules}},[t("el-form-item",{attrs:{label:"主机",prop:"machineId"}},[t("el-select",{staticClass:"w-100",attrs:{size:"mini",placeholder:"请选择主机"},on:{change:e.changeIp},model:{value:e.formData.machineId,callback:function(t){e.$set(e.formData,"machineId",t)},expression:"formData.machineId"}},e._l(e.machineList,(function(a){return t("el-option",{key:a.id,staticClass:"el-option-box",attrs:{label:"".concat(a.machineIp,"(").concat(a.machineUserName,")"),value:a.machineId}},[t("ul",{staticClass:"el-option-ul-between"},[t("li",[e._v(e._s(a.machineIp))]),t("li",[e._v(e._s(a.machineUserName))])])])})),1)],1),t("el-form-item",{attrs:{label:"节点端口",prop:"nodePort"}},[t("el-input-number",{staticClass:"w-100",attrs:{size:"mini","controls-position":"right",min:0,max:65535,placeholder:"端口"},model:{value:e.formData.nodePort,callback:function(t){e.$set(e.formData,"nodePort",t)},expression:"formData.nodePort"}})],1),t("el-form-item",{attrs:{label:"路径",prop:"instancePath"}},[t("el-input",{staticClass:"w-100",attrs:{placeholder:"请输入路径",size:"mini"},model:{value:e.formData.instancePath,callback:function(t){e.$set(e.formData,"instancePath","string"===typeof t?t.trim():t)},expression:"formData.instancePath"}})],1),t("el-form-item",{attrs:{label:"配置模板",prop:"configTemplateId"}},[t("el-select",{staticClass:"w-100",attrs:{placeholder:"请选择配置模板"},model:{value:e.formData.configTemplateId,callback:function(t){e.$set(e.formData,"configTemplateId",t)},expression:"formData.configTemplateId"}},e._l(e.opts_kafkaTemplate,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"运行内存",prop:"jvmParam"}},[t("el-select",{staticClass:"w-100",attrs:{placeholder:"请选择运行内存","allow-create":"",filterable:""},model:{value:e.formData.jvmParam,callback:function(t){e.$set(e.formData,"jvmParam",t)},expression:"formData.jvmParam"}},e._l(e.opts_startupTemplate,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)},i=[],o=a("5530"),r=(a("7db0"),a("a9e3"),a("d3b7"),a("d7d7")),l=a("082f"),s=a("49bb"),c=a("61f7"),u=a("ff51"),d={components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,refresh:Function,rowData:{type:Object,default:function(){return{}}},clusterId:{type:String,default:void 0},nodeType:{type:Number,default:void 0}},data:function(){return{opts_startupTemplate:s["i"],opts_kafkaTemplate:[],formData:{machineId:"",instancePath:"",nodePort:0,configTemplateId:"",jvmParam:""},machineList:[],rules:{jvmParam:[{required:!0,validator:c["h"],trigger:"change"}],ip:[{required:!0,trigger:"blur",message:"请选择节点"}],machineId:[{required:!0,trigger:"change",message:"请选择主机"}],nodePort:[{required:!0,trigger:"blur",message:"请输入节点端口"}],instancePath:[{required:!0,trigger:"blur",message:"请输入路径"}]},options:[],loading:!1}},computed:{visible:{get:function(){return this.show},set:function(e){this.$emit("change",!1)}}},watch:{},created:function(){this.getIps(),this.getKafkaConfigTemplate()},mounted:function(){},methods:{getKafkaConfigTemplate:function(){var e=this,t={moduleType:"KAFKA",componentType:"KAFKA"};Object(l["c"])(t).then((function(t){e.opts_kafkaTemplate=Object(u["a"])(null===t||void 0===t?void 0:t.data)?t.data:[]}))},getIps:function(){var e=this;Object(r["f"])(this.clusterId).then((function(t){e.machineList=Object(u["a"])(null===t||void 0===t?void 0:t.data)?t.data:[]})).catch((function(e){}))},changeIp:function(e){var t,a=this.machineList.find((function(t){return t.machineId===e})),n=null!==(t=null===a||void 0===a?void 0:a.deployPath)&&void 0!==t?t:"";this.formData.instancePath=n},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},clickConfirm:function(){var e=this;this.$refs.formRef.validate((function(t){if(t){var a=Object(o["a"])({clusterId:e.clusterId},e.formData);Object(r["a"])(a).then((function(t){t&&200===t.code&&(e.$message.success("新增成功"),e.$emit("change",!1),e.refresh())})).finally((function(){e.loading=!1}))}}))}}},p=d,f=(a("7f79"),a("2877")),m=Object(f["a"])(p,n,i,!1,null,"1dd9bc63",null);t["default"]=m.exports},"0886":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("search-form",{attrs:{searchConfig:e.searchConfig},on:{onSearch:e.onSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,total:e.tableConfig.pagination.total,operateSlice:3,rowKey:"id",isPage:e.tableConfig.isPage,currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showAddDialog?t("AddAndEdit",{attrs:{clusterId:e.searchConfig.searchData.clusterId,rowData:e.rowData,refresh:e.getList},model:{value:e.showAddDialog,callback:function(t){e.showAddDialog=t},expression:"showAddDialog"}}):e._e(),e.showDetailDialog?t("DetailTable",{attrs:{rowData:e.detailData,refresh:e.getList},model:{value:e.showDetailDialog,callback:function(t){e.showDetailDialog=t},expression:"showDetailDialog"}}):e._e(),e.showMsgTest?t("DialogMsgTest",{attrs:{rowData:e.rowData},model:{value:e.showMsgTest,callback:function(t){e.showMsgTest=t},expression:"showMsgTest"}}):e._e()],1)},i=[],o=a("5530"),r=(a("b0c0"),a("a9e3"),a("d3b7"),a("ac1f"),a("00b4"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"100px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"集群",prop:"clusterId"}},[t("el-select",{staticClass:"w-100",attrs:{placeholder:"请选择集群"},model:{value:e.form.clusterId,callback:function(t){e.$set(e.form,"clusterId",t)},expression:"form.clusterId"}},e._l(e.csMixKafkaCluster,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"主题名",prop:"name"}},[t("el-input",{attrs:{size:"mini"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),t("el-form-item",{attrs:{label:"分区数",prop:"partitionCount"}},[t("el-input",{attrs:{size:"mini",type:"number",min:"0"},model:{value:e.form.partitionCount,callback:function(t){e.$set(e.form,"partitionCount",e._n(t))},expression:"form.partitionCount"}})],1),t("el-form-item",{attrs:{label:"副本数",prop:"replicaCount"}},[t("el-input",{attrs:{size:"mini",type:"number",min:"0"},model:{value:e.form.replicaCount,callback:function(t){e.$set(e.form,"replicaCount",e._n(t))},expression:"form.replicaCount"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),l=[],s=a("c7eb"),c=a("1da1"),u=(a("b64b"),a("159b"),a("8a71")),d=a("49bb"),p=a("1b62"),f=a("bc59"),m=p["a"].CommonSelectCreaterMix;function g(e){var t={name:"",clusterId:"",replicaCount:"",partitionCount:""};return e&&Object.keys(t).forEach((function(a){Object(f["a"])(e,a)&&(t[a]=e[a])})),t}var h={name:"AddAndEdit",components:{},mixins:[m(["csMixKafkaCluster"])],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},clusterId:{type:String,default:""},refresh:{type:Function,default:function(){}}},data:function(){return{loading:!1,permOptions:d["j"],clusterList:[],labelPosition:"right",form:g(),rules:{clusterId:[{required:!0,message:"请选择集群",trigger:"change"}],partitionCount:[{required:!0,message:"请输入分区数",trigger:"change"}],replicaCount:[{required:!0,message:"请输入副本数",trigger:"change"}],name:[{required:!0,message:"请输入主题名",trigger:"change"},{pattern:/^[^\u4e00-\u9fa5]+$/,message:"不允许输入中文",trigger:"blur"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){this.isEdit?this.form=g(this.rowData.id):this.form.clusterId=this.clusterId},methods:{clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},clickConfirm:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(c["a"])(Object(s["a"])().mark((function t(a){var n;return Object(s["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(n=Object(o["a"])({},e.form),e.loading=!0,Object(u["d"])(n).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1))})).catch((function(e){})).finally((function(){e.loading=!1})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},b=h,y=(a("0eea"),a("2877")),k=Object(y["a"])(b,r,l,!1,null,"04e4fb74",null),v=k.exports,C=a("b357"),w=a("9fe7"),D=a("ff51"),x=a("ec41"),N=(a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:"消息测试",visible:e.visible,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",attrs:{model:e.formData,"label-width":"120px",rules:e.rules}},[t("el-form-item",{attrs:{label:"测试内容",prop:"details"}},[t("el-input",{staticClass:"w-100",attrs:{type:"textarea",placeholder:"请输入测试内容"},model:{value:e.formData.details,callback:function(t){e.$set(e.formData,"details","string"===typeof t?t.trim():t)},expression:"formData.details"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("测试")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),_=[],j={components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:function(){return{}}}},data:function(){return{formData:{details:""},rules:{details:[{required:!0,trigger:"blur",message:"请输入测试内容"}]}}},computed:{visible:{get:function(){return this.show},set:function(e){this.$emit("change",!1)}}},watch:{},created:function(){},mounted:function(){},methods:{clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},clickConfirm:function(){var e=this;this.$refs.formRef.validate((function(t){if(t){var a={clusterId:e.rowData.clusterId,topicName:e.rowData.name,details:e.formData.details};Object(w["b"])(a).then((function(t){t&&200===t.code&&(e.$message.success("测试成功"),e.$emit("change",!1))}))}}))}}},O=j,S=Object(y["a"])(O,N,_,!1,null,"ac1f3632",null),I=S.exports,T=p["a"].CommonSelectCreaterMix,$={name:"topic-manage",components:{AddAndEdit:v,DetailTable:C["default"],DialogMsgTest:I},mixins:[T(["csMixKafkaCluster"])],data:function(){var e=this,t=(this.$createElement,this);return{showMsgTest:!1,detailData:{},clusterList:[],rowData:null,showAddDialog:!1,showDetailDialog:!1,buttonList:[{label:"新增",type:"add",click:this.addInfo}],tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"clusterName",label:"集群名称",align:"center",render:function(t,a){var n=a.row,i=Object(d["g"])(n.clusterId,e.csMixKafkaCluster);return t("span",[i])}},{prop:"name",label:"Topic",align:"center",render:function(t,a){var n=a.row;return t("el-button",{attrs:{type:"text"},on:{click:function(){return e.openDetailTable(n.name)}}},[n.name])}},{prop:"brokerCount",label:"broker数量",align:"center"},{prop:"partitionCount",label:"分区数",align:"center"},{prop:"brokerSpread",label:"broker使用率",align:"center"},{prop:"brokerSkewed",label:"分区倾斜率",align:"center"},{prop:"brokerLeaderSkewed",label:"主分区倾斜率",align:"center"}],operate:{width:220,list:[{label:"消息测试",id:"msg_test",btnPermCode:"downSend"},{label:"扩展分区",id:"extend",btnPermCode:"add"},{label:"删除",btnPermCode:"delete",id:"delete"}]}},searchConfig:{searchData:{clusterId:"",name:""},searchItem:[{type:"select",label:"集群",prop:"clusterId",get options(){return t.csMixKafkaCluster},change:function(){e.onSearch(!1)}},{type:"input",label:"主题名",prop:"name"}],rules:{clusterId:[{required:!0,message:"请选择集群",trigger:"change"}]}}}},mounted:function(){},methods:{openDetailTable:function(e){this.showDetailDialog=!0,this.detailData={clusterId:this.searchConfig.searchData.clusterId,topicName:e}},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:Object(o["a"])({},this.searchConfig.searchData)};this.tableConfig.loading=!0,Object(u["c"])(t).then((function(t){Object(D["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data,e.tableConfig.pagination.total=Object(x["a"])(t,"data.totalCount")||0)})).finally((function(){e.tableConfig.loading=!1}))},addInfo:function(){this.showAddDialog=!0,this.rowData=null},onSearch:function(e){e?this.tableConfig.tableData=[]:(this.tableConfig.pagination.pageNo=1,this.getList())},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),n=e.operate;"delete"===n.id?this.$confirm("确定要删除【".concat(a.name,"】吗?"),{type:"warning"}).then((function(){var e={clusterId:a.clusterId,topicName:a.name};Object(u["b"])(e).then((function(e){t.$message.success("删除成功"),t.getList()})).catch((function(e){}))})).catch((function(e){})):"msg_test"===n.id?(this.rowData=a,this.showMsgTest=!0):"extend"===n.id&&(this.rowData=a,this.$prompt("请输入扩展分区",{confirmButtonText:"确定",cancelButtonText:"取消",inputType:"number",inputPlaceholder:"Partitions(Number>=1)",closeOnClickModal:!1,inputValidator:function(e){return!!/^[0-9]*$/.test(e)&&0!==Number(e)},inputErrorMessage:"Partitions(Number>=1)"}).then((function(e){var n=e.value,i={clusterId:a.clusterId,topicName:a.name,partitions:n};Object(w["a"])(i).then((function(e){200===e.code&&(t.$message.success("扩展分区设置成功"),t.getList())}))})).catch((function(){})))}}},z=$,L=(a("bf96"),Object(y["a"])(z,n,i,!1,null,"b935bb96",null));t["default"]=L.exports},"0eea":function(e,t,a){"use strict";a("79b0")},"22ac":function(e,t,a){"use strict";a("70e3")},"2f68":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("el-tabs",{model:{value:e.deployMode,callback:function(t){e.deployMode=t},expression:"deployMode"}},[t("el-tab-pane",{attrs:{label:"虚机部署",name:"2"}}),t("el-tab-pane",{attrs:{label:"容器部署",name:"1"}})],1),"2"===e.deployMode?t("ClusterNormal"):e._e(),"1"===e.deployMode?t("ClusterContainer"):e._e()],1)},i=[],o=(a("14d9"),a("30b8")),r=a("6592"),l={filters:{},components:{ClusterContainer:o["default"],ClusterNormal:r["default"]},computed:{deployMode:{get:function(){return this.$route.query.deployMode},set:function(e){this.$router.push({query:{deployMode:e}})}}},beforeMount:function(){this.$route.query.deployMode||(this.deployMode="2")},data:function(){return{}},mounted:function(){},methods:{}},s=l,c=(a("80cc"),a("2877")),u=Object(c["a"])(s,n,i,!1,null,"1727fe6f",null);t["default"]=u.exports},3379:function(e,t,a){},3642:function(e,t,a){"use strict";a("3379")},"387a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"operation-log"},[t("div",{staticClass:"top-bar"},[t("el-descriptions",{attrs:{title:"",column:4,size:"medium"}},[t("el-descriptions-item",{attrs:{label:"节点名称"}},[e._v(e._s(e.podName))])],1),t("el-button",{staticClass:"back-button",on:{click:e.goPage}},[e._v("返回")])],1),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:!1,rowKey:"id"}})],1)},i=[],o=(a("d3b7"),a("a4ed")),r=a("ec41"),l=a("ff51"),s=a("ed08"),c={filters:{},components:{},data:function(){this.$createElement;return{rowData:null,tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,total:0},columns:[{prop:"component",label:"组件",align:"center",render:function(e,t){var a=t.row;return e("span",[a.source.component])}},{prop:"reason",label:"原因",align:"center"},{prop:"type",label:"操作类型",align:"center"},{prop:"message",label:"消息",align:"center",width:500},{prop:"lastTimestamp",label:"操作时间",align:"center",width:150,format:function(e){return e?Object(s["d"])(e):""}}],operate:{width:220,list:[]}}}},created:function(){this.getList()},watch:{},computed:{clusterId:function(){return this.$route.query.clusterId},agentId:function(){return this.$route.query.agentId},namespace:function(){return this.$route.query.namespace},podName:function(){return this.$route.query.podName}},methods:{goPage:function(){this.$router.go(-1)},getList:function(){var e=this;this.tableConfig.loading=!0,Object(o["b"])({agentId:this.agentId,namespace:this.namespace,podName:this.podName}).then((function(t){var a=Object(r["a"])(t,"data.items");e.tableConfig.tableData=Object(l["a"])(a)?a:[]})).finally((function(){e.tableConfig.loading=!1}))},onSearch:function(){this.tableConfig.pagination.pageNo=1,this.getList()},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()}}},u=c,d=(a("f2f2"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"2de489db",null);t["default"]=p.exports},"3df9":function(e,t,a){},"3e62":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("div",{attrs:{id:"terminal-container"}}),t("div",{staticClass:"page-number"},[t("el-button",{attrs:{disabled:e.pageNum<=1},on:{click:e.upPage}},[e._v("上一页")]),t("span",{staticClass:"el-pagination-jump"},[e._v(" 前往 "),t("el-input",{staticClass:"number-input",attrs:{min:"1",size:"mini"},on:{change:e.getLogDetail},model:{value:e.pageNum,callback:function(t){e.pageNum=e._n(t)},expression:"pageNum"}}),e._v(" 页 ")],1),t("el-button",{attrs:{disabled:e.nextDisabled},on:{click:e.nextPage}},[e._v("下一页")])],1)])},i=[],o=(a("21a6"),a("abb2"),a("fcf3")),r=a("47d0"),l=a("a4ed"),s=a("ec41"),c={name:"my-xterm",components:{},props:{updateTime:{type:String,default:null},terminalData:{type:String,default:null},rowData:{type:Object,default:null}},data:function(){return{terminal:{pid:1,name:"terminal",scrollback:1e4},pageNum:1,term:null,socket:null,nextDisabled:!1}},watch:{pageNum:function(e){e&&this.getLogDetail()}},mounted:function(){this.initTerm()},beforeDestroy:function(){this.term.dispose()},clickCancel:function(){this.startLogShow=!1},methods:{upPage:function(){this.pageNum>1&&this.pageNum--},nextPage:function(){this.pageNum++},initTerm:function(){var e=document.getElementById("terminal-container"),t=new o["Terminal"](this.terminal),a=new r["FitAddon"];t.loadAddon(a),t.open(e),a.fit(),t.focus(),this.term=t,this.getLogDetail()},getLogDetail:function(){var e=this;Object(l["h"])({agentId:this.rowData.agentId,namespace:this.rowData.namespace,podName:this.rowData.podName}).then((function(t){var a=Object(s["a"])(t,"data");e.nextDisabled="读取文件失败没有更多的内容。"===a,e.term.clear(),e.term.write(a+"\r\n")}))}}},u=c,d=(a("4acb"),a("2877")),p=Object(d["a"])(u,n,i,!1,null,"2cd5be4a",null);t["default"]=p.exports},"4acb":function(e,t,a){"use strict";a("3df9")},"57b2":function(e,t,a){},6927:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{style:{height:e.height,width:e.width},attrs:{id:"mountNode"}})},i=[],o=(a("cb29"),a("a15b"),a("7c3e")),r={name:"g6-dagre",components:{},mixins:[],props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},chartData:{type:Object,default:function(){return{nodes:[],edges:[]}}}},data:function(){return{graph:null}},computed:{},watch:{},created:function(){},mounted:function(){this.initDagre(),window.addEventListener("resize",this.resize)},destroyed:function(){window.removeEventListener("resize",this.resize),this.graph=null},methods:{initDagre:function(){var e=this,t=this.chartData;o["a"].registerNode("sql",{drawShape:function(e,t){var a=t.addShape("rect",{attrs:{x:-75,y:-25,width:150,height:50,radius:10,stroke:"#5B8FF9",lineWidth:1,fill:e.style.fill},name:"rect-shape"});return a}},"single-node");var a=new o["a"].Graph({container:"mountNode",fitView:!0,pixelRatio:2,layout:{type:"grid",begin:[20,20],nodeSize:150,preventOverlap:!0},animate:!0,defaultNode:{type:"sql",style:{stroke:"#C4E3B2",radius:7},labelCfg:{style:{fill:"#000",fontSize:14}}},comboStateStyles:{selected:{shadowBlur:1,lineWidth:1}},nodeStateStyles:{selected:{shadowColor:"#1d70f5",shadowBlur:10,lineWidth:2,cursor:"pointer"}},modes:{default:["drag-canvas","zoom-canvas","click-select",{type:"tooltip",formatText:function(e){var t=[];return t.join("\n")},offset:30}]}});a.data(t),a.render(),a.fitView(),this.graph=a,a.on("node:click",(function(t){t.target;var a=t.item,n=a.getModel();e.$emit("click-node",n)}))},resize:function(){var e=this.$el,t=e.offsetHeight,a=e.offsetWidth;this.graph.changeSize(a,t)}}},l=r,s=a("2877"),c=Object(s["a"])(l,n,i,!1,null,"115cc8bd",null);t["default"]=c.exports},"6d34":function(e,t,a){},"70e3":function(e,t,a){},"721f":function(e,t,a){},"79b0":function(e,t,a){},"7f79":function(e,t,a){"use strict";a("0301")},"80cc":function(e,t,a){"use strict";a("6d34")},"92de":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("el-row",[t("el-col",{attrs:{span:8}},[t("h4",[e._v("Brokers")]),t("el-checkbox",{staticStyle:{"margin-bottom":"10px"},attrs:{indeterminate:e.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.checkAll,callback:function(t){e.checkAll=t},expression:"checkAll"}},[e._v("全选")]),t("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.formData.brokers,callback:function(t){e.$set(e.formData,"brokers",t)},expression:"formData.brokers"}},e._l(e.brokersList,(function(a){return t("el-checkbox",{key:a.value,staticStyle:{"margin-bottom":"10px"},attrs:{label:a.value}},[e._v(e._s(a.label))])})),1)],1),t("el-col",{attrs:{span:14}},[t("h4",[e._v("Current Assignments")]),t("comp-table",{ref:"routerTable",attrs:{"form-model":e.routerformModel,"table-model":e.routertableModel,"search-model":e.routersearchModel}})],1)],1)],1)},i=[],o=(a("14d9"),a("d3b7"),a("159b"),{components:{},data:function(){return{isIndeterminate:!1,checkAll:!1,routerformModel:{formData:{name:""},formLabelWidth:"100px",formFilds:[],btnData:[],rules:{}},routertableModel:{showselection:!0,tableData:[{brokerName:"0",Replicas:"(0)"},{brokerName:"1",Replicas:"(1)"},{brokerName:"2",Replicas:"(2)"}],rowData:[{prop:"brokerName",label:"Paritions"},{prop:"Replicas",label:"Replicas"}],operateData:[],pagination:[]},routersearchModel:{btnGroup:[],formModel:{cluster:""},searchFild:[]},brokersList:[{label:"0-localhost",value:"0"},{label:"1-localhost",value:"1"},{label:"2-localhost",value:"2"}],formData:{brokers:[],tag:"",key:"",msg:""}}},methods:{handleCheckAllChange:function(e){var t=[];this.brokersList.forEach((function(e){t.push(e.value)})),this.formData.brokers=e?t:[],this.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.checkAll=t===this.brokersList.length,this.isIndeterminate=t>0&&t<this.brokersList.length}}}),r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,"1ed19b6a",null);t["default"]=s.exports},9426:function(e,t,a){"use strict";a("c6cd3")},"9b30":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{style:{height:e.height,width:e.width},attrs:{id:"mountNode"}})},i=[],o=(a("99af"),a("b0c0"),a("d3b7"),a("4d63"),a("c607"),a("ac1f"),a("2c3e"),a("00b4"),a("25f0"),a("159b"),a("7c3e")),r={name:"g6-dagre",components:{},mixins:[],props:{width:{type:String,default:"100%"},height:{type:String,default:"100%"},chartData:{type:Object,default:function(){return{nodes:[],edges:[]}}}},data:function(){return{graph:null}},computed:{},watch:{},created:function(){},mounted:function(){this.initDagre(),window.addEventListener("resize",this.resize)},destroyed:function(){window.removeEventListener("resize",this.resize),this.graph=null},methods:{initDagre:function(){var e=this,t=this.chartData;o["a"].registerNode("sql",{drawShape:function(e,t){var a=t.addShape("rect",{attrs:{x:-75,y:-25,width:150,height:50,radius:10,stroke:"#5B8FF9",lineWidth:1,fill:e.status?"#67C23A":"#F56C6C"},name:"rect-shape"});return a}},"single-node");var a=new o["a"].Graph({container:"mountNode",fitView:!0,pixelRatio:2,animate:!0,groupByTypes:!1,defaultNode:{type:"sql",style:{stroke:"#C4E3B2",radius:7},labelCfg:{style:{fill:"#000",fontSize:14}}},defaultCombo:{type:"rect",style:{fillOpacity:.1}},defaultEdge:{type:"polyline",style:{radius:20,offset:45,endArrow:!0,lineWidth:2,stroke:"#C2C8D5"}},comboStateStyles:{selected:{shadowBlur:1,lineWidth:1}},nodeStateStyles:{selected:{shadowColor:"#1d70f5",shadowBlur:10,lineWidth:2,cursor:"pointer"}},modes:{default:["drag-canvas","zoom-canvas","click-select",{type:"tooltip",formatText:function(e){var t='<div style="border: 1px solid #e2e2e2;\n                  border-radius: 4px;\n                  font-size: 12px;\n                  color: #545454;\n                  background-color: rgba(255, 255, 255, 0.9);\n                  padding: 10px 8px;\n                  box-shadow: rgb(174, 174, 174) 0px 0px 10px;"\n                  >'.concat(e.name,"</div>");return t},offset:30}]}});a.data(t),a.render(),a.fitView(),this.graph=a,a.on("node:click",(function(t){t.target;var a=t.item,n=a.getModel();e.$emit("click-node",n)}))},resize:function(){var e=this.$el,t=e.offsetHeight,a=e.offsetWidth;this.graph.changeSize(a,t)}}},l=r,s=a("2877"),c=Object(s["a"])(l,n,i,!1,null,"3cd2a13c",null);t["default"]=c.exports},"9fc1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"right"}},[t("el-form-item",{attrs:{label:"订阅者",prop:"subscriber"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:""},model:{value:e.formData.subscriber,callback:function(t){e.$set(e.formData,"subscriber",t)},expression:"formData.subscriber"}},e._l(e.subsList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"时间点",prop:"date"}},[t("el-date-picker",{attrs:{size:"mini",type:"datetime",placeholder:"选择日期时间"},model:{value:e.formData.date,callback:function(t){e.$set(e.formData,"date",t)},expression:"formData.date"}})],1)],1)],1)},i=[],o={data:function(){return{formData:{subscriber:"",date:""},subsList:[{label:"sub1",valuel:"1"},{label:"sub2",valuel:"2 "}]}}},r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,"b407cf4c",null);t["default"]=s.exports},abe5:function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"main"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"60",align:"center"}}),t("el-table-column",{attrs:{prop:"keyAlias",label:"参数项",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[""==a.row.description&&a.row.description?t("span",[e._v(e._s(a.row.keyAlias))]):t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:a.row.description,placement:"top-start"}},[t("span",[e._v(e._s(a.row.keyAlias))])])]}}])}),t("el-table-column",{attrs:{prop:"title",label:"中文名称",width:"200",align:"center"}}),t("el-table-column",{attrs:{label:"参数值"},scopedSlots:e._u([{key:"default",fn:function(a){var n=a.row;return[t("div",["radio"===n.type?t("span",[t("el-radio-group",{model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"row.value"}},e._l(n.options,(function(a){return t("el-radio",{key:a.id,attrs:{label:a.value}},[e._v(e._s(a.label))])})),1)],1):e._e(),"input"===n.type?t("span",[t("el-input",{attrs:{size:"mini",disabled:Boolean(n.readonly)},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"row.value"}})],1):e._e(),"select"===n.type?t("el-select",{staticStyle:{width:"100%"},attrs:{"allow-create":"",filterable:""},model:{value:n.value,callback:function(t){e.$set(n,"value",t)},expression:"row.value"}},e._l(n.options,(function(a){return t("el-option",{key:a.id,attrs:{label:a.label,value:a.value}},[e._v(e._s(a.label))])})),1):e._e()],1)]}}])})],1),t("footer",{staticClass:"mt-10",staticStyle:{"padding-bottom":"100px"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.confirmSave}},[e._v("保存")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)},i=[],o=a("c7eb"),r=a("1da1"),l=(a("99af"),a("d81d"),a("b0c0"),a("d3b7"),a("159b"),a("fced")),s=a("ade3"),c=a("49bb"),u=[{key:"listeners",value:"",keyAlias:"listeners",type:"input",elementType:"文本框",dataType:"string",title:"监听端口",description:"",readonly:1},{key:"advertisedListeners",value:"",keyAlias:"advertised.listeners",type:"input",elementType:"文本框",dataType:"string",title:"发布至zk供客户端使用",description:"监听器发布到ZooKeeper供客户端使用，如果与`listeners`配置不同。在IaaS环境,这可能需要与broker绑定不同的接口。如果没有设置，将使用`listeners`的配置。与`listeners`不同的是，配置0.0.0.0元地址是无效的。",readonly:1},{key:"numNetworkThreads",value:"",keyAlias:"num.network.threads",type:"input",elementType:"文本框",dataType:"int",title:"网络请求的网络线程数目",description:"服务器用于从接收网络请求并发送网络响应的线程数",readonly:!1},{key:"numIoThreads",value:"",keyAlias:"num.io.threads",type:"input",elementType:"文本框",dataType:"int",title:"处理请求的I/O线程数目",description:"服务器用于处理请求的线程数，可能包括磁盘I/O",readonly:!1},{key:"socketSendBufferBytes",value:"",keyAlias:"socket.send.buffer.bytes",type:"input",elementType:"文本框",dataType:"int",title:"发送缓存大小（字节）",description:"服务端用来处理socket连接的SO_SNDBUF缓冲大小。如果值为-1，则使用系统默认值。",readonly:!1},{key:"socketReceiveBufferBytes",value:"",keyAlias:"socket.receive.buffer.bytes",type:"input",elementType:"文本框",dataType:"int",title:"接收缓存大小（字节）",description:"服务端用来处理socket连接的SO_RCVBUFF缓冲大小。如果值为-1，则使用系统默认值。",readonly:!1},{key:"socketRequestMaxBytes",value:"",keyAlias:"socket.request.max.bytes",type:"input",elementType:"文本框",dataType:"int",title:"最大请求尺寸（字节）",description:"socket请求的最大大小，这是为了防止server跑光内存，不能大于Java堆的大小。",readonly:!1},{key:"logDirs",value:"",keyAlias:"log.dirs",type:"input",elementType:"文本框",dataType:"string",title:"kafka存放数据的路径",description:"保存日志数据的目录，如果未设置将使用log.dir的配置。",readonly:!1},{key:"numPartitions",value:"",keyAlias:"num.partitions",type:"input",elementType:"文本框",dataType:"int",title:"默认partitions个数",description:"每个topic的默认日志分区数",readonly:!1},{key:"numRecoveryThreadsPerDataDir",value:"",keyAlias:"num.recovery.threads.per.data.dir",type:"input",elementType:"文本框",dataType:"int",title:"用来日志恢复的线程数目",description:"每个数据目录，用于启动时日志恢复和关闭时刷新的线程数",readonly:!1},{key:"offsetsTopicReplicationFactor",value:"",keyAlias:"offsets.topic.replication.factor",type:"input",elementType:"文本框",dataType:"short",title:"topic的offset的备份份数",description:"offset topic的副本数（设置的越大，可用性越高）。内部topic创建将失败，直到集群大小满足此副本数要求。",readonly:!1},{key:"transactionStateLogReplicationFactor",value:"",keyAlias:"transaction.state.log.replication.factor",type:"input",elementType:"文本框",dataType:"short",title:"事务topic备份数量",description:"事务topic的副本数（设置的越大，可用性越高）。内部topic在集群数满足副本数之前，将会一直创建失败。",readonly:!1},{key:"transactionStateLogMinIsr",value:"",keyAlias:"transaction.state.log.min.isr",type:"input",elementType:"文本框",dataType:"int",title:"事务topic最小insync配置",description:"覆盖事务topic的min.insync.replicas配置",readonly:!1},{key:"logSegmentBytes",value:"",keyAlias:"log.segment.bytes",type:"input",elementType:"文本框(不能改)",dataType:"int",title:"分区保存数据量（字节）",description:"单个日志段文件最大大小",readonly:!0},{key:"logRetentionHours",value:"",keyAlias:"log.retention.hours",type:"input",elementType:"文本框",dataType:"int",title:"日志数据保存的时间（小时）",description:"日志删除的时间阈值（小时为单位）",readonly:!1},{key:"logRetentionCheckIntervalMs",value:"",keyAlias:"log.retention.check.interval.ms",type:"input",elementType:"文本框",dataType:"long",title:"检查日志文件间隔时间（ms）",description:"日志清理器检查是否有日志符合删除的频率（以毫秒为单位）",readonly:!1},{key:"zookeeperConnect",value:"",keyAlias:"zookeeper.connect",type:"input",elementType:"文本框",dataType:"string",title:"zk集群地址，用逗号分割",description:"Zookeeper主机地址",readonly:1},{key:"zookeeperConnectionTimeoutMs",value:"",keyAlias:"zookeeper.connection.timeout.ms",type:"input",elementType:"文本框",dataType:"int",title:"主/从zk的最长差距时间",description:"与ZK server建立连接的超时时间,没有配置就使用zookeeper.session.timeout.ms",readonly:!1},{key:"groupInitialRebalanceDelayMs",value:"",keyAlias:"group.initial.rebalance.delay.ms",type:"input",elementType:"文本框",dataType:"int",title:"重新平衡等待时间（ms)",description:"在执行第一次重新平衡之前，group协调器将等待更多consumer加入group的时间。延迟时间越长意味着重新平衡的工作可能越小，但是等待处理开始的时间增加。",readonly:!1},{key:"brokerId",value:"",keyAlias:"broker.id",type:"input",elementType:"文本框",dataType:"int",title:"broker唯一标识",description:"用于服务的broker id。如果没设置，将生存一个唯一broker id。为了避免ZooKeeper生成的id和用户配置的broker id相冲突，生成的id将在reserved.broker.max.id的值基础上加1。",readonly:!1},{key:"messageMaxBytes",value:"",keyAlias:"message.max.bytes",type:"input",elementType:"文本框",dataType:"int",title:"最大消息尺寸（字节）",description:"kafka允许的最大的一个批次的消息大小。 如果这个数字增加，且有0.10.2版本以下的consumer，那么consumer的提取大小也必须增加，以便他们可以取得这么大的记录批次。 在最新的消息格式版本中，记录总是被组合到一个批次以提高效率。 在以前的消息格式版本中，未压缩的记录不会分组到批次中，并且此限制仅适用于该情况下的单个记录。可以使用topic设置`max.message.bytes`来设置每个topic。 max.message.bytes.",readonly:!1},{key:"autoCreateTopicEnable",value:"",keyAlias:"auto.create.topic.enable",type:"radio",elementType:"是/否 按钮",dataType:"",title:"是否允许创建topic",description:"",readonly:!1,options:[{label:"是",value:1},{label:"否",value:0}]},Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({key:"jvmParam",keyAlias:"jvmParam",title:"启动内存参数",options:"",type:"select"},"options",c["i"]),"elementType",""),"description",""),"dataType",""),"value","-Xms4g -Xmx4g -Xmn1g"),"default",""),"example","")],d=a("ec41"),p=a("e8b2"),f=a("bc59"),m={name:"kafka-config-params",components:{},data:function(){return{fileList:[],tableData:u,flag:1,loading:!1,id:""}},computed:{clusterId:function(){return this.$route.query.clusterId},clusterNodeId:function(){return this.$route.query.clusterNodeId}},created:function(){var e=this;return Object(r["a"])(Object(o["a"])().mark((function t(){return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getDetail();case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){},methods:{getDetail:function(){var e=this,t={clusterId:this.clusterId,instanceId:this.clusterNodeId};this.loading=!0,Object(l["a"])(t).then((function(t){var a=Object(d["a"])(t,"data"),n=Object(p["a"])(a)?a:{};e.id=n.id,e.tableData.forEach((function(t){Object(f["a"])(n,t.key)&&e.$set(t,"value",n[t.key])}))})).catch((function(e){})).finally((function(){e.loading=!1}))},clickCancel:function(){this.$router.go(-1)},confirmSave:function(){var e=this,t={id:this.id};this.tableData.map((function(e){t[e.key]=e.value})),this.loading=!0,Object(l["b"])(t).then((function(t){200===t.code&&(e.$message.success("保存成功"),e.getDetail())})).catch((function(e){})).finally((function(){e.loading=!1}))},downLoad:function(){},beforeUpload:function(e){var t=e.name.split(".")[1];return"xls"==t||"xlsx"==t||(this.$message.error("请上传xl或者xlsx格式的文件"),!1)},handleRemove:function(e,t){},handlePreview:function(e){},handleExceed:function(e,t){this.$message.warning("当前限制选择 3 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},handleSuccess:function(e,t,a){this.$message.success("上传成功")}}},g=m,h=(a("da45"),a("2877")),b=Object(h["a"])(g,n,i,!1,null,"fbcade24",null);t["default"]=b.exports},ade9:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"right"}},[t("el-form-item",{attrs:{label:"BrokerName",prop:"brokerName"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:""},model:{value:e.formData.brokerName,callback:function(t){e.$set(e.formData,"brokerName",t)},expression:"formData.brokerName"}},e._l(e.brokerList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"写队列数量",prop:"write"}},[t("el-input",{attrs:{size:"mini",type:"number",min:"0"},model:{value:e.formData.write,callback:function(t){e.$set(e.formData,"write",t)},expression:"formData.write"}})],1),t("el-form-item",{attrs:{label:"读队列数量",prop:"read"}},[t("el-input",{attrs:{size:"mini",type:"number",min:"0"},model:{value:e.formData.read,callback:function(t){e.$set(e.formData,"read",t)},expression:"formData.read"}})],1),t("el-form-item",{attrs:{label:"perm",prop:"perm"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:""},model:{value:e.formData.perm,callback:function(t){e.$set(e.formData,"perm",t)},expression:"formData.perm"}},e._l(e.permList,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)},i=[],o={data:function(){return{formData:{brokerName:"",write:"",read:"",perm:""},brokerList:[{label:"读写",valuel:"1"},{label:"只读",valuel:"2 "},{label:"只写",valuel:"3"}],permList:[{label:"读写",valuel:"1"},{label:"只读",valuel:"2 "},{label:"只写",valuel:"3"}]}}},r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,"206c8b40",null);t["default"]=s.exports},b0ac:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",[t("el-form",{ref:"formData",attrs:{model:e.formData,"label-width":"100px","label-position":"right"}},[t("h3",[e._v("partition1")]),t("el-form-item",{attrs:{label:"Replica0",prop:"topic"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:""},model:{value:e.formData.topic,callback:function(t){e.$set(e.formData,"topic",t)},expression:"formData.topic"}},e._l(e.partitionLists,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("h3",[e._v("partition2")]),t("el-form-item",{attrs:{label:"Replica0",prop:"tag"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:""},model:{value:e.formData.tag,callback:function(t){e.$set(e.formData,"tag",t)},expression:"formData.tag"}},e._l(e.partitionLists,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("h3",[e._v("partition3")]),t("el-form-item",{attrs:{label:"Replica0",prop:"key"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{size:"mini",placeholder:""},model:{value:e.formData.key,callback:function(t){e.$set(e.formData,"key",t)},expression:"formData.key"}},e._l(e.partitionLists,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1)],1)},i=[],o={data:function(){return{partitionLists:[{label:"Broker1",value:"Broker1"},{label:"Broker2",value:"Broker2"},{label:"Broker3",value:"Broker3"}],formData:{topic:"",tag:"",key:"",msg:""}}}},r=o,l=a("2877"),s=Object(l["a"])(r,n,i,!1,null,"1899eacf",null);t["default"]=s.exports},b357:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:"主题分区查询["+e.rowData.topicName+"]",visible:e.show,size:"medium","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("tableView",{ref:"tableView",attrs:{columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,total:e.tableConfig.pagination.total,rowKey:"id",isPage:e.tableConfig.isPage,currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage}}),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)},i=[],o=a("5530"),r=a("8a71"),l=a("ff51"),s=a("ec41"),c={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"partitionId",label:"分区",align:"center"},{prop:"logSize",label:"日志大小",align:"center"},{prop:"leaderId",label:"主节点",align:"center"},{prop:"replicas",label:"副本列表",align:"center"},{prop:"underReplicated",label:"失效副本",align:"center"},{prop:"inSyncReplicas",label:"已同步副本",align:"center"},{prop:"preferredLeader",label:"优先主节点",align:"center"},{prop:"capacity",label:"容量",align:"center"}]}}},watch:{},created:function(){},mounted:function(){this.getDetailList()},methods:{changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getDetailList()},getDetailList:function(){var e=this,t=Object(o["a"])(Object(o["a"])({},this.rowData),{},{page:{pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize}});Object(r["a"])(t).then((function(t){Object(l["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data,e.tableConfig.pagination.total=Object(s["a"])(t,"data.totalCount")||0)}))},clickCancel:function(){this.$emit("change",!1)},clickConfirm:function(){this.$emit("change",!1)}}},u=c,d=a("2877"),p=Object(d["a"])(u,n,i,!1,null,"1b466a92",null);t["default"]=p.exports},b4f7:function(e,t,a){},bf96:function(e,t,a){"use strict";a("b4f7")},c6cd3:function(e,t,a){},da45:function(e,t,a){"use strict";a("721f")},e456:function(e,t,a){"use strict";a.r(t);a("14d9");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mode-page"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main-content",attrs:{"element-loading-text":"加载中,请稍候......"}},[t("div",{staticClass:"main-left"},[t("el-button",{attrs:{type:"primary"},on:{click:e.statusCheck}},[e._v(" 集群状态检测 ")]),t("el-button",{attrs:{type:"primary"},on:{click:e.getContainerPod}},[e._v(" 刷新 ")]),t("el-button",{on:{click:function(t){return e.$router.push({path:"/kafka/clusterManagement/index",query:{deployMode:"1"}})}}},[e._v("返回")]),!e.loading&&e.linksData.length>0?t("G6Dagre",{attrs:{chartData:e.chartData,height:"500px",width:"100%"},on:{"click-node":e.clickNode}}):t("el-empty",{attrs:{description:"暂无数据"}})],1),t("div",{staticClass:"main-right"},[t("el-descriptions",{staticClass:"margin-top",attrs:{title:e.baseInfo.clusterName,column:2,size:"small"}}),e.currentNode?[t("el-descriptions",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingNode,expression:"loadingNode"}],staticClass:"mt-10",staticStyle:{"padding-top":"15px","border-top":"1px solid #c6c6c6"},attrs:{title:e.currentNode.label,column:2,size:"small"}},[t("el-descriptions-item",{attrs:{label:"运行状态",span:2,labelStyle:{lineHeight:"28px"},contentStyle:{lineHeight:"28px"}}},[e._v(" "+e._s(e.currentNode.status?"正常":"异常")+" ")])],1),t("el-divider"),t("button-list",{attrs:{data:e.buttonList}})]:e._e()],2)]),e.startLogShow?t("el-dialog-limit",{attrs:{title:"启动日志",visible:e.startLogShow,size:"medium"},on:{"update:visible":function(t){e.startLogShow=t},close:e.clickCancel}},[t("InstancesStartLogContainer",{ref:"terminaRef",attrs:{updateTime:"updateTime",rowData:e.rowData},on:{changeTime:e.changeTime}})],1):e._e()],1)},i=[],o=a("2909"),r=a("ade3"),l=(a("99af"),a("4de4"),a("7db0"),a("a15b"),a("d81d"),a("b0c0"),a("a9e3"),a("d3b7"),a("1bf2"),a("3ca3"),a("159b"),a("ddb0"),a("9b30")),s=a("063d"),c=a("2a7b"),u=a("3e62"),d=a("d4ec"),p=a("bee2"),f=function(){function e(t){Object(d["a"])(this,e),Object(r["a"])(this,"links",[]),Object(r["a"])(this,"combos",[]),Object(r["a"])(this,"combo_Zk",{id:"A",label:"Zookeeper",style:{x:0,fill:"#fff",stroke:"#C4E3B2",lineWidth:1,shadowBlur:0,radius:7}}),Object(r["a"])(this,"combo_Broker",{id:"B",label:"Broker",width:200,style:{fill:"#fff",stroke:"#C4E3B2",lineWidth:1,shadowBlur:0,radius:7}}),Object(r["a"])(this,"combo_ZkOut",{id:"C",label:"外部Zookeeper",style:{fill:"#fff",stroke:"#C4E3B2",lineWidth:1,shadowBlur:0,radius:7},labelCfg:{style:{x:0,textAlign:"center",fill:"#00287E"}}}),Object(r["a"])(this,"combo_Dleger",{id:"D",label:"Dledger",style:{fill:"#fff",stroke:"#C4E3B2",lineWidth:1,shadowBlur:0,radius:7}}),this.links=[],this.combos=[],this.zkNode=this.getZk(t),this.zkOutNode=this.getZkOut(t),this.brokerNode=this.getBroker(t),this.data=Array.isArray(t)?t:[]}return Object(p["a"])(e,[{key:"getZk",value:function(e){return e.filter((function(e){return"Kafka_Zk"===e.instanceType}))}},{key:"getZkOut",value:function(e){return e.filter((function(e){return"Kafka_ZkOut"===e.instanceType}))}},{key:"getBroker",value:function(e){return e.filter((function(e){return"Kafka_Broker"===e.instanceType}))}},{key:"convertBroker",value:function(){this.combos.push(this.combo_Broker)}},{key:"convertZk",value:function(){this.combos.push(this.combo_Zk)}},{key:"convertOutZk",value:function(){this.combos.push(this.combo_ZkOut)}}])}(),m=a("ec41"),g=a("bc59"),h={components:{G6Dagre:l["default"],DialogAddNode:s["default"],InstancesStartLogContainer:u["default"]},data:function(){return Object(r["a"])(Object(r["a"])(Object(r["a"])({rowData:null,force:0,stateStopShow:!1,stopLoading:!1,updateTime:"",startLogShow:!1,baseInfo:{},loading:!1,loadingNode:!1,buttonList:[{label:"容器事件日志",click:this.clickLog},{label:"启动日志",click:this.clickStartLog}],chartData:{edges:[],nodes:[]},addmasternode:!1,currentNode:null,currentQueryNode:b(),linksData:[]},"loading",!1),"nodeType_add",0),"loadingBtn",!1)},computed:{clusterId:function(){return this.$route.query.id},query:function(){return this.$route.query},showZk:function(){return"1"===this.$route.query.buttOutsideZk},zkInfo:function(){return this.$route.query.zkInfo},agentId:function(){return this.$route.query.agentId},namespace:function(){return this.$route.query.namespace},podName:function(){return this.$route.query.podName}},created:function(){this.baseInfo.clusterName=this.query.clusterName,this.getContainerPod()},methods:{statusCheck:function(){var e=this,t=[];t=this.showZk?this.linksData.filter((function(e){return"Kafka_ZkOut"===e.instanceType})).map((function(e){return e.podIP})).join(","):this.linksData.filter((function(e){return"Kafka_Zk"===e.instanceType})).map((function(e){return"".concat(e.podIP,":").concat(e.containerPort)})).join(",");var a=this.linksData.filter((function(e){return"Kafka_Broker"===e.instanceType})).map((function(e){return"".concat(e.podIP,":").concat(e.containerPort)})).join(",");Object(c["j"])({id:this.clusterId,zkInfo:t,brokerAddrs:a}).then((function(t){e.$message({dangerouslyUseHTMLString:!0,message:t.data,type:"success"})}))},getContainerPod:function(){var e=this;this.loading=!0;var t=Object(c["g"])(this.clusterId),a=Object(c["f"])(this.clusterId);Promise.all([t,a]).then((function(t){var a=Object(m["a"])(t[0],"data.items"),n=Object(m["a"])(t[1],"data.items"),i=[],r=[];r=e.showZk?e.zkInfo.split(",").map((function(e,t){return{id:e,label:e,value:e,name:"",comboId:"C",status:!0,instanceType:"Kafka_ZkOut",x:190*t+87,y:37,podIP:e}})):a.map((function(e,t){var a=Object(m["a"])(e,"metadata.name"),n=Object(m["a"])(e,"status.podIP"),i=Object(m["a"])(e,"status.phase"),o=Object(m["a"])(e,"spec.containers[0].ports[0].containerPort"),r=Object(m["a"])(e,"status.conditions"),l=r.find((function(e){return"Ready"===e.type})),s=!(!l||"True"!==(null===l||void 0===l?void 0:l.status));return{id:a,label:n?"".concat(n,":").concat(o):"".concat(i),value:a,name:a,comboId:"A",status:s,instanceType:"Kafka_Zk",x:190*t+87,y:37,podIP:n,containerPort:o}})),n.forEach((function(e,t){var a=Object(m["a"])(e,"metadata.name"),n=Object(m["a"])(e,"status.podIP"),o=Object(m["a"])(e,"spec.containers[0].ports[0].containerPort"),r=Object(m["a"])(e,"status.phase"),l=Object(m["a"])(e,"status.conditions"),s=l.find((function(e){return"Ready"===e.type})),c=!(!s||"True"!==(null===s||void 0===s?void 0:s.status)),u=a.split("broker-")[1];i.push({id:a,comboId:"B",name:a,label:n?"".concat(n,":").concat(o):"".concat(r),value:a,status:c,instanceType:"Kafka_Broker",masterIndex:Number(u),x:190*t+87,y:190,podIP:n,containerPort:o})}));var l=[].concat(Object(o["a"])(r),i),s=new f(l);i.length&&s.convertBroker(),e.showZk&&r.length?s.convertOutZk():r.length&&s.convertZk(),e.linksData=l,e.chartData.nodes=l,e.chartData.edges=[],e.chartData.combos=s.combos})).finally((function(){e.loading=!1}))},changeTime:function(e){this.updateTime=e},clickCancel:function(){this.startLogShow=!1},clickStartLog:function(){this.startLogShow=!0,this.rowData={agentId:this.agentId,namespace:this.namespace,podName:this.currentNode.name}},clickLog:function(){this.$router.push({path:"/kafka/clusterManagement/kafka-log-management-container",query:{agentId:this.agentId,namespace:this.namespace,podName:this.currentNode.name}})},clickNode:function(e){this.currentNode=e,this.loadingBtn=!1},refresh:function(){}}};function b(e){var t={pid:"",usedMemory:"",usedCpuSys:"",keys:"",clients:"",expires:"",flags:""};return e&&Reflect.ownKeys(t).forEach((function(a){Object(g["a"])(e,a)&&(t[a]=e[a])})),Object.assign(t,e)}var y=h,k=(a("9426"),a("2877")),v=Object(k["a"])(y,n,i,!1,null,"219fb860",null);t["default"]=v.exports},ea3c:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"operation-log"},[t("el-page-header",{staticClass:"mb-20",attrs:{content:"操作日志"},on:{back:e.goPage}}),t("el-descriptions",{attrs:{title:"",column:4,size:"medium"}},[t("el-descriptions-item",{attrs:{label:"地址"}},[e._v(e._s(e.address))])],1),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,total:e.tableConfig.pagination.totalCount,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage}})],1)},i=[],o=(a("d3b7"),a("7034")),r=a("ec41"),l=a("ff51"),s={filters:{},components:{},data:function(){return{rowData:null,tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,total:0},columns:[{prop:"operateUser",label:"用户",align:"center"},{prop:"type",label:"操作类型",align:"center"},{prop:"logStatus",label:"操作结果",align:"center"},{prop:"logContent",label:"日志内容",align:"center"},{prop:"operateTime",label:"操作时间",align:"center"}],operate:{width:220,list:[]}}}},created:function(){this.getList()},watch:{},computed:{clusterId:function(){return this.$route.query.clusterId},clusterNodeId:function(){return this.$route.query.clusterNodeId},instanceName:function(){return this.$route.query.instanceName},address:function(){return this.$route.query.address}},methods:{goPage:function(){this.$router.go(-1)},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:{clientId:this.clusterNodeId}};this.tableConfig.loading=!0,Object(o["a"])(t).then((function(t){var a,n=Object(r["a"])(t,"data.data");e.tableConfig.tableData=Object(l["a"])(n)?n:[],e.tableConfig.pagination.totalCount=null!==(a=Object(r["a"])(t,"data.totalCount"))&&void 0!==a?a:0})).finally((function(){e.tableConfig.loading=!1}))},onSearch:function(){this.tableConfig.pagination.pageNo=1,this.getList()},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()}}},c=s,u=(a("22ac"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,"6a6724f8",null);t["default"]=d.exports},f22e:function(e,t,a){"use strict";a.r(t);a("14d9");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mode-page"},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"main-content",attrs:{"element-loading-text":"加载中,请稍候......"}},[t("div",{staticClass:"main-left"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickAddNode}},[e._v("添加节点")]),t("el-button",{on:{click:function(t){return e.$router.push({path:"/kafka/clusterManagement/index",query:{deployMode:"2"}})}}},[e._v("返回")]),!e.loading&&e.linksData.length>0?t("G6Dagre",{attrs:{chartData:e.chartData,height:"500px",width:"100%"},on:{"click-node":e.clickNode}}):t("el-empty",{attrs:{description:"暂无数据"}})],1),t("div",{staticClass:"main-right"},[t("el-descriptions",{staticClass:"margin-top",attrs:{title:e.baseInfo.clusterName,column:2,size:"small"}},[t("template",{slot:"extra"},[t("el-button",{attrs:{type:"text",size:"small"},on:{click:e.refresh}},[e._v("刷新")])],1),t("el-descriptions-item",{attrs:{label:"机房"}},[e._v(" "+e._s(e.baseInfo.machineRoomName)+" ")])],2),e.currentNode?[t("el-descriptions",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingNode,expression:"loadingNode"}],staticClass:"mt-10",staticStyle:{"padding-top":"15px","border-top":"1px solid #c6c6c6"},attrs:{title:e.currentNode.label,column:2,size:"small"}},[t("el-descriptions-item",{attrs:{label:"CPU",span:2}},[e._v(" "+e._s(e.currentNode.memory)+" ")]),t("el-descriptions-item",{attrs:{label:"运行状态",span:2,labelStyle:{lineHeight:"28px"},contentStyle:{lineHeight:"28px"}}},[e._v(" "+e._s(1===e.currentNode.nodeStatus?"正常":"异常")+" "),1===e.currentNode.nodeStatus?t("el-button",{staticClass:"ml-10",attrs:{size:"mini",round:"",loading:e.loadingBtn,plain:"",type:"danger"},on:{click:function(t){return e.clickStartAndStop(e.currentNode,!1)}}},[e._v(" 停止 ")]):0===e.currentNode.nodeStatus?t("el-button",{staticClass:"ml-10",attrs:{type:"primary",size:"mini",loading:e.loadingBtn,round:"",plain:""},on:{click:function(t){return e.clickStartAndStop(e.currentNode,!0)}}},[e._v(" 启动 ")]):e._e()],1),t("el-descriptions-item",{attrs:{label:"instancePath",span:2}},[e._v(" "+e._s(e.currentNode.instancePath)+" ")])],1),t("el-divider"),t("button-list",{attrs:{data:e.buttonList}})]:e._e()],2)]),e.addmasternode?t("DialogAddNode",{attrs:{clusterId:e.clusterId,nodeType:e.nodeType_add,rowData:e.currentNode,refresh:e.refresh},model:{value:e.addmasternode,callback:function(t){e.addmasternode=t},expression:"addmasternode"}}):e._e(),e.startLogShow?t("DrawerPrismjsLog",{attrs:{show:e.startLogShow,rowData:e.currentNode},on:{"update:show":function(t){e.startLogShow=t}}}):e._e(),e.stateStopShow?t("el-dialog-limit",{attrs:{title:"确定要停止吗？",visible:e.stateStopShow,size:"small"},on:{"update:visible":function(t){e.stateStopShow=t},close:e.stopclickCancel}},[t("span",{staticStyle:{"margin-right":"10px"}},[e._v(" 请选择节点停止方式：")]),t("el-select",{model:{value:e.force,callback:function(t){e.force=t},expression:"force"}},[t("el-option",{attrs:{value:0,label:"普通停止"}}),t("el-option",{attrs:{value:1,label:"强制停止"}})],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:e.stopclickCancel}},[e._v("取消")]),t("el-button",{attrs:{type:"primary",loading:e.stopLoading},on:{click:e.instanceStop}},[e._v("确定")])],1)],1):e._e(),e.deployVisible?t("el-dialog-limit",{attrs:{title:"日志信息",visible:e.deployVisible,size:"medium"},on:{"update:visible":function(t){e.deployVisible=t},close:e.logClickCancel}},[t("my-xterm",{ref:"xterm",attrs:{terminal:e.terminal,socketUrl:e.socketUrl}})],1):e._e()],1)},i=[],o=a("5530"),r=a("ade3"),l=(a("99af"),a("d3b7"),a("1bf2"),a("3ca3"),a("159b"),a("ddb0"),a("6927")),s=a("d7d7"),c=a("063d"),u=a("ff51"),d=a("bc59"),p=a("2b0e"),f={components:{G6Dagre:l["default"],DialogAddNode:c["default"],DrawerPrismjsLog:Object(p["defineAsyncComponent"])((function(){return Promise.all([a.e("chunk-7ef164fc"),a.e("KafkaStartlog~ff56ae1f")]).then(a.bind(null,"5c32"))}))},data:function(){var e;return e={deployVisible:!1,terminal:{pid:1,name:"terminal"},socketUrl:"",force:0},Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(e,"force",0),"stateStopShow",!1),"stopLoading",!1),"startLogShow",!1),"baseInfo",{}),"loading",!1),"loadingNode",!1),"buttonList",[{label:"移除节点",click:this.clickNodeDelete},{label:"配置项",click:this.clickConfigParams},{label:"操作日志",click:this.clickLog},{label:"启动日志",click:this.clickStartLog}]),"chartData",{edges:[],nodes:[]}),"addmasternode",!1),Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(Object(r["a"])(e,"currentNode",null),"currentQueryNode",m()),"linksData",[]),"loading",!1),"nodeType_add",0),"loadingBtn",!1)},computed:{clusterId:function(){return this.$route.query.id},query:function(){return this.$route.query}},created:function(){this.getDetail(),this.baseInfo.clusterName=this.query.clusterName,this.baseInfo.machineRoomName=this.query.machineRoomName},methods:{socketStart:function(e){this.socketUrl="/echo?logId=".concat(e.id),this.deployVisible=!0},logClickCancel:function(){this.deployVisible=!1},clickCancel:function(){this.startLogShow=!1},clickStartLog:function(){this.startLogShow=!0},clickLog:function(){this.$router.push({path:"/kafka/clusterManagement/kafka-log-management",query:{clusterId:this.clusterId,clusterNodeId:this.currentNode.id,instanceName:this.currentNode.instanceName,address:"".concat(this.currentNode.nodeIp,":").concat(this.currentNode.nodePort)}})},getDetail:function(){var e=this;this.loading=!0,this.currentNode=null,Object(s["e"])(this.$route.query.id).then((function(t){if(t){var a=Object(u["a"])(null===t||void 0===t?void 0:t.data)?t.data:[];e.linksData=a;var n=[],i=[];a.forEach((function(e){n.push(Object(o["a"])(Object(o["a"])({},e),{},{value:e.nodeIp,label:"".concat(e.nodeIp,":").concat(e.nodePort),style:{fill:1===e.nodeStatus?"#67C23A":"#F56C6C"}}))})),e.chartData.nodes=n,e.chartData.edges=i}})).catch((function(e){})).finally((function(){e.loading=!1}))},clickAddNode:function(){this.nodeType_add=0,this.addmasternode=!0},clickConfigParams:function(){this.$router.push({path:"/kafka/clusterManagement/kafka-config-params",query:{clusterId:this.clusterId,clusterNodeId:this.currentNode.id}})},clickNodeDelete:function(){var e=this;this.$confirm("确定要移除".concat(this.currentNode.label,"吗?"),{type:"warning"}).then((function(t){e.removeNodeDeleteFile()})).catch((function(e){}))},removeNodeDeleteFile:function(){var e=this;this.$confirm("移除节点的同时是否删除本地文件?",{type:"warning",cancelButtonText:"否",confirmButtonText:"是",showClose:!1,beforeClose:function(t,a,n){var i={instanceId:e.currentNode.id,removeData:"0"};"confirm"===t?(i.removeData="1",a.confirmButtonLoading=!0,a.confirmButtonText="执行中..."):(a.cancelButtonLoading=!0,a.cancelButtonText="执行中..."),Object(s["d"])(i).then((function(t){200===t.code&&(e.$message.success("移除成功"),e.refresh())})).catch((function(e){})).finally((function(){n(),a.cancelButtonLoading=!1,a.confirmButtonLoading=!1}))}})},clickNode:function(e){this.currentNode=e,this.loadingBtn=!1},refresh:function(){this.getDetail()},clickStartAndStop:function(e,t){var a=this;t?this.$confirm("确定要启动【".concat(e.label,"】吗?")).then((function(){a.loadingBtn=!0,Object(s["g"])(e.id).then((function(e){200===e.code&&(a.$message.success(e.data),a.refresh())})).catch((function(e){})).finally((function(){a.loadingBtn=!0})),a.socketStart({id:a.clusterId})})):this.stateStopShow=!0},stopclickCancel:function(){this.stateStopShow=!1},instanceStop:function(){var e=this;this.stopLoading=!0,Object(s["b"])({force:this.force,instanceId:this.currentNode.id}).then((function(t){e.$message.success(t.data),e.stateStopShow=!1,e.refresh()})).finally((function(){e.stopLoading=!1})),this.socketStart({id:this.clusterId})}}};function m(e){var t={pid:"",usedMemory:"",usedCpuSys:"",keys:"",clients:"",expires:"",flags:""};return e&&Reflect.ownKeys(t).forEach((function(a){Object(d["a"])(e,a)&&(t[a]=e[a])})),Object.assign(t,e)}var g=f,h=(a("3642"),a("2877")),b=Object(h["a"])(g,n,i,!1,null,"2bcd4bd1",null);t["default"]=b.exports},f2f2:function(e,t,a){"use strict";a("57b2")}}]);