(window["jsonpPaas4"]=window["jsonpPaas4"]||[]).push([["app~308aa24e"],{afa0:function(t,e,i){var r=i("6d8b"),s=i("22d1"),n=i("e1fc"),a=i("04f6");function o(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}var l=function(){this._roots=[],this._displayList=[],this._displayListLen=0};l.prototype={constructor:l,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,r=0,n=e.length;r<n;r++)this._updateAndAddDisplayable(e[r],null,t);i.length=this._displayListLen,s.canvasSupported&&a(i,o)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var r=t.clipPath;if(r){e=e?e.slice():[];var s=r,n=t;while(s)s.parent=n,s.updateTransform(),e.push(s),n=s,s=s.clipPath}if(t.isGroup){for(var a=t._children,o=0;o<a.length;o++){var l=a[o];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof n&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof n&&i.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array){e=0;for(var s=t.length;e<s;e++)this.delRoot(t[e])}else{var a=r.indexOf(this._roots,t);a>=0&&(this.delFromStorage(t),this._roots.splice(a,1),t instanceof n&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:o};var h=l;t.exports=h},ed21:function(t,e,i){var r=i("2cf4"),s=r.devicePixelRatio,n=i("6d8b"),a=i("4942"),o=i("9850"),l=i("04f6"),h=i("5e68"),_=i("98b7"),d=i("0da8"),u=i("22d1"),f=1e5,c=314159,v=.01,p=.001;function g(t){return parseInt(t,10)}function y(t){return!!t&&(!!t.__builtin__||"function"===typeof t.resize&&"function"===typeof t.refresh)}var m=new o(0,0,0,0),L=new o(0,0,0,0);function w(t,e,i){return m.copy(t.getBoundingRect()),t.transform&&m.applyTransform(t.transform),L.width=e,L.height=i,!m.intersect(L)}function x(t,e){if(t===e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return!0;return!1}function C(t,e){for(var i=0;i<t.length;i++){var r=t[i];r.setTransform(e),e.beginPath(),r.buildPath(e,r.shape),e.clip(),r.restoreTransform(e)}}function z(t,e){var i=document.createElement("div");return i.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",i}var b=function(t,e,i){this.type="canvas";var r=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=n.extend({},i||{}),this.dpr=i.devicePixelRatio||s,this._singleCanvas=r,this.root=t;var a=t.style;a&&(a["-webkit-tap-highlight-color"]="transparent",a["-webkit-user-select"]=a["user-select"]=a["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var o=this._zlevelList=[],l=this._layers={};if(this._layerConfig={},this._needsManuallyCompositing=!1,r){var _=t.width,d=t.height;null!=i.width&&(_=i.width),null!=i.height&&(d=i.height),this.dpr=i.devicePixelRatio||1,t.width=_*this.dpr,t.height=d*this.dpr,this._width=_,this._height=d;var u=new h(t,this,this.dpr);u.__builtin__=!0,u.initContext(),l[c]=u,u.zlevel=c,o.push(c),this._domRoot=t}else{this._width=this._getSize(0),this._height=this._getSize(1);var f=this._domRoot=z(this._width,this._height);t.appendChild(f)}this._hoverlayer=null,this._hoverElements=[]};b.prototype={constructor:b,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var r=0;r<i.length;r++){var s=i[r],n=this._layers[s];if(!n.__builtin__&&n.refresh){var a=0===r?this._backgroundColor:null;n.refresh(a)}}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return i.__from=t,t.__hoverMir=i,e&&i.setStyle(e),this._hoverElements.push(i),i}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,r=n.indexOf(i,e);r>=0&&i.splice(r,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var r=e[i].__from;r&&(r.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){l(t,this.storage.displayableSortFunc),i||(i=this._hoverlayer=this.getLayer(f));var r={};i.ctx.save();for(var s=0;s<e;){var n=t[s],a=n.__from;a&&a.__zr?(s++,a.invisible||(n.transform=a.transform,n.invTransform=a.invTransform,n.__clipPaths=a.__clipPaths,this._doPaintEl(n,i,!0,r))):(t.splice(s,1),a.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(f)},_paintList:function(t,e,i){if(this._redrawId===i){e=e||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e);if(this._needsManuallyCompositing&&this._compositeManually(),!r){var s=this;_((function(){s._paintList(t,e,i)}))}}},_compositeManually:function(){var t=this.getLayer(c).ctx,e=this._domRoot.width,i=this._domRoot.height;t.clearRect(0,0,e,i),this.eachBuiltinLayer((function(r){r.virtual&&t.drawImage(r.dom,0,0,e,i)}))},_doPaintList:function(t,e){for(var i=[],r=0;r<this._zlevelList.length;r++){var s=this._zlevelList[r],a=this._layers[s];a.__builtin__&&a!==this._hoverlayer&&(a.__dirty||e)&&i.push(a)}for(var o=!0,l=0;l<i.length;l++){a=i[l];var h=a.ctx,_={};h.save();var d=e?a.__startIndex:a.__drawIndex,f=!e&&a.incremental&&Date.now,c=f&&Date.now(),v=a.zlevel===this._zlevelList[0]?this._backgroundColor:null;if(a.__startIndex===a.__endIndex)a.clear(!1,v);else if(d===a.__startIndex){var p=t[d];p.incremental&&p.notClear&&!e||a.clear(!1,v)}-1===d&&(d=a.__startIndex);for(var g=d;g<a.__endIndex;g++){var y=t[g];if(this._doPaintEl(y,a,e,_),y.__dirty=y.__dirtyText=!1,f){var m=Date.now()-c;if(m>15)break}}a.__drawIndex=g,a.__drawIndex<a.__endIndex&&(o=!1),_.prevElClipPaths&&h.restore(),h.restore()}return u.wxa&&n.each(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),o},_doPaintEl:function(t,e,i,r){var s=e.ctx,n=t.transform;if((e.__dirty||i)&&!t.invisible&&0!==t.style.opacity&&(!n||n[0]||n[3])&&(!t.culling||!w(t,this._width,this._height))){var a=t.__clipPaths,o=r.prevElClipPaths;o&&!x(a,o)||(o&&(s.restore(),r.prevElClipPaths=null,r.prevEl=null),a&&(s.save(),C(a,s),r.prevElClipPaths=a)),t.beforeBrush&&t.beforeBrush(s),t.brush(s,r.prevEl||null),r.prevEl=t,t.afterBrush&&t.afterBrush(s)}},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=c);var i=this._layers[t];return i||(i=new h("zr_"+t,this,this.dpr),i.zlevel=t,i.__builtin__=!0,this._layerConfig[t]?n.merge(i,this._layerConfig[t],!0):this._layerConfig[t-v]&&n.merge(i,this._layerConfig[t-v],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i=this._layers,r=this._zlevelList,s=r.length,n=null,o=-1,l=this._domRoot;if(i[t])a("ZLevel "+t+" has been used already");else if(y(e)){if(s>0&&t>r[0]){for(o=0;o<s-1;o++)if(r[o]<t&&r[o+1]>t)break;n=i[r[o]]}if(r.splice(o+1,0,t),i[t]=e,!e.virtual)if(n){var h=n.dom;h.nextSibling?l.insertBefore(e.dom,h.nextSibling):l.appendChild(e.dom)}else l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom)}else a("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){var i,r,s=this._zlevelList;for(r=0;r<s.length;r++)i=s[r],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){var i,r,s,n=this._zlevelList;for(s=0;s<n.length;s++)r=n[s],i=this._layers[r],i.__builtin__&&t.call(e,i,r)},eachOtherLayer:function(t,e){var i,r,s,n=this._zlevelList;for(s=0;s<n.length;s++)r=n[s],i=this._layers[r],i.__builtin__||t.call(e,i,r)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){n&&(n.__endIndex!==t&&(n.__dirty=!0),n.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var i=1;i<t.length;i++){var r=t[i];if(r.zlevel!==t[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}}var s,n=null,o=0;for(i=0;i<t.length;i++){r=t[i];var l,h=r.zlevel;s!==h&&(s=h,o=0),r.incremental?(l=this.getLayer(h+p,this._needsManuallyCompositing),l.incremental=!0,o=1):l=this.getLayer(h+(o>0?v:0),this._needsManuallyCompositing),l.__builtin__||a("ZLevel "+h+" has been used by unkown layer "+l.id),l!==n&&(l.__used=!0,l.__startIndex!==i&&(l.__dirty=!0),l.__startIndex=i,l.incremental?l.__drawIndex=-1:l.__drawIndex=i,e(i),n=l),r.__dirty&&(l.__dirty=!0,l.incremental&&l.__drawIndex<0&&(l.__drawIndex=i))}e(i),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?n.merge(i[t],e,!0):i[t]=e;for(var r=0;r<this._zlevelList.length;r++){var s=this._zlevelList[r];if(s===t||s===t+v){var a=this._layers[s];n.merge(a,i[t],!0)}}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,r=e[t];r&&(r.dom.parentNode.removeChild(r.dom),delete e[t],i.splice(n.indexOf(i,t),1))},resize:function(t,e){if(this._domRoot.style){var i=this._domRoot;i.style.display="none";var r=this._opts;if(null!=t&&(r.width=t),null!=e&&(r.height=e),t=this._getSize(0),e=this._getSize(1),i.style.display="",this._width!==t||e!==this._height){for(var s in i.style.width=t+"px",i.style.height=e+"px",this._layers)this._layers.hasOwnProperty(s)&&this._layers[s].resize(t,e);n.each(this._progressiveLayers,(function(i){i.resize(t,e)})),this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(c).resize(t,e)}return this},clearLayer:function(t){var e=this._layers[t];e&&e.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[c].dom;var e=new h("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,r=e.dom.height,s=e.ctx;this.eachLayer((function(t){t.__builtin__?s.drawImage(t.dom,0,0,i,r):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())}))}else for(var n={},a=this.storage.getDisplayList(!0),o=0;o<a.length;o++){var l=a[o];this._doPaintEl(l,e,!0,n)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],r=["clientWidth","clientHeight"][t],s=["paddingLeft","paddingTop"][t],n=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);var a=this.root,o=document.defaultView.getComputedStyle(a);return(a[r]||g(o[i])||g(a.style[i]))-(g(o[s])||0)-(g(o[n])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),r=i.getContext("2d"),s=t.getBoundingRect(),n=t.style,a=n.shadowBlur*e,o=n.shadowOffsetX*e,l=n.shadowOffsetY*e,h=n.hasStroke()?n.lineWidth:0,_=Math.max(h/2,-o+a),u=Math.max(h/2,o+a),f=Math.max(h/2,-l+a),c=Math.max(h/2,l+a),v=s.width+_+u,p=s.height+f+c;i.width=v*e,i.height=p*e,r.scale(e,e),r.clearRect(0,0,v,p),r.dpr=e;var g={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[_-s.x,f-s.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(r);var y=d,m=new y({style:{x:0,y:0,image:i}});return null!=g.position&&(m.position=t.position=g.position),null!=g.rotation&&(m.rotation=t.rotation=g.rotation),null!=g.scale&&(m.scale=t.scale=g.scale),m}};var I=b;t.exports=I}}]);