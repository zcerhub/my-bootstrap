(window["jsonpPaas4"]=window["jsonpPaas4"]||[]).push([["app~d71bf088"],{2163:function(e,t,i){var o=i("4f85"),n=i("06c7"),a=i("eda2"),r=a.encodeHTML,l=i("4319"),s=o.extend({type:"series.tree",layoutInfo:null,layoutMode:"box",getInitialData:function(e){var t={name:e.name,children:e.data},i=e.leaves||{},o=new l(i,this,this.ecModel),a=n.createTree(t,this,r);function r(e){e.wrapMethod("getItemModel",(function(e,t){var i=a.getNodeByDataIndex(t);return i.children.length&&i.isExpand||(e.parentModel=o),e}))}var s=0;a.eachNode("preorder",(function(e){e.depth>s&&(s=e.depth)}));var d=e.expandAndCollapse,h=d&&e.initialTreeDepth>=0?e.initialTreeDepth:s;return a.root.eachNode("preorder",(function(e){var t=e.hostTree.data.getRawDataItem(e.dataIndex);e.isExpand=t&&null!=t.collapsed?!t.collapsed:e.depth<=h})),a.data},getOrient:function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},setZoom:function(e){this.option.zoom=e},setCenter:function(e){this.option.center=e},formatTooltip:function(e){var t=this.getData().tree,i=t.root.children[0],o=t.getNodeByDataIndex(e),n=o.getValue(),a=o.name;while(o&&o!==i)a=o.parentNode.name+"."+a,o=o.parentNode;return r(a+(isNaN(n)||null==n?"":" : "+n))},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderColor:"#c23531",borderWidth:1.5},label:{show:!0,color:"#555"},leaves:{label:{show:!0}},animationEasing:"linear",animationDuration:700,animationDurationUpdate:1e3}});e.exports=s},"22da":function(e,t,i){var o=i("f934");function n(e){e.hierNode={defaultAncestor:null,ancestor:e,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};var t,i,o=[e];while(t=o.pop())if(i=t.children,t.isExpand&&i.length)for(var n=i.length,a=n-1;a>=0;a--){var r=i[a];r.hierNode={defaultAncestor:null,ancestor:r,prelim:0,modifier:0,change:0,shift:0,i:a,thread:null},o.push(r)}}function a(e,t){var i=e.isExpand?e.children:[],o=e.parentNode.children,n=e.hierNode.i?o[e.hierNode.i-1]:null;if(i.length){h(e);var a=(i[0].hierNode.prelim+i[i.length-1].hierNode.prelim)/2;n?(e.hierNode.prelim=n.hierNode.prelim+t(e,n),e.hierNode.modifier=e.hierNode.prelim-a):e.hierNode.prelim=a}else n&&(e.hierNode.prelim=n.hierNode.prelim+t(e,n));e.parentNode.hierNode.defaultAncestor=u(e,n,e.parentNode.hierNode.defaultAncestor||o[0],t)}function r(e){var t=e.hierNode.prelim+e.parentNode.hierNode.modifier;e.setLayout({x:t},!0),e.hierNode.modifier+=e.parentNode.hierNode.modifier}function l(e){return arguments.length?e:v}function s(e,t){var i={};return e-=Math.PI/2,i.x=t*Math.cos(e),i.y=t*Math.sin(e),i}function d(e,t){return o.getLayoutRect(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function h(e){var t=e.children,i=t.length,o=0,n=0;while(--i>=0){var a=t[i];a.hierNode.prelim+=o,a.hierNode.modifier+=o,n+=a.hierNode.change,o+=a.hierNode.shift+n}}function u(e,t,i,o){if(t){var n=e,a=e,r=a.parentNode.children[0],l=t,s=n.hierNode.modifier,d=a.hierNode.modifier,h=r.hierNode.modifier,u=l.hierNode.modifier;while(l=c(l),a=p(a),l&&a){n=c(n),r=p(r),n.hierNode.ancestor=e;var v=l.hierNode.prelim+u-a.hierNode.prelim-d+o(l,a);v>0&&(f(g(l,e,i),e,v),d+=v,s+=v),u+=l.hierNode.modifier,d+=a.hierNode.modifier,s+=n.hierNode.modifier,h+=r.hierNode.modifier}l&&!c(n)&&(n.hierNode.thread=l,n.hierNode.modifier+=u-s),a&&!p(r)&&(r.hierNode.thread=a,r.hierNode.modifier+=d-h,i=e)}return i}function c(e){var t=e.children;return t.length&&e.isExpand?t[t.length-1]:e.hierNode.thread}function p(e){var t=e.children;return t.length&&e.isExpand?t[0]:e.hierNode.thread}function g(e,t,i){return e.hierNode.ancestor.parentNode===t.parentNode?e.hierNode.ancestor:i}function f(e,t,i){var o=i/(t.hierNode.i-e.hierNode.i);t.hierNode.change-=o,t.hierNode.shift+=i,t.hierNode.modifier+=i,t.hierNode.prelim+=i,e.hierNode.change+=o}function v(e,t){return e.parentNode===t.parentNode?1:2}t.init=n,t.firstWalk=a,t.secondWalk=r,t.separation=l,t.radialCoordinate=s,t.getViewRect=d},"255c":function(e,t,i){var o=i("3eba"),n=i("d4d1"),a=n.Polygon,r=i("2306"),l=i("6d8b"),s=l.bind,d=l.extend,h=i("80f0"),u=o.extendChartView({type:"themeRiver",init:function(){this._layers=[]},render:function(e,t,i){var o=e.getData(),n=this.group,l=e.getLayerSeries(),u=o.getLayout("layoutInfo"),p=u.rect,g=u.boundaryGap;function f(e){return e.name}n.attr("position",[0,p.y+g[0]]);var v=new h(this._layersSeries||[],l,f,f),m={};function y(t,i,s){var h=this._layers;if("remove"!==t){for(var u,p,g,f=[],v=[],y=l[i].indices,x=0;x<y.length;x++){var w=o.getItemLayout(y[x]),b=w.x,_=w.y0,I=w.y;f.push([b,_]),v.push([b,_+I]),u=o.getItemVisual(y[x],"color")}var N=o.getItemLayout(y[0]),M=o.getItemModel(y[x-1]),S=M.getModel("label"),T=S.get("margin");if("add"===t){var L=m[i]=new r.Group;p=new a({shape:{points:f,stackedOnPoints:v,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),g=new r.Text({style:{x:N.x-T,y:N.y0+N.y/2}}),L.add(p),L.add(g),n.add(L),p.setClipPath(c(p.getBoundingRect(),e,(function(){p.removeClipPath()})))}else{L=h[s];p=L.childAt(0),g=L.childAt(1),n.add(L),m[i]=L,r.updateProps(p,{shape:{points:f,stackedOnPoints:v}},e),r.updateProps(g,{style:{x:N.x-T,y:N.y0+N.y/2}},e)}var R=M.getModel("emphasis.itemStyle"),D=M.getModel("itemStyle");r.setTextStyle(g.style,S,{text:S.get("show")?e.getFormattedLabel(y[x-1],"normal")||o.getName(y[x-1]):null,textVerticalAlign:"middle"}),p.setStyle(d({fill:u},D.getItemStyle(["color"]))),r.setHoverStyle(p,R.getItemStyle())}else n.remove(h[i])}v.add(s(y,this,"add")).update(s(y,this,"update")).remove(s(y,this,"remove")).execute(),this._layersSeries=l,this._layers=m},dispose:function(){}});function c(e,t,i){var o=new r.Rect({shape:{x:e.x-10,y:e.y-10,width:0,height:e.height+20}});return r.initProps(o,{shape:{width:e.width+20,height:e.height+20}},t,i),o}e.exports=u},"340d":function(e,t,i){var o=i("6d8b"),n=i("e887"),a=i("4e47"),r=i("80f0"),l=i("eda2"),s=l.windowOpen,d="sunburstRootToNode",h=n.extend({type:"sunburst",init:function(){},render:function(e,t,i,n){var l=this;this.seriesModel=e,this.api=i,this.ecModel=t;var s=e.getData(),d=s.tree.root,h=e.getViewRoot(),u=this.group,c=e.get("renderLabelForZeroData"),p=[];h.eachNode((function(e){p.push(e)}));var g=this._oldChildren||[];if(m(p,g),w(d,h),n&&n.highlight&&n.highlight.piece){var f=e.getShallow("highlightPolicy");n.highlight.piece.onEmphasis(f)}else if(n&&n.unhighlight){var v=this.virtualPiece;!v&&d.children.length&&(v=d.children[0].piece),v&&v.onNormal()}function m(e,t){function i(e){return e.getId()}function n(i,o){var n=null==i?null:e[i],a=null==o?null:t[o];y(n,a)}0===e.length&&0===t.length||new r(t,e,i,i).add(n).update(n).remove(o.curry(n,null)).execute()}function y(i,o){if(c||!i||i.getValue()||(i=null),i!==d&&o!==d)if(o&&o.piece)i?(o.piece.updateData(!1,i,"normal",e,t),s.setItemGraphicEl(i.dataIndex,o.piece)):x(o);else if(i){var n=new a(i,e,t);u.add(n),s.setItemGraphicEl(i.dataIndex,n)}}function x(e){e&&e.piece&&(u.remove(e.piece),e.piece=null)}function w(i,o){if(o.depth>0){l.virtualPiece?l.virtualPiece.updateData(!1,i,"normal",e,t):(l.virtualPiece=new a(i,e,t),u.add(l.virtualPiece)),o.piece._onclickEvent&&o.piece.off("click",o.piece._onclickEvent);var n=function(e){l._rootToNode(o.parentNode)};o.piece._onclickEvent=n,l.virtualPiece.on("click",n)}else l.virtualPiece&&(u.remove(l.virtualPiece),l.virtualPiece=null)}this._initEvents(),this._oldChildren=p},dispose:function(){},_initEvents:function(){var e=this,t=function(t){var i=!1,o=e.seriesModel.getViewRoot();o.eachNode((function(o){if(!i&&o.piece&&o.piece.childAt(0)===t.target){var n=o.getModel().get("nodeClick");if("rootToNode"===n)e._rootToNode(o);else if("link"===n){var a=o.getModel(),r=a.get("link");if(r){var l=a.get("target",!0)||"_blank";s(r,l)}}i=!0}}))};this.group._onclickEvent&&this.group.off("click",this.group._onclickEvent),this.group.on("click",t),this.group._onclickEvent=t},_rootToNode:function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:d,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},containPoint:function(e,t){var i=t.getData(),o=i.getItemLayout(0);if(o){var n=e[0]-o.cx,a=e[1]-o.cy,r=Math.sqrt(n*n+a*a);return r<=o.r&&r>=o.r0}}}),u=h;e.exports=u},4411:function(e,t,i){for(var o=i("3eba"),n=i("55ac"),a=function(){},r=["treemapZoomToNode","treemapRender","treemapMove"],l=0;l<r.length;l++)o.registerAction({type:r[l],update:"updateView"},a);o.registerAction({type:"treemapRootToNode",update:"updateView"},(function(e,t){function i(t,i){var o=["treemapZoomToNode","treemapRootToNode"],a=n.retrieveTargetInfo(e,o,t);if(a){var r=t.getViewRoot();r&&(e.direction=n.aboveViewRoot(r,a.node)?"rollUp":"drillDown"),t.resetViewRoot(a.node)}}t.eachComponent({mainType:"series",subType:"treemap",query:e},i)}))},"44fb":function(e,t,i){var o=i("3eba"),n=i("55ac"),a="sunburstRootToNode";o.registerAction({type:a,update:"updateView"},(function(e,t){function i(t,i){var o=n.retrieveTargetInfo(e,[a],t);if(o){var r=t.getViewRoot();r&&(e.direction=n.aboveViewRoot(r,o.node)?"rollUp":"drillDown"),t.resetViewRoot(o.node)}}t.eachComponent({mainType:"series",subType:"sunburst",query:e},i)}));var r="sunburstHighlight";o.registerAction({type:r,update:"updateView"},(function(e,t){function i(t,i){var o=n.retrieveTargetInfo(e,[r],t);o&&(e.highlight=o.node)}t.eachComponent({mainType:"series",subType:"sunburst",query:e},i)}));var l="sunburstUnhighlight";o.registerAction({type:l,update:"updateView"},(function(e,t){function i(t,i){e.unhighlight=!0}t.eachComponent({mainType:"series",subType:"sunburst",query:e},i)}))},"4e47":function(e,t,i){var o=i("6d8b"),n=i("2306"),a={NONE:"none",DESCENDANT:"descendant",ANCESTOR:"ancestor",SELF:"self"},r=2,l=4;function s(e,t,i){n.Group.call(this);var o=new n.Sector({z2:r});o.seriesIndex=t.seriesIndex;var a=new n.Text({z2:l,silent:e.getModel("label").get("silent")});function s(){a.ignore=a.hoverIgnore}function d(){a.ignore=a.normalIgnore}this.add(o),this.add(a),this.updateData(!0,e,"normal",t,i),this.on("emphasis",s).on("normal",d).on("mouseover",s).on("mouseout",d)}var d=s.prototype;d.updateData=function(e,t,i,a,r){this.node=t,t.piece=this,a=a||this._seriesModel,r=r||this._ecModel;var l=this.childAt(0);l.dataIndex=t.dataIndex;var s=t.getModel(),d=t.getLayout(),h=o.extend({},d);h.label=null;var c=u(t,a,r);g(t,a,c);var p,f=s.getModel("itemStyle").getItemStyle();if("normal"===i)p=f;else{var v=s.getModel(i+".itemStyle").getItemStyle();p=o.merge(v,f)}p=o.defaults({lineJoin:"bevel",fill:p.fill||c},p),e?(l.setShape(h),l.shape.r=d.r0,n.updateProps(l,{shape:{r:d.r}},a,t.dataIndex),l.useStyle(p)):"object"===typeof p.fill&&p.fill.type||"object"===typeof l.style.fill&&l.style.fill.type?(n.updateProps(l,{shape:h},a),l.useStyle(p)):n.updateProps(l,{shape:h,style:p},a),this._updateLabel(a,c,i);var m=s.getShallow("cursor");if(m&&l.attr("cursor",m),e){var y=a.getShallow("highlightPolicy");this._initEvents(l,t,a,y)}this._seriesModel=a||this._seriesModel,this._ecModel=r||this._ecModel,n.setHoverStyle(this)},d.onEmphasis=function(e){var t=this;this.node.hostTree.root.eachNode((function(i){i.piece&&(t.node===i?i.piece.updateData(!1,i,"emphasis"):p(i,t.node,e)?i.piece.childAt(0).trigger("highlight"):e!==a.NONE&&i.piece.childAt(0).trigger("downplay"))}))},d.onNormal=function(){this.node.hostTree.root.eachNode((function(e){e.piece&&e.piece.updateData(!1,e,"normal")}))},d.onHighlight=function(){this.updateData(!1,this.node,"highlight")},d.onDownplay=function(){this.updateData(!1,this.node,"downplay")},d._updateLabel=function(e,t,i){var a=this.node.getModel(),r=a.getModel("label"),l="normal"===i||"emphasis"===i?r:a.getModel(i+".label"),s=a.getModel("emphasis.label"),d=l.get("formatter"),h=d?i:"normal",u=o.retrieve(e.getFormattedLabel(this.node.dataIndex,h,null,null,"label"),this.node.name);!1===T("show")&&(u="");var c=this.node.getLayout(),p=l.get("minAngle");null==p&&(p=r.get("minAngle")),p=p/180*Math.PI;var g=c.endAngle-c.startAngle;null!=p&&Math.abs(g)<p&&(u="");var f=this.childAt(1);n.setLabelStyle(f.style,f.hoverStyle||{},r,s,{defaultText:l.getShallow("show")?u:null,autoColor:t,useInsideStyle:!0});var v,m=(c.startAngle+c.endAngle)/2,y=Math.cos(m),x=Math.sin(m),w=T("position"),b=T("distance")||0,_=T("align");"outside"===w?(v=c.r+b,_=m>Math.PI/2?"right":"left"):_&&"center"!==_?"left"===_?(v=c.r0+b,m>Math.PI/2&&(_="right")):"right"===_&&(v=c.r-b,m>Math.PI/2&&(_="left")):(v=(c.r+c.r0)/2,_="center"),f.attr("style",{text:u,textAlign:_,textVerticalAlign:T("verticalAlign")||"middle",opacity:T("opacity")});var I=v*y+c.cx,N=v*x+c.cy;f.attr("position",[I,N]);var M=T("rotate"),S=0;function T(e){var t=l.get(e);return null==t?r.get(e):t}"radial"===M?(S=-m,S<-Math.PI/2&&(S+=Math.PI)):"tangential"===M?(S=Math.PI/2-m,S>Math.PI/2?S-=Math.PI:S<-Math.PI/2&&(S+=Math.PI)):"number"===typeof M&&(S=M*Math.PI/180),f.attr("rotation",S)},d._initEvents=function(e,t,i,o){e.off("mouseover").off("mouseout").off("emphasis").off("normal");var n=this,a=function(){n.onEmphasis(o)},r=function(){n.onNormal()},l=function(){n.onDownplay()},s=function(){n.onHighlight()};i.isAnimationEnabled()&&e.on("mouseover",a).on("mouseout",r).on("emphasis",a).on("normal",r).on("downplay",l).on("highlight",s)},o.inherits(s,n.Group);var h=s;function u(e,t,i){var o=e.getVisual("color"),n=e.getVisual("visualMeta");n&&0!==n.length||(o=null);var a=e.getModel("itemStyle").get("color");if(a)return a;if(o)return o;if(0===e.depth)return i.option.color[0];var r=i.option.color.length;return a=i.option.color[c(e)%r],a}function c(e){var t=e;while(t.depth>1)t=t.parentNode;var i=e.getAncestors()[0];return o.indexOf(i.children,t)}function p(e,t,i){return i!==a.NONE&&(i===a.SELF?e===t:i===a.ANCESTOR?e===t||e.isAncestorOf(t):e===t||e.isDescendantOf(t))}function g(e,t,i){var o=t.getData();o.setItemVisual(e.dataIndex,"color",i)}e.exports=h},"527a":function(e,t,i){var o=i("6d8b"),n=i("3842");function a(e,t){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),i=e.coordinateSystem,o={},a=i.getRect();o.rect=a;var l=e.get("boundaryGap"),s=i.getAxis();if(o.boundaryGap=l,"horizontal"===s.orient){l[0]=n.parsePercent(l[0],a.height),l[1]=n.parsePercent(l[1],a.height);var d=a.height-l[0]-l[1];r(t,e,d)}else{l[0]=n.parsePercent(l[0],a.width),l[1]=n.parsePercent(l[1],a.width);var h=a.width-l[0]-l[1];r(t,e,h)}t.setLayout("layoutInfo",o)}))}function r(e,t,i){if(e.count())for(var n,a=t.coordinateSystem,r=t.getLayerSeries(),s=e.mapDimension("single"),d=e.mapDimension("value"),h=o.map(r,(function(t){return o.map(t.indices,(function(t){var i=a.dataToPoint(e.get(s,t));return i[1]=e.get(d,t),i}))})),u=l(h),c=u.y0,p=i/u.max,g=r.length,f=r[0].indices.length,v=0;v<f;++v){n=c[v]*p,e.setItemLayout(r[0].indices[v],{layerIndex:0,x:h[0][v][0],y0:n,y:h[0][v][1]*p});for(var m=1;m<g;++m)n+=h[m-1][v][1]*p,e.setItemLayout(r[m].indices[v],{layerIndex:m,x:h[m][v][0],y0:n,y:h[m][v][1]*p})}}function l(e){for(var t=e.length,i=e[0].length,o=[],n=[],a=0,r={},l=0;l<i;++l){for(var s=0,d=0;s<t;++s)d+=e[s][l][1];d>a&&(a=d),o.push(d)}for(var h=0;h<i;++h)n[h]=(a-o[h])/2;a=0;for(var u=0;u<i;++u){var c=o[u]+n[u];c>a&&(a=c)}return r.y0=n,r.max=a,r}e.exports=a},"6c12f":function(e,t,i){var o=i("3eba");i("2cfc"),i("adf4"),i("255c");var n=i("527a"),a=i("71b2"),r=i("d3f4");o.registerLayout(n),o.registerVisual(a),o.registerProcessor(r("themeRiver"))},"6cd8":function(e,t,i){var o=i("6d8b"),n=i("2306"),a=i("1418"),r=i("22da"),l=r.radialCoordinate,s=i("3eba"),d=i("e263"),h=i("6cc5"),u=i("01ef"),c=i("4a01"),p=i("c526"),g=p.onIrrelevantElement,f=i("4e08"),v=(f.__DEV__,i("3842")),m=v.parsePercent,y=n.extendShape({shape:{parentPoint:[],childPoints:[],orient:"",forkPosition:""},style:{stroke:"#000",fill:null},buildPath:function(e,t){var i=t.childPoints,o=i.length,n=t.parentPoint,a=i[0],r=i[o-1];if(1===o)return e.moveTo(n[0],n[1]),void e.lineTo(a[0],a[1]);var l=t.orient,s="TB"===l||"BT"===l?0:1,d=1-s,h=m(t.forkPosition,1),u=[];u[s]=n[s],u[d]=n[d]+(r[d]-n[d])*h,e.moveTo(n[0],n[1]),e.lineTo(u[0],u[1]),e.moveTo(a[0],a[1]),u[s]=a[s],e.lineTo(u[0],u[1]),u[s]=r[s],e.lineTo(u[0],u[1]),e.lineTo(r[0],r[1]);for(var c=1;c<o-1;c++){var p=i[c];e.moveTo(p[0],p[1]),u[s]=p[s],e.lineTo(u[0],u[1])}}}),x=s.extendChartView({type:"tree",init:function(e,t){this._oldTree,this._mainGroup=new n.Group,this._controller=new c(t.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},render:function(e,t,i,o){var n=e.getData(),a=e.layoutInfo,r=this._mainGroup,l=e.get("layout");"radial"===l?r.attr("position",[a.x+a.width/2,a.y+a.height/2]):r.attr("position",[a.x,a.y]),this._updateViewCoordSys(e,a,l),this._updateController(e,t,i);var s=this._data,d={expandAndCollapse:e.get("expandAndCollapse"),layout:l,edgeShape:e.get("edgeShape"),edgeForkPosition:e.get("edgeForkPosition"),orient:e.getOrient(),curvature:e.get("lineStyle.curveness"),symbolRotate:e.get("symbolRotate"),symbolOffset:e.get("symbolOffset"),hoverAnimation:e.get("hoverAnimation"),useNameLabel:!0,fadeIn:!0};n.diff(s).add((function(t){w(n,t)&&_(n,t,null,r,e,d)})).update((function(t,i){var o=s.getItemGraphicEl(i);w(n,t)?_(n,t,o,r,e,d):o&&N(s,i,o,r,e,d)})).remove((function(t){var i=s.getItemGraphicEl(t);i&&N(s,t,i,r,e,d)})).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===d.expandAndCollapse&&n.eachItemGraphicEl((function(t,o){t.off("click").on("click",(function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:o})}))})),this._data=n},_updateViewCoordSys:function(e){var t=e.getData(),i=[];t.each((function(e){var o=t.getItemLayout(e);!o||isNaN(o.x)||isNaN(o.y)||i.push([+o.x,+o.y])}));var o=[],n=[];d.fromPoints(i,o,n);var a=this._min,r=this._max;n[0]-o[0]===0&&(o[0]=a?a[0]:o[0]-1,n[0]=r?r[0]:n[0]+1),n[1]-o[1]===0&&(o[1]=a?a[1]:o[1]-1,n[1]=r?r[1]:n[1]+1);var l=e.coordinateSystem=new h;l.zoomLimit=e.get("scaleLimit"),l.setBoundingRect(o[0],o[1],n[0]-o[0],n[1]-o[1]),l.setCenter(e.get("center")),l.setZoom(e.get("zoom")),this.group.attr({position:l.position,scale:l.scale}),this._viewCoordSys=l,this._min=o,this._max=n},_updateController:function(e,t,i){var o=this._controller,n=this._controllerHost,a=this.group;o.setPointerChecker((function(t,o,n){var r=a.getBoundingRect();return r.applyTransform(a.transform),r.contain(o,n)&&!g(t,i,e)})),o.enable(e.get("roam")),n.zoomLimit=e.get("scaleLimit"),n.zoom=e.coordinateSystem.getZoom(),o.off("pan").off("zoom").on("pan",(function(t){u.updateViewOnPan(n,t.dx,t.dy),i.dispatchAction({seriesId:e.id,type:"treeRoam",dx:t.dx,dy:t.dy})}),this).on("zoom",(function(t){u.updateViewOnZoom(n,t.scale,t.originX,t.originY),i.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:t.scale,originX:t.originX,originY:t.originY}),this._updateNodeAndLinkScale(e)}),this)},_updateNodeAndLinkScale:function(e){var t=e.getData(),i=this._getNodeGlobalScale(e),o=[i,i];t.eachItemGraphicEl((function(e,t){e.attr("scale",o)}))},_getNodeGlobalScale:function(e){var t=e.coordinateSystem;if("view"!==t.type)return 1;var i=this._nodeScaleRatio,o=t.scale,n=o&&o[0]||1,a=t.getZoom(),r=(a-1)*i+1;return r/n},dispose:function(){this._controller&&this._controller.dispose(),this._controllerHost={}},remove:function(){this._mainGroup.removeAll(),this._data=null}});function w(e,t){var i=e.getItemLayout(t);return i&&!isNaN(i.x)&&!isNaN(i.y)&&"none"!==e.getItemVisual(t,"symbol")}function b(e,t,i){return i.itemModel=t,i.itemStyle=t.getModel("itemStyle").getItemStyle(),i.hoverItemStyle=t.getModel("emphasis.itemStyle").getItemStyle(),i.lineStyle=t.getModel("lineStyle").getLineStyle(),i.labelModel=t.getModel("label"),i.hoverLabelModel=t.getModel("emphasis.label"),!1===e.isExpand&&0!==e.children.length?i.symbolInnerColor=i.itemStyle.fill:i.symbolInnerColor="#fff",i}function _(e,t,i,o,r,l){var s=!i,d=e.tree.getNodeByDataIndex(t),h=d.getModel(),u=(l=b(d,h,l),e.tree.root),c=d.parentNode===u?d:d.parentNode||d,p=e.getItemGraphicEl(c.dataIndex),g=c.getLayout(),f=p?{x:p.position[0],y:p.position[1],rawX:p.__radialOldRawX,rawY:p.__radialOldRawY}:g,v=d.getLayout();s?(i=new a(e,t,l),i.attr("position",[f.x,f.y])):i.updateData(e,t,l),i.__radialOldRawX=i.__radialRawX,i.__radialOldRawY=i.__radialRawY,i.__radialRawX=v.rawX,i.__radialRawY=v.rawY,o.add(i),e.setItemGraphicEl(t,i),n.updateProps(i,{position:[v.x,v.y]},r);var m=i.getSymbolPath();if("radial"===l.layout){var y,x,w=u.children[0],_=w.getLayout(),N=w.children.length;if(v.x===_.x&&!0===d.isExpand){var M={};M.x=(w.children[0].getLayout().x+w.children[N-1].getLayout().x)/2,M.y=(w.children[0].getLayout().y+w.children[N-1].getLayout().y)/2,y=Math.atan2(M.y-_.y,M.x-_.x),y<0&&(y=2*Math.PI+y),x=M.x<_.x,x&&(y-=Math.PI)}else y=Math.atan2(v.y-_.y,v.x-_.x),y<0&&(y=2*Math.PI+y),0===d.children.length||0!==d.children.length&&!1===d.isExpand?(x=v.x<_.x,x&&(y-=Math.PI)):(x=v.x>_.x,x||(y-=Math.PI));var S=x?"left":"right",T=l.labelModel.get("rotate"),L=T*(Math.PI/180);m.setStyle({textPosition:l.labelModel.get("position")||S,textRotation:null==T?-y:L,textOrigin:"center",verticalAlign:"middle"})}I(r,d,u,i,f,g,v,o,l)}function I(e,t,i,a,r,l,s,d,h){var u=h.edgeShape,c=a.__edge;if("curve"===u)t.parentNode&&t.parentNode!==i&&(c||(c=a.__edge=new n.BezierCurve({shape:M(h,r,r),style:o.defaults({opacity:0,strokeNoScale:!0},h.lineStyle)})),n.updateProps(c,{shape:M(h,l,s),style:o.defaults({opacity:1},h.lineStyle)},e));else if("polyline"===u&&"orthogonal"===h.layout&&t!==i&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var p=t.children,g=[],f=0;f<p.length;f++){var v=p[f].getLayout();g.push([v.x,v.y])}c||(c=a.__edge=new y({shape:{parentPoint:[s.x,s.y],childPoints:[[s.x,s.y]],orient:h.orient,forkPosition:h.edgeForkPosition},style:o.defaults({opacity:0,strokeNoScale:!0},h.lineStyle)})),n.updateProps(c,{shape:{parentPoint:[s.x,s.y],childPoints:g},style:o.defaults({opacity:1},h.lineStyle)},e)}d.add(c)}function N(e,t,i,o,a,r){var l,s=e.tree.getNodeByDataIndex(t),d=e.tree.root,h=s.getModel(),u=(r=b(s,h,r),s.parentNode===d?s:s.parentNode||s),c=r.edgeShape;while(l=u.getLayout(),null==l)u=u.parentNode===d?u:u.parentNode||u;n.updateProps(i,{position:[l.x+1,l.y+1]},a,(function(){o.remove(i),e.setItemGraphicEl(t,null)})),i.fadeOut(null,{keepLabel:!0});var p=e.getItemGraphicEl(u.dataIndex),g=p.__edge,f=i.__edge||(!1===u.isExpand||1===u.children.length?g:void 0);c=r.edgeShape;f&&("curve"===c?n.updateProps(f,{shape:M(r,l,l),style:{opacity:0}},a,(function(){o.remove(f)})):"polyline"===c&&"orthogonal"===r.layout&&n.updateProps(f,{shape:{parentPoint:[l.x,l.y],childPoints:[[l.x,l.y]]},style:{opacity:0}},a,(function(){o.remove(f)})))}function M(e,t,i){var o,n,a,r,s,d,h,u,c=e.orient;if("radial"===e.layout){s=t.rawX,h=t.rawY,d=i.rawX,u=i.rawY;var p=l(s,h),g=l(s,h+(u-h)*e.curvature),f=l(d,u+(h-u)*e.curvature),v=l(d,u);return{x1:p.x,y1:p.y,x2:v.x,y2:v.y,cpx1:g.x,cpy1:g.y,cpx2:f.x,cpy2:f.y}}return s=t.x,h=t.y,d=i.x,u=i.y,"LR"!==c&&"RL"!==c||(o=s+(d-s)*e.curvature,n=h,a=d+(s-d)*e.curvature,r=u),"TB"!==c&&"BT"!==c||(o=s,n=h+(u-h)*e.curvature,a=d,r=u+(h-u)*e.curvature),{x1:s,y1:h,x2:d,y2:u,cpx1:o,cpy1:n,cpx2:a,cpy2:r}}e.exports=x},"6d9a":function(e,t){function i(e,t,i){var o,n=[e],a=[];while(o=n.pop())if(a.push(o),o.isExpand){var r=o.children;if(r.length)for(var l=0;l<r.length;l++)n.push(r[l])}while(o=a.pop())t(o,i)}function o(e,t){var i,o=[e];while(i=o.pop())if(t(i),i.isExpand){var n=i.children;if(n.length)for(var a=n.length-1;a>=0;a--)o.push(n[a])}}t.eachAfter=i,t.eachBefore=o},"71b2":function(e,t,i){var o=i("6d8b"),n=o.createHashMap;function a(e){e.eachSeriesByType("themeRiver",(function(e){var t=e.getData(),i=e.getRawData(),o=e.get("color"),a=n();t.each((function(e){a.set(t.getRawIndex(e),e)})),i.each((function(n){var r=i.getName(n),l=o[(e.nameMap.get(r)-1)%o.length];i.setItemVisual(n,"color",l);var s=a.get(n);null!=s&&t.setItemVisual(s,"color",l)}))}))}e.exports=a},"90c2":function(e,t,i){var o=i("5f14"),n=i("41ef"),a=i("6d8b"),r=a.isArray,l="itemStyle",s={seriesType:"treemap",reset:function(e,t,i,o){var n=e.getData().tree,a=n.root;a.isRemoved()||d(a,{},e.getViewRoot().getAncestors(),e)}};function d(e,t,i,o){var n=e.getModel(),r=e.getLayout();if(r&&!r.invisible&&r.isInView){var s,p=e.getModel(l),f=h(p,t,o),m=p.get("borderColor"),y=p.get("borderColorSaturation");null!=y&&(s=u(f,e),m=c(y,s)),e.setVisual("borderColor",m);var x=e.viewChildren;if(x&&x.length){var w=g(e,n,r,p,f,x);a.each(x,(function(e,t){if(e.depth>=i.length||e===i[e.depth]){var a=v(n,f,e,t,w,o);d(e,a,i,o)}}))}else s=u(f,e),e.setVisual("color",s)}}function h(e,t,i){var o=a.extend({},t),n=i.designatedVisualItemStyle;return a.each(["color","colorAlpha","colorSaturation"],(function(i){n[i]=t[i];var a=e.get(i);n[i]=null,null!=a&&(o[i]=a)})),o}function u(e){var t=p(e,"color");if(t){var i=p(e,"colorAlpha"),o=p(e,"colorSaturation");return o&&(t=n.modifyHSL(t,null,null,o)),i&&(t=n.modifyAlpha(t,i)),t}}function c(e,t){return null!=t?n.modifyHSL(t,null,null,e):null}function p(e,t){var i=e[t];if(null!=i&&"none"!==i)return i}function g(e,t,i,n,a,r){if(r&&r.length){var l=f(t,"color")||null!=a.color&&"none"!==a.color&&(f(t,"colorAlpha")||f(t,"colorSaturation"));if(l){var s=t.get("visualMin"),d=t.get("visualMax"),h=i.dataExtent.slice();null!=s&&s<h[0]&&(h[0]=s),null!=d&&d>h[1]&&(h[1]=d);var u=t.get("colorMappingBy"),c={type:l.name,dataExtent:h,visual:l.range};"color"!==c.type||"index"!==u&&"id"!==u?c.mappingMethod="linear":(c.mappingMethod="category",c.loop=!0);var p=new o(c);return p.__drColorMappingBy=u,p}}}function f(e,t){var i=e.get(t);return r(i)&&i.length?{name:t,range:i}:null}function v(e,t,i,o,n,r){var l=a.extend({},t);if(n){var s=n.type,d="color"===s&&n.__drColorMappingBy,h="index"===d?o:"id"===d?r.mapIdToIndex(i.getId()):i.getValue(e.get("visualDimension"));l[s]=n.mapValueToVisual(h)}return l}e.exports=s},"928d":function(e,t,i){var o=i("6d8b"),n=i("4f85"),a=i("06c7"),r=i("4319"),l=i("eda2"),s=l.encodeHTML,d=l.addCommas,h=i("55ac"),u=h.wrapTreePathInfo,c=n.extend({type:"series.treemap",layoutMode:"box",dependencies:["grid","polar"],preventUsingHoverLayer:!0,_viewRoot:null,defaultOption:{progressive:0,left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"▶",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",ellipsis:!0},upperLabel:{show:!1,position:[0,"50%"],height:20,color:"#fff",ellipsis:!0,verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],color:"#fff",ellipsis:!0,verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(e,t){var i={name:e.name,children:e.data};p(i);var n=e.levels||[],l=this.designatedVisualItemStyle={},s=new r({itemStyle:l},this,t);n=e.levels=g(n,t);var d=o.map(n||[],(function(e){return new r(e,s,t)}),this),h=a.createTree(i,this,u);function u(e){e.wrapMethod("getItemModel",(function(e,t){var i=h.getNodeByDataIndex(t),o=d[i.depth];return e.parentModel=o||s,e}))}return h.data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(e){var t=this.getData(),i=this.getRawValue(e),n=o.isArray(i)?d(i[0]):d(i),a=t.getName(e);return s(a+": "+n)},getDataParams:function(e){var t=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=u(i,this),t},setLayoutInfo:function(e){this.layoutInfo=this.layoutInfo||{},o.extend(this.layoutInfo,e)},mapIdToIndex:function(e){var t=this._idIndexMap;t||(t=this._idIndexMap=o.createHashMap(),this._idIndexMapCount=0);var i=t.get(e);return null==i&&t.set(e,i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});function p(e){var t=0;o.each(e.children,(function(e){p(e);var i=e.value;o.isArray(i)&&(i=i[0]),t+=i}));var i=e.value;o.isArray(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=t),i<0&&(i=0),o.isArray(e.value)?e.value[0]=i:e.value=i}function g(e,t){var i=t.get("color");if(i){var n;if(e=e||[],o.each(e,(function(e){var t=new r(e),i=t.get("color");(t.get("itemStyle.color")||i&&"none"!==i)&&(n=!0)})),!n){var a=e[0]||(e[0]={});a.color=i.slice()}return e}}e.exports=c},"9ca8":function(e,t,i){var o=i("6d8b"),n=i("9850"),a=i("3842"),r=a.parsePercent,l=a.MAX_SAFE_INTEGER,s=i("f934"),d=i("55ac"),h=Math.max,u=Math.min,c=o.retrieve,p=o.each,g=["itemStyle","borderWidth"],f=["itemStyle","gapWidth"],v=["upperLabel","show"],m=["upperLabel","height"],y={seriesType:"treemap",reset:function(e,t,i,a){var l=i.getWidth(),h=i.getHeight(),u=e.option,g=s.getLayoutRect(e.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()}),f=u.size||[],v=r(c(g.width,f[0]),l),m=r(c(g.height,f[1]),h),y=a&&a.type,w=["treemapZoomToNode","treemapRootToNode"],b=d.retrieveTargetInfo(a,w,e),_="treemapRender"===y||"treemapMove"===y?a.rootRect:null,I=e.getViewRoot(),N=d.getPathToRoot(I);if("treemapMove"!==y){var M="treemapZoomToNode"===y?S(e,b,I,v,m):_?[_.width,_.height]:[v,m],R=u.sort;R&&"asc"!==R&&"desc"!==R&&(R="desc");var D={squareRatio:u.squareRatio,sort:R,leafDepth:u.leafDepth};I.hostTree.clearLayouts();var A={x:0,y:0,width:M[0],height:M[1],area:M[0]*M[1]};I.setLayout(A),x(I,D,!1,0);A=I.getLayout();p(N,(function(e,t){var i=(N[t+1]||I).getValue();e.setLayout(o.extend({dataExtent:[i,i],borderWidth:0,upperHeight:0},A))}))}var P=e.getData().tree.root;P.setLayout(T(g,_,b),!0),e.setLayoutInfo(g),L(P,new n(-g.x,-g.y,l,h),N,I,0)}};function x(e,t,i,o){var n,a;if(!e.isRemoved()){var r=e.getLayout();n=r.width,a=r.height;var l=e.getModel(),s=l.get(g),d=l.get(f)/2,c=R(l),p=Math.max(s,c),v=s-d,m=p-d;l=e.getModel();e.setLayout({borderWidth:s,upperHeight:p,upperLabelHeight:c},!0),n=h(n-2*v,0),a=h(a-v-m,0);var y=n*a,b=w(e,l,y,t,i,o);if(b.length){var _={x:v,y:m,width:n,height:a},I=u(n,a),S=1/0,T=[];T.area=0;for(var L=0,D=b.length;L<D;){var A=b[L];T.push(A),T.area+=A.getLayout().area;var P=N(T,I,t.squareRatio);P<=S?(L++,S=P):(T.area-=T.pop().getLayout().area,M(T,I,_,d,!1),I=u(_.width,_.height),T.length=T.area=0,S=1/0)}if(T.length&&M(T,I,_,d,!0),!i){var C=l.get("childrenVisibleMin");null!=C&&y<C&&(i=!0)}for(L=0,D=b.length;L<D;L++)x(b[L],t,i,o+1)}}}function w(e,t,i,n,a,r){var l=e.children||[],s=n.sort;"asc"!==s&&"desc"!==s&&(s=null);var d=null!=n.leafDepth&&n.leafDepth<=r;if(a&&!d)return e.viewChildren=[];l=o.filter(l,(function(e){return!e.isRemoved()})),_(l,s);var h=I(t,l,s);if(0===h.sum)return e.viewChildren=[];if(h.sum=b(t,i,h.sum,s,l),0===h.sum)return e.viewChildren=[];for(var u=0,c=l.length;u<c;u++){var p=l[u].getValue()/h.sum*i;l[u].setLayout({area:p})}return d&&(l.length&&e.setLayout({isLeafRoot:!0},!0),l.length=0),e.viewChildren=l,e.setLayout({dataExtent:h.dataExtent},!0),l}function b(e,t,i,o,n){if(!o)return i;for(var a=e.get("visibleMin"),r=n.length,l=r,s=r-1;s>=0;s--){var d=n["asc"===o?r-s-1:s].getValue();d/i*t<a&&(l=s,i-=d)}return"asc"===o?n.splice(0,r-l):n.splice(l,r-l),i}function _(e,t){return t&&e.sort((function(e,i){var o="asc"===t?e.getValue()-i.getValue():i.getValue()-e.getValue();return 0===o?"asc"===t?e.dataIndex-i.dataIndex:i.dataIndex-e.dataIndex:o})),e}function I(e,t,i){for(var o=0,n=0,a=t.length;n<a;n++)o+=t[n].getValue();var r=e.get("visualDimension");if(t&&t.length)if("value"===r&&i)l=[t[t.length-1].getValue(),t[0].getValue()],"asc"===i&&l.reverse();else{var l=[1/0,-1/0];p(t,(function(e){var t=e.getValue(r);t<l[0]&&(l[0]=t),t>l[1]&&(l[1]=t)}))}else l=[NaN,NaN];return{sum:o,dataExtent:l}}function N(e,t,i){for(var o,n=0,a=1/0,r=0,l=e.length;r<l;r++)o=e[r].getLayout().area,o&&(o<a&&(a=o),o>n&&(n=o));var s=e.area*e.area,d=t*t*i;return s?h(d*n/s,s/(d*a)):1/0}function M(e,t,i,o,n){var a=t===i.width?0:1,r=1-a,l=["x","y"],s=["width","height"],d=i[l[a]],c=t?e.area/t:0;(n||c>i[s[r]])&&(c=i[s[r]]);for(var p=0,g=e.length;p<g;p++){var f=e[p],v={},m=c?f.getLayout().area/c:0,y=v[s[r]]=h(c-2*o,0),x=i[l[a]]+i[s[a]]-d,w=p===g-1||x<m?x:m,b=v[s[a]]=h(w-2*o,0);v[l[r]]=i[l[r]]+u(o,y/2),v[l[a]]=d+u(o,b/2),d+=w,f.setLayout(v,!0)}i[l[r]]+=c,i[s[r]]-=c}function S(e,t,i,o,n){var a,r=(t||{}).node,s=[o,n];if(!r||r===i)return s;var d=o*n,h=d*e.option.zoomToNodeRatio;while(a=r.parentNode){for(var u=0,c=a.children,p=0,f=c.length;p<f;p++)u+=c[p].getValue();var v=r.getValue();if(0===v)return s;h*=u/v;var m=a.getModel(),y=m.get(g),x=Math.max(y,R(m,y));h+=4*y*y+(3*y+x)*Math.pow(h,.5),h>l&&(h=l),r=a}h<d&&(h=d);var w=Math.pow(h/d,.5);return[o*w,n*w]}function T(e,t,i){if(t)return{x:t.x,y:t.y};var o={x:0,y:0};if(!i)return o;var n=i.node,a=n.getLayout();if(!a)return o;var r=[a.width/2,a.height/2],l=n;while(l){var s=l.getLayout();r[0]+=s.x,r[1]+=s.y,l=l.parentNode}return{x:e.width/2-r[0],y:e.height/2-r[1]}}function L(e,t,i,o,a){var r=e.getLayout(),l=i[a],s=l&&l===e;if(!(l&&!s||a===i.length&&e!==o)){e.setLayout({isInView:!0,invisible:!s&&!t.intersect(r),isAboveViewRoot:s},!0);var d=new n(t.x-r.x,t.y-r.y,t.width,t.height);p(e.viewChildren||[],(function(e){L(e,d,i,o,a+1)}))}}function R(e){return e.get(v)?e.get(m):0}e.exports=y},aa01:function(e,t,i){var o=i("6d8b"),n=i("4f85"),a=i("06c7"),r=i("4319"),l=i("55ac"),s=l.wrapTreePathInfo,d=n.extend({type:"series.sunburst",_viewRoot:null,getInitialData:function(e,t){var i={name:e.name,children:e.data};h(i);var n=o.map(e.levels||[],(function(e){return new r(e,this,t)}),this),l=a.createTree(i,this,s);function s(e){e.wrapMethod("getItemModel",(function(e,t){var i=l.getNodeByDataIndex(t),o=n[i.depth];return o&&(e.parentModel=o),e}))}return l.data},optionUpdated:function(){this.resetViewRoot()},getDataParams:function(e){var t=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return t.treePathInfo=s(i,this),t},defaultOption:{zlevel:0,z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,percentPrecision:2,stillShowZeroSum:!0,highlightPolicy:"descendant",nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},highlight:{itemStyle:{opacity:1}},downplay:{itemStyle:{opacity:.5},label:{opacity:.6}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicOut",data:[],levels:[],sort:"desc"},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(e){e?this._viewRoot=e:e=this._viewRoot;var t=this.getRawData().tree.root;e&&(e===t||t.contains(e))||(this._viewRoot=t)}});function h(e){var t=0;o.each(e.children,(function(e){h(e);var i=e.value;o.isArray(i)&&(i=i[0]),t+=i}));var i=e.value;o.isArray(i)&&(i=i[0]),(null==i||isNaN(i))&&(i=t),i<0&&(i=0),o.isArray(e.value)?e.value[0]=i:e.value=i}e.exports=d},adf4:function(e,t,i){var o=i("4f85"),n=i("b1d4"),a=i("2f45"),r=a.getDimensionTypeByAxis,l=i("6179"),s=i("6d8b"),d=i("e0d3"),h=d.groupData,u=i("eda2"),c=u.encodeHTML,p=i("c4a3"),g=2,f=o.extend({type:"series.themeRiver",dependencies:["singleAxis"],nameMap:null,init:function(e){f.superApply(this,"init",arguments),this.legendVisualProvider=new p(s.bind(this.getData,this),s.bind(this.getRawData,this))},fixData:function(e){var t=e.length,i={},o=h(e,(function(e){return i.hasOwnProperty(e[0])||(i[e[0]]=-1),e[2]})),n=[];o.buckets.each((function(e,t){n.push({name:t,dataList:e})}));for(var a=n.length,r=0;r<a;++r){for(var l=n[r].name,s=0;s<n[r].dataList.length;++s){var d=n[r].dataList[s][0];i[d]=r}for(var d in i)i.hasOwnProperty(d)&&i[d]!==r&&(i[d]=r,e[t]=[],e[t][0]=d,e[t][1]=0,e[t][2]=l,t++)}return e},getInitialData:function(e,t){for(var i=t.queryComponents({mainType:"singleAxis",index:this.get("singleAxisIndex"),id:this.get("singleAxisId")})[0],o=i.get("type"),a=s.filter(e.data,(function(e){return void 0!==e[2]})),d=this.fixData(a||[]),h=[],u=this.nameMap=s.createHashMap(),c=0,p=0;p<d.length;++p)h.push(d[p][g]),u.get(d[p][g])||(u.set(d[p][g],c),c++);var f=n(d,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:r(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}),v=new l(f,this);return v.initData(d),v},getLayerSeries:function(){for(var e=this.getData(),t=e.count(),i=[],o=0;o<t;++o)i[o]=o;var n=e.mapDimension("single"),a=h(i,(function(t){return e.get("name",t)})),r=[];return a.buckets.each((function(t,i){t.sort((function(t,i){return e.get(n,t)-e.get(n,i)})),r.push({name:i,indices:t})})),r},getAxisTooltipData:function(e,t,i){s.isArray(e)||(e=e?[e]:[]);for(var o,n=this.getData(),a=this.getLayerSeries(),r=[],l=a.length,d=0;d<l;++d){for(var h=Number.MAX_VALUE,u=-1,c=a[d].indices.length,p=0;p<c;++p){var g=n.get(e[0],a[d].indices[p]),f=Math.abs(g-t);f<=h&&(o=g,h=f,u=a[d].indices[p])}r.push(u)}return{dataIndices:r,nestestValue:o}},formatTooltip:function(e){var t=this.getData(),i=t.getName(e),o=t.get(t.mapDimension("value"),e);return(isNaN(o)||null==o)&&(o="-"),c(i+" : "+o)},defaultOption:{zlevel:0,z:2,coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",color:"#000",fontSize:11},emphasis:{label:{show:!0}}}}),v=f;e.exports=v},b369:function(e,t,i){var o=i("3eba"),n=i("6d8b"),a=i("2306"),r=i("80f0"),l=i("55ac"),s=i("f610"),d=i("4a01"),h=i("9850"),u=i("1687"),c=i("e6cd"),p=i("282b"),g=i("eda2"),f=g.windowOpen,v=n.bind,m=a.Group,y=a.Rect,x=n.each,w=3,b=["label"],_=["emphasis","label"],I=["upperLabel"],N=["emphasis","upperLabel"],M=10,S=1,T=2,L=p([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),R=function(e){var t=L(e);return t.stroke=t.fill=t.lineWidth=null,t},D=o.extendChartView({type:"treemap",init:function(e,t){this._containerGroup,this._storage=A(),this._oldTree,this._breadcrumb,this._controller,this._state="ready"},render:function(e,t,i,o){var a=t.findComponents({mainType:"series",subType:"treemap",query:o});if(!(n.indexOf(a,e)<0)){this.seriesModel=e,this.api=i,this.ecModel=t;var r=["treemapZoomToNode","treemapRootToNode"],s=l.retrieveTargetInfo(o,r,e),d=o&&o.type,h=e.layoutInfo,u=!this._oldTree,c=this._storage,p="treemapRootToNode"===d&&s&&c?{rootNodeGroup:c.nodeGroup[s.node.getRawIndex()],direction:o.direction}:null,g=this._giveContainerGroup(h),f=this._doRender(g,e,p);u||d&&"treemapZoomToNode"!==d&&"treemapRootToNode"!==d?f.renderFinally():this._doAnimation(g,f,e,p),this._resetController(i),this._renderBreadcrumb(e,i,s)}},_giveContainerGroup:function(e){var t=this._containerGroup;return t||(t=this._containerGroup=new m,this._initEvents(t),this.group.add(t)),t.attr("position",[e.x,e.y]),t},_doRender:function(e,t,i){var o=t.getData().tree,a=this._oldTree,l=A(),s=A(),d=this._storage,h=[],u=n.curry(P,t,s,d,i,l,h);p(o.root?[o.root]:[],a&&a.root?[a.root]:[],e,o===a||!a,0);var c=g(d);return this._oldTree=o,this._storage=s,{lastsForAnimation:l,willDeleteEls:c,renderFinally:f};function p(e,t,i,o,a){function l(e){return e.getId()}function s(n,r){var l=null!=n?e[n]:null,s=null!=r?t[r]:null,d=u(l,s,i,a);d&&p(l&&l.viewChildren||[],s&&s.viewChildren||[],d,o,a+1)}o?(t=e,x(e,(function(e,t){!e.isRemoved()&&s(t,t)}))):new r(t,e,l,l).add(s).update(s).remove(n.curry(s,null)).execute()}function g(e){var t=A();return e&&x(e,(function(e,i){var o=t[i];x(e,(function(e){e&&(o.push(e),e.__tmWillDelete=1)}))})),t}function f(){x(c,(function(e){x(e,(function(e){e.parent&&e.parent.remove(e)}))})),x(h,(function(e){e.invisible=!0,e.dirty()}))}},_doAnimation:function(e,t,i,o){if(i.get("animation")){var a=i.get("animationDurationUpdate"),r=i.get("animationEasing"),l=c.createWrap();x(t.willDeleteEls,(function(e,t){x(e,(function(e,i){if(!e.invisible){var n,s=e.parent;if(o&&"drillDown"===o.direction)n=s===o.rootNodeGroup?{shape:{x:0,y:0,width:s.__tmNodeWidth,height:s.__tmNodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var d=0,h=0;s.__tmWillDelete||(d=s.__tmNodeWidth/2,h=s.__tmNodeHeight/2),n="nodeGroup"===t?{position:[d,h],style:{opacity:0}}:{shape:{x:d,y:h,width:0,height:0},style:{opacity:0}}}n&&l.add(e,n,a,r)}}))})),x(this._storage,(function(e,i){x(e,(function(e,o){var s=t.lastsForAnimation[i][o],d={};s&&("nodeGroup"===i?s.old&&(d.position=e.position.slice(),e.attr("position",s.old)):(s.old&&(d.shape=n.extend({},e.shape),e.setShape(s.old)),s.fadein?(e.setStyle("opacity",0),d.style={opacity:1}):1!==e.style.opacity&&(d.style={opacity:1})),l.add(e,d,a,r))}))}),this),this._state="animating",l.done(v((function(){this._state="ready",t.renderFinally()}),this)).start()}},_resetController:function(e){var t=this._controller;t||(t=this._controller=new d(e.getZr()),t.enable(this.seriesModel.get("roam")),t.on("pan",v(this._onPan,this)),t.on("zoom",v(this._onZoom,this)));var i=new h(0,0,e.getWidth(),e.getHeight());t.setPointerChecker((function(e,t,o){return i.contain(t,o)}))},_clearController:function(){var e=this._controller;e&&(e.dispose(),e=null)},_onPan:function(e){if("animating"!==this._state&&(Math.abs(e.dx)>w||Math.abs(e.dy)>w)){var t=this.seriesModel.getData().tree.root;if(!t)return;var i=t.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},_onZoom:function(e){var t=e.originX,i=e.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var n=o.getLayout();if(!n)return;var a=new h(n.x,n.y,n.width,n.height),r=this.seriesModel.layoutInfo;t-=r.x,i-=r.y;var l=u.create();u.translate(l,l,[-t,-i]),u.scale(l,l,[e.scale,e.scale]),u.translate(l,l,[t,i]),a.applyTransform(l),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:a.x,y:a.y,width:a.width,height:a.height}})}},_initEvents:function(e){e.on("click",(function(e){if("ready"===this._state){var t=this.seriesModel.get("nodeClick",!0);if(t){var i=this.findTarget(e.offsetX,e.offsetY);if(i){var o=i.node;if(o.getLayout().isLeafRoot)this._rootToNode(i);else if("zoomToNode"===t)this._zoomToNode(i);else if("link"===t){var n=o.hostTree.data.getItemModel(o.dataIndex),a=n.get("link",!0),r=n.get("target",!0)||"blank";a&&f(a,r)}}}}}),this)},_renderBreadcrumb:function(e,t,i){function o(t){"animating"!==this._state&&(l.aboveViewRoot(e.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))}i||(i=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(t.getWidth()/2,t.getHeight()/2),i||(i={node:e.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new s(this.group))).render(e,t,i.node,v(o,this))},remove:function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=A(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},_rootToNode:function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},findTarget:function(e,t){var i,o=this.seriesModel.getViewRoot();return o.eachNode({attr:"viewChildren",order:"preorder"},(function(o){var n=this._storage.background[o.getRawIndex()];if(n){var a=n.transformCoordToLocal(e,t),r=n.shape;if(!(r.x<=a[0]&&a[0]<=r.x+r.width&&r.y<=a[1]&&a[1]<=r.y+r.height))return!1;i={node:o,offsetX:a[0],offsetY:a[1]}}}),this),i}});function A(){return{nodeGroup:[],background:[],content:[]}}function P(e,t,i,o,r,l,s,d,h,u){if(s){var c=s.getLayout(),p=e.getData();if(p.setItemGraphicEl(s.dataIndex,null),c&&c.isInView){var g=c.width,f=c.height,v=c.borderWidth,x=c.invisible,w=s.getRawIndex(),M=d&&d.getRawIndex(),D=s.viewChildren,A=c.upperHeight,P=D&&D.length,V=s.getModel("itemStyle"),E=s.getModel("emphasis.itemStyle"),k=X("nodeGroup",m);if(k){if(h.add(k),k.attr("position",[c.x||0,c.y||0]),k.__tmNodeWidth=g,k.__tmNodeHeight=f,c.isAboveViewRoot)return k;var G=s.getModel(),H=X("background",y,u,S);if(H&&W(k,H,P&&c.upperLabelHeight),P)a.isHighDownDispatcher(k)&&a.setAsHighDownDispatcher(k,!1),H&&(a.setAsHighDownDispatcher(H,!0),p.setItemGraphicEl(s.dataIndex,H));else{var O=X("content",y,u,T);O&&B(k,O),H&&a.isHighDownDispatcher(H)&&a.setAsHighDownDispatcher(H,!1),a.setAsHighDownDispatcher(k,!0),p.setItemGraphicEl(s.dataIndex,k)}return k}}}function W(t,i,o){if(i.dataIndex=s.dataIndex,i.seriesIndex=e.seriesIndex,i.setShape({x:0,y:0,width:g,height:f}),x)z(i);else{i.invisible=!1;var n=s.getVisual("borderColor",!0),r=E.get("borderColor"),l=R(V);l.fill=n;var d=L(E);if(d.fill=r,o){var h=g-2*v;Z(l,d,n,h,A,{x:v,y:0,width:h,height:A})}else l.text=d.text=null;i.setStyle(l),a.setElementHoverStyle(i,d)}t.add(i)}function B(t,i){i.dataIndex=s.dataIndex,i.seriesIndex=e.seriesIndex;var o=Math.max(g-2*v,0),n=Math.max(f-2*v,0);if(i.culling=!0,i.setShape({x:v,y:v,width:o,height:n}),x)z(i);else{i.invisible=!1;var r=s.getVisual("color",!0),l=R(V);l.fill=r;var d=L(E);Z(l,d,r,o,n),i.setStyle(l),a.setElementHoverStyle(i,d)}t.add(i)}function z(e){!e.invisible&&l.push(e)}function Z(t,i,o,r,l,d){var h=G.get("name"),u=G.getModel(d?I:b),p=G.getModel(d?N:_),g=u.getShallow("show");a.setLabelStyle(t,i,u,p,{defaultText:g?h:null,autoColor:o,isRectText:!0,labelFetcher:e,labelDataIndex:s.dataIndex,labelProp:d?"upperLabel":"label"}),F(t,d,c),F(i,d,c),d&&(t.textRect=n.clone(d)),t.truncate=g&&u.get("ellipsis")?{outerWidth:r,outerHeight:l,minChar:2}:null}function F(t,i,o){var n=t.text;if(!i&&o.isLeafRoot&&null!=n){var a=e.get("drillDownIcon",!0);t.text=a?a+" "+n:n}}function X(e,o,n,a){var l=null!=M&&i[e][M],s=r[e];return l?(i[e][M]=null,Y(s,l,e)):x||(l=new o({z:C(n,a)}),l.__tmDepth=n,l.__tmStorageName=e,q(s,l,e)),t[e][w]=l}function Y(e,t,i){var o=e[w]={};o.old="nodeGroup"===i?t.position.slice():n.extend({},t.shape)}function q(e,t,i){var n=e[w]={},a=s.parentNode;if(a&&(!o||"drillDown"===o.direction)){var l=0,d=0,h=r.background[a.getRawIndex()];!o&&h&&h.old&&(l=h.old.width,d=h.old.height),n.old="nodeGroup"===i?[0,d]:{x:l,y:d,width:0,height:0}}n.fadein="nodeGroup"!==i}}function C(e,t){var i=e*M+t;return(i-1)/i}e.exports=D},bf9b:function(e,t,i){var o=i("3eba"),n=i("d81e"),a=n.updateCenterAndZoom;o.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var i=e.dataIndex,o=t.getData().tree,n=o.getNodeByDataIndex(i);n.isExpand=!n.isExpand}))})),o.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},(function(e,t){t.eachComponent({mainType:"series",subType:"tree",query:e},(function(t){var i=t.coordinateSystem,o=a(i,e);t.setCenter&&t.setCenter(o.center),t.setZoom&&t.setZoom(o.zoom)}))}))},ca29:function(e,t,i){var o=i("6d9a"),n=o.eachAfter,a=o.eachBefore,r=i("22da"),l=r.init,s=r.firstWalk,d=r.secondWalk,h=r.separation,u=r.radialCoordinate,c=r.getViewRect;function p(e,t){e.eachSeriesByType("tree",(function(e){g(e,t)}))}function g(e,t){var i=c(e,t);e.layoutInfo=i;var o=e.get("layout"),r=0,p=0,g=null;"radial"===o?(r=2*Math.PI,p=Math.min(i.height,i.width)/2,g=h((function(e,t){return(e.parentNode===t.parentNode?1:2)/e.depth}))):(r=i.width,p=i.height,g=h());var f=e.getData().tree.root,v=f.children[0];if(v){l(f),n(v,s,g),f.hierNode.modifier=-v.hierNode.prelim,a(v,d);var m=v,y=v,x=v;a(v,(function(e){var t=e.getLayout().x;t<m.getLayout().x&&(m=e),t>y.getLayout().x&&(y=e),e.depth>x.depth&&(x=e)}));var w=m===y?1:g(m,y)/2,b=w-m.getLayout().x,_=0,I=0,N=0,M=0;if("radial"===o)_=r/(y.getLayout().x+w+b),I=p/(x.depth-1||1),a(v,(function(e){N=(e.getLayout().x+b)*_,M=(e.depth-1)*I;var t=u(N,M);e.setLayout({x:t.x,y:t.y,rawX:N,rawY:M},!0)}));else{var S=e.getOrient();"RL"===S||"LR"===S?(I=p/(y.getLayout().x+w+b),_=r/(x.depth-1||1),a(v,(function(e){M=(e.getLayout().x+b)*I,N="LR"===S?(e.depth-1)*_:r-(e.depth-1)*_,e.setLayout({x:N,y:M},!0)}))):"TB"!==S&&"BT"!==S||(_=r/(y.getLayout().x+w+b),I=p/(x.depth-1||1),a(v,(function(e){N=(e.getLayout().x+b)*_,M="TB"===S?(e.depth-1)*I:p-(e.depth-1)*I,e.setLayout({x:N,y:M},!0)})))}}}e.exports=p},cb73:function(e,t,i){var o=i("3842"),n=o.parsePercent,a=i("6d8b"),r=Math.PI/180;function l(e,t,i,o){t.eachSeriesByType(e,(function(e){var t=e.get("center"),o=e.get("radius");a.isArray(o)||(o=[0,o]),a.isArray(t)||(t=[t,t]);var l=i.getWidth(),d=i.getHeight(),h=Math.min(l,d),u=n(t[0],l),c=n(t[1],d),p=n(o[0],h/2),g=n(o[1],h/2),f=-e.get("startAngle")*r,v=e.get("minAngle")*r,m=e.getData().tree.root,y=e.getViewRoot(),x=y.depth,w=e.get("sort");null!=w&&s(y,w);var b=0;a.each(y.children,(function(e){!isNaN(e.getValue())&&b++}));var _=y.getValue(),I=Math.PI/(_||b)*2,N=y.depth>0,M=y.height-(N?-1:1),S=(g-p)/(M||1),T=e.get("clockwise"),L=e.get("stillShowZeroSum"),R=T?1:-1,D=function(e,t){if(e){var i=t;if(e!==m){var o=e.getValue(),r=0===_&&L?I:o*I;r<v&&(r=v),i=t+R*r;var l=e.depth-x-(N?-1:1),s=p+S*l,d=p+S*(l+1),g=e.getModel();null!=g.get("r0")&&(s=n(g.get("r0"),h/2)),null!=g.get("r")&&(d=n(g.get("r"),h/2)),e.setLayout({angle:r,startAngle:t,endAngle:i,clockwise:T,cx:u,cy:c,r0:s,r:d})}if(e.children&&e.children.length){var f=0;a.each(e.children,(function(e){f+=D(e,t+f)}))}return i-t}};if(N){var A=p,P=p+S,C=2*Math.PI;m.setLayout({angle:C,startAngle:f,endAngle:f+C,clockwise:T,cx:u,cy:c,r0:A,r:P})}D(y,f)}))}function s(e,t){var i=e.children||[];e.children=d(i,t),i.length&&a.each(e.children,(function(e){s(e,t)}))}function d(e,t){if("function"===typeof t)return e.sort(t);var i="asc"===t;return e.sort((function(e,t){var o=(e.getValue()-t.getValue())*(i?1:-1);return 0===o?(e.dataIndex-t.dataIndex)*(i?-1:1):o}))}e.exports=l},d716:function(e,t,i){var o=i("3eba"),n=i("6d8b");i("aa01"),i("340d"),i("44fb");var a=i("98e7"),r=i("cb73"),l=i("d3f4");o.registerVisual(n.curry(a,"sunburst")),o.registerLayout(n.curry(r,"sunburst")),o.registerProcessor(n.curry(l,"sunburst"))},dae1:function(e,t,i){var o=i("3eba");i("928d"),i("b369"),i("4411");var n=i("90c2"),a=i("9ca8");o.registerVisual(n),o.registerLayout(a)},ef97a:function(e,t,i){var o=i("3eba");i("2163"),i("6cd8"),i("bf9b");var n=i("7f96"),a=i("ca29");o.registerVisual(n("tree","circle")),o.registerLayout(a)},f610:function(e,t,i){var o=i("2306"),n=i("f934"),a=i("6d8b"),r=i("55ac"),l=r.wrapTreePathInfo,s=8,d=8,h=5;function u(e){this.group=new o.Group,e.add(this.group)}function c(e,t,i,o,n,a){var r=[[n?e:e-h,t],[e+i,t],[e+i,t+o],[n?e:e-h,t+o]];return!a&&r.splice(2,0,[e+i+h,t+o/2]),!n&&r.push([e,t+o/2]),r}function p(e,t,i){e.eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.componentIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:i&&i.dataIndex,name:i&&i.name},treePathInfo:i&&l(i,t)}}u.prototype={constructor:u,render:function(e,t,i,o){var a=e.getModel("breadcrumb"),r=this.group;if(r.removeAll(),a.get("show")&&i){var l=a.getModel("itemStyle"),s=l.getModel("textStyle"),d={pos:{left:a.get("left"),right:a.get("right"),top:a.get("top"),bottom:a.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:a.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(i,d,s),this._renderContent(e,d,l,s,o),n.positionElement(r,d.pos,d.box)}},_prepare:function(e,t,i){for(var o=e;o;o=o.parentNode){var n=o.getModel().get("name"),a=i.getTextRect(n),r=Math.max(a.width+2*s,t.emptyItemWidth);t.totalWidth+=r+d,t.renderList.push({node:o,text:n,width:r})}},_renderContent:function(e,t,i,r,l){for(var s=0,h=t.emptyItemWidth,u=e.get("breadcrumb.height"),g=n.getAvailableSize(t.pos,t.box),f=t.totalWidth,v=t.renderList,m=v.length-1;m>=0;m--){var y=v[m],x=y.node,w=y.width,b=y.text;f>g.width&&(f-=w-h,w=h,b=null);var _=new o.Polygon({shape:{points:c(s,0,w,u,m===v.length-1,0===m)},style:a.defaults(i.getItemStyle(),{lineJoin:"bevel",text:b,textFill:r.getTextColor(),textFont:r.getFont()}),z:10,onclick:a.curry(l,x)});this.group.add(_),p(_,e,x),s+=w+d}},remove:function(){this.group.removeAll()}};var g=u;e.exports=g}}]);