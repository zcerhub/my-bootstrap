(window["jsonpPaas4"]=window["jsonpPaas4"]||[]).push([["app~3f1629e8"],{"0d268":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"g-page"},[t("search-form",{attrs:{searchConfig:e.searchConfig},on:{onSearch:e.onSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.totalCount,rowKey:"id",operateSlice:2,currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.visible?t("DialogAdd",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}}):e._e()],1)},o=[],n=a("c7eb"),r=a("5530"),s=a("1da1"),l=(a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.visible,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",attrs:{model:e.formData,"label-width":"120px",rules:e.rules}},[t("el-form-item",{attrs:{label:"镜像名称",prop:"imageName"}},[t("el-input",{staticClass:"w-100",attrs:{placeholder:"请输入镜像名称"},model:{value:e.formData.imageName,callback:function(t){e.$set(e.formData,"imageName","string"===typeof t?t.trim():t)},expression:"formData.imageName"}})],1),t("el-form-item",{attrs:{label:"镜像类型",prop:"imageType"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择镜像类型",filterable:""},model:{value:e.formData.imageType,callback:function(t){e.$set(e.formData,"imageType",t)},expression:"formData.imageType"}},e._l(e.dictBasic_imageType,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-form-item",{attrs:{label:"镜像版本",prop:"imageVersion"}},[t("el-input",{staticClass:"w-100",attrs:{placeholder:"请输入版本"},model:{value:e.formData.imageVersion,callback:function(t){e.$set(e.formData,"imageVersion","string"===typeof t?t.trim():t)},expression:"formData.imageVersion"}})],1),t("el-form-item",{attrs:{label:"组件版本",prop:"componentVersion"}},[t("el-input",{staticClass:"w-100",attrs:{placeholder:"请输入组件版本"},model:{value:e.formData.componentVersion,callback:function(t){e.$set(e.formData,"componentVersion","string"===typeof t?t.trim():t)},expression:"formData.componentVersion"}})],1),t("el-form-item",{attrs:{label:"镜像地址",prop:"imageAddress"}},[t("el-input",{staticClass:"w-100",attrs:{placeholder:"请输入镜像地址",type:"textarea"},model:{value:e.formData.imageAddress,callback:function(t){e.$set(e.formData,"imageAddress","string"===typeof t?t.trim():t)},expression:"formData.imageAddress"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),c=[],f=a("ade3"),u=(a("b64b"),a("d3b7"),a("159b"),a("e8b2")),g=a("4879"),p=a("957c"),d={mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:function(){return{}}},refresh:{type:Function,required:!0,default:function(){}}},data:function(){return{formData:m(),dictBasic_imageType:g["b"].options,rules:{imageName:[{required:!0,trigger:"blur",message:"请输入镜像名称"}],imageType:[{required:!0,trigger:"change",message:"请选择镜像类型"}],imageVersion:[{required:!0,trigger:"blur",message:"请输入镜像版本"}],imageAddress:[{required:!0,trigger:"blur",message:"请输入镜像地址"}]}}},computed:{visible:{get:function(){return this.show},set:function(e){this.$emit("change",!1)}},isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){var e;null!==(e=this.rowData)&&void 0!==e&&e.id&&(this.formData=m(this.rowData))},methods:Object(f["a"])({clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},clickConfirm:function(){var e=this;this.$refs.formRef.validate((function(t){if(t){var a=Object(r["a"])({},e.formData);e.isEdit||delete a.id}}))}},"clickConfirm",(function(){var e=this;return Object(s["a"])(Object(n["a"])().mark((function t(){var a,i,o;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$refs.formRef.validate();case 3:if(a=t.sent,a){t.next=6;break}return t.abrupt("return");case 6:if(i=Object(r["a"])({},e.formData),o=null,!e.isEdit){t.next=15;break}return t.next=11,Object(p["e"])(i);case 11:o=t.sent,o&&200===o.code&&(e.$message.success("编辑成功"),e.$emit("change",!1),e.refresh()),t.next=20;break;case 15:return delete i.id,t.next=18,Object(p["b"])(i);case 18:o=t.sent,o&&200===o.code&&(e.$message.success("新增成功"),e.$emit("change",!1),e.refresh());case 20:t.next=24;break;case 22:t.prev=22,t.t0=t["catch"](0);case 24:case"end":return t.stop()}}),t,null,[[0,22]])})))()}))};function m(e){var t={id:void 0,imageType:void 0,imageVersion:void 0,componentVersion:void 0,imageAddress:void 0,imageName:void 0};return Object(u["a"])(e)&&Object.keys(t).forEach((function(a){e.hasOwnProperty(a)&&(t[a]=e[a])})),t}var h=d,b=a("2877"),C=Object(b["a"])(h,l,c,!1,null,"571f9634",null),v=C.exports,w=a("ec41"),y=a("ff51"),D={name:"MirrorsManage",components:{DialogAdd:v},mixins:[],props:{},data:function(){return{buttonList:[{label:"新增",type:"add",click:this.openAdd}],searchConfig:{searchData:{imageType:void 0,imageName:void 0},searchItem:[{type:"select",label:"镜像类型",prop:"imageType",clearable:!0,filterable:!0,options:g["b"].options},{type:"input",label:"镜像名称",prop:"imageName"}],rules:{}},visible:!1,tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,totalCount:0},tableData:[],columns:[{label:"镜像名称",prop:"imageName"},{label:"镜像类型",prop:"imageType"},{label:"镜像版本",prop:"imageVersion"},{label:"镜像地址",prop:"imageAddress"},{label:"组件版本",prop:"componentVersion"},{label:"创建时间",prop:"createDate"}],operate:{width:160,list:[{label:"编辑",id:"edit"},{label:"删除",id:"delete"}]}},rowData:null}},computed:{},watch:{},created:function(){this.getList()},mounted:function(){},methods:{getList:function(){var e=this;return Object(s["a"])(Object(n["a"])().mark((function t(){var a,i,o,s,l;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=[],i=0,e.tableConfig.loading=!0,o=Object(r["a"])(Object(r["a"])({},e.tableConfig.pagination),{},{requestObject:e.searchConfig.searchData}),delete o.totalCount,t.next=7,Object(p["d"])(o).catch((function(e){}));case 7:s=t.sent,l=Object(w["a"])(s,"data.data"),a=Object(y["a"])(l)?l:[],i=Object(w["a"])(s,"data.totalCount",0),e.tableConfig.pagination.totalCount=i,e.tableConfig.tableData=a,e.tableConfig.loading=!1;case 14:case"end":return t.stop()}}),t)})))()},getIndex:function(e){var t=this;return Object(s["a"])(Object(n["a"])().mark((function a(){var i,o;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.index,i=e.row,o=e.operate,"delete"===o.id?t.$confirm("确定要删除【".concat(i.imageName,"】吗?"),{type:"warning"}).then((function(){Object(p["a"])(i.id).then((function(e){t.$message.success("删除成功"),t.getList()}),(function(e){})).catch((function(e){}))})):"edit"===o.id&&(t.rowData=i,t.visible=!0);case 3:case"end":return a.stop()}}),a)})))()},onSearch:function(e){this.tableConfig.pagination.pageNo=1,this.getList()},openAdd:function(){this.rowData=null,this.visible=!0},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()}}},O=D,k=Object(b["a"])(O,i,o,!1,null,"a5b6b54e",null);t["default"]=k.exports},"2a8c":function(e,t,a){},"383e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("search-form",{attrs:{searchConfig:e.searchModel},on:{onSearch:e.onSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.total,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showDialog?t("AddAndEdit",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e()],1)},o=[],n=a("5530"),r=(a("d81d"),a("17cd")),s=a("ff51"),l=a("ec41"),c=(a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"120px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"组织编码",prop:"organizationCode"}},[t("el-input",{attrs:{placeholder:"请输入组织编码"},model:{value:e.form.organizationCode,callback:function(t){e.$set(e.form,"organizationCode","string"===typeof t?t.trim():t)},expression:"form.organizationCode"}})],1),t("el-form-item",{attrs:{label:"组织名称",prop:"organizationName"}},[t("el-input",{attrs:{placeholder:"请输入组织名称"},model:{value:e.form.organizationName,callback:function(t){e.$set(e.form,"organizationName","string"===typeof t?t.trim():t)},expression:"form.organizationName"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),f=[],u=a("c7eb"),g=a("1da1");a("b64b"),a("d3b7"),a("159b");function p(e){var t={id:"",organizationCode:"",organizationName:""};return e&&Object.keys(t).forEach((function(a){t[a]=e[a]})),t}var d={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{labelPosition:"right",form:p(),rules:{organizationCode:[{required:!0,message:"请选择组织机构编码",trigger:"change"}],organizationName:[{required:!0,message:"请选择组织机构名称",trigger:"change"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){var e=this;this.isEdit&&Object.keys(this.form).forEach((function(t){e.form[t]=e.rowData[t]}))},methods:{clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},confirmTest:function(){var e=this;ApiAddConnecte(this.formDataFile).then((function(t){200===t.code?(e.$message({type:"success",message:"已联通"}),e.rowData?(e.formDataFile.set("id",e.rowData.id),Object(r["d"])(e.formDataFile).then((function(t){200===t.code&&(e.$message({type:"success",message:t.data}),e.$emit("change",!1),e.refresh())})).catch((function(e){}))):Object(r["a"])(e.formDataFile).then((function(t){200===t.code&&(e.$message({type:"success",message:t.data}),e.$emit("change",!1),e.refresh())})).catch((function(e){}))):e.$message.error(t.msg)}))},editConfirm:function(){var e=this;Object(r["d"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},addConfirm:function(){var e=this;Object(r["a"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())}))},clickConfirm:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(g["a"])(Object(u["a"])().mark((function t(a){return Object(u["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(e.isEdit?e.editConfirm():e.addConfirm());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},m=d,h=a("2877"),b=Object(h["a"])(m,c,f,!1,null,"6a4895f8",null),C=b.exports,v={filters:{},components:{AddAndEdit:C},data:function(){return{buttonList:[{label:"新增",type:"add",click:this.addOrganization}],showDialog:!1,rowData:null,tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"organizationCode",label:"组织编号",align:"center"},{prop:"organizationName",label:"组织名称",align:"center"}],operate:{width:220,list:[{label:"编辑",id:"edit"},{label:"删除",id:"delete"}]}},searchModel:{searchData:{organizationCode:"",organizationName:""},searchItem:[{type:"input",label:"组织名称",prop:"organizationName"},{type:"input",label:"组织编码",prop:"organizationCode"}],rules:{}}}},mounted:function(){this.getList()},methods:{changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),i=e.operate;"delete"===i.id?this.$confirm("确定要删除【".concat(a.organizationName,"】吗?"),{type:"warning"}).then((function(){Object(r["c"])(a.id).then((function(e){200===e.code?(t.$message.success("删除成功"),t.getList()):t.$message.error(e.msg)})).catch((function(e){}))})).catch((function(e){})):"edit"===i.id&&(this.rowData=a,this.showDialog=!0)},addOrganization:function(){this.showDialog=!0,this.rowData=null},onSearch:function(){this.tableConfig.pagination.currentPage=1,this.getList()},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:Object(n["a"])({},this.searchModel.searchData)};Object(r["e"])(t).then((function(t){Object(s["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data),e.tableConfig.pagination.total=Object(l["a"])(t,"data.totalCount")||0}))},delInfo:function(){var e=this,t=this.$refs.tableView.$refs.tableView.selection;if(t.length<1)return this.$message.warning("请选择一条数据"),!1;var a=t.map((function(e){return e.id}));this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(r["b"])({idList:a}).then((function(t){200===t.code&&(e.$refs.compTable.hideDialog(),e.getList(),e.$message({type:"success",message:t.data}))}))})).catch((function(){}))}}},w=v,y=Object(h["a"])(w,i,o,!1,null,"25cf094f",null);t["default"]=y.exports},"4e89":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("search-form",{attrs:{searchConfig:e.searchModel},on:{onSearch:e.onSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.total,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showDialog?t("AddAndEdit",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e()],1)},o=[],n=a("5530"),r=(a("d3b7"),a("4bdf")),s=a("743a"),l=a("ff51"),c=a("ec41"),f=(a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"120px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"城市编码",prop:"cityCode"}},[t("el-input",{model:{value:e.form.cityCode,callback:function(t){e.$set(e.form,"cityCode","string"===typeof t?t.trim():t)},expression:"form.cityCode"}})],1),t("el-form-item",{attrs:{label:"省、市",prop:"cityName"}},[t("el-input",{attrs:{placeholder:"请输入省、市"},model:{value:e.form.cityName,callback:function(t){e.$set(e.form,"cityName","string"===typeof t?t.trim():t)},expression:"form.cityName"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.clickConfirm}},[e._v("确 定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取 消")])],1)],1)}),u=[],g=a("c7eb"),p=a("1da1");a("b64b"),a("159b");function d(e){var t={id:"",cityCode:"",cityName:""};return e&&Object.keys(t).forEach((function(a){t[a]=e[a]})),t}var m={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{labelPosition:"right",form:d(),loading:!1,rules:{cityCode:[{required:!0,message:"请选择地区编码",trigger:"blur"},{min:1,max:32,message:"长度在 1 到 7 个字符",trigger:"blur"}],cityName:[{required:!0,message:"请输入省、市",trigger:"blur"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){var e=this;this.isEdit&&Object.keys(this.form).forEach((function(t){e.form[t]=e.rowData[t]}))},methods:{clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},editConfirm:function(){var e=this;this.loading=!0,Object(r["c"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())})).finally((function(){e.loading=!1}))},addConfirm:function(){var e=this,t=Object(n["a"])({},this.form);delete t.id,this.loading=!0,Object(r["a"])(t).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())})).finally((function(){e.loading=!1}))},clickConfirm:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(p["a"])(Object(g["a"])().mark((function t(a){return Object(g["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:e.isEdit?e.editConfirm():e.addConfirm();case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},h=m,b=a("2877"),C=Object(b["a"])(h,f,u,!1,null,"c3fd54c6",null),v=C.exports,w={filters:{},components:{headersearch:s["default"],AddAndEdit:v},data:function(){return{buttonList:[{label:"新增",type:"add",click:this.addOrganization}],showDialog:!1,rowData:null,tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"cityCode",label:"城市编码",align:"center"},{prop:"cityName",label:"城市名称",align:"center"}],operate:{width:220,list:[{label:"编辑",id:"edit"},{label:"删除",id:"delete"}]}},searchModel:{searchData:{cityCode:"",cityName:""},searchItem:[{type:"input",label:"城市名称",prop:"cityName"},{type:"number",label:"城市编码",prop:"cityCode"}],rules:{}}}},mounted:function(){this.getList()},methods:{changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),i=e.operate;"delete"===i.id?this.$confirm("确定要删除【".concat(a.cityName,"】吗?"),{type:"warning"}).then((function(){Object(r["b"])(a.id).then((function(e){200===e.code?(t.$message.success("删除成功"),t.getList()):t.$message.error(e.msg)})).catch((function(e){}))})).catch((function(e){})):"edit"===i.id&&(this.rowData=a,this.showDialog=!0)},addOrganization:function(){this.showDialog=!0,this.rowData=null},onSearch:function(){this.tableConfig.pagination.currentPage=1,this.getList()},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:Object(n["a"])({},this.searchModel.searchData)};this.tableConfig.loading=!0,Object(r["d"])(t).then((function(t){Object(l["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data),e.tableConfig.pagination.total=Object(c["a"])(t,"data.totalCount")||0})).finally((function(){e.tableConfig.loading=!1}))}}},y=w,D=Object(b["a"])(y,i,o,!1,null,"3cf8036e",null);t["default"]=D.exports},"58fb":function(e,t,a){"use strict";a("fc13")},6087:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"g-page"},[t("search-form",{attrs:{searchConfig:e.searchConfig},on:{onSearch:e.onSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.totalCount,rowKey:"id",operateSlice:2,currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.visible?t("DialogAddEdit",{attrs:{rowData:e.rowData,dataCenter:e.dataCenter_options,refresh:e.getList},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}}):e._e()],1)},o=[],n=a("c7eb"),r=a("1da1"),s=a("5530"),l=(a("d3b7"),a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.visible,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"formRef",attrs:{model:e.formData,"label-width":"120px",rules:e.rules}},[t("el-form-item",{attrs:{label:"代理服务名称",prop:"clusterName"}},[t("el-input",{staticClass:"w-100",attrs:{placeholder:"请输入代理服务名称",maxlength:32,"show-word-limit":""},model:{value:e.formData.clusterName,callback:function(t){e.$set(e.formData,"clusterName","string"===typeof t?t.trim():t)},expression:"formData.clusterName"}})],1),t("el-form-item",{attrs:{label:"容器集群名称",prop:"containerClusterName"}},[t("el-input",{staticClass:"w-100",attrs:{placeholder:"请输入容器集群名称"},model:{value:e.formData.containerClusterName,callback:function(t){e.$set(e.formData,"containerClusterName","string"===typeof t?t.trim():t)},expression:"formData.containerClusterName"}})],1),t("el-form-item",{attrs:{label:"代理服务IP",prop:"agentIp"}},[t("el-input",{staticClass:"w-100",attrs:{placeholder:"请输入代理服务IP"},model:{value:e.formData.agentIp,callback:function(t){e.$set(e.formData,"agentIp","string"===typeof t?t.trim():t)},expression:"formData.agentIp"}})],1),t("el-form-item",{attrs:{label:"代理服务端口",prop:"agentPort"}},[t("el-input-number",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入代理服务端口",min:0,max:65535,step:1,"controls-position":"right"},model:{value:e.formData.agentPort,callback:function(t){e.$set(e.formData,"agentPort",e._n(t))},expression:"formData.agentPort"}})],1),t("el-form-item",{attrs:{label:"代理服务类型",prop:"type"}},[t("el-select",{staticClass:"w-100",attrs:{placeholder:"请选择代理服务类型",clearable:"",filterable:""},model:{value:e.formData.type,callback:function(t){e.$set(e.formData,"type",t)},expression:"formData.type"}},e._l(e.dict_serverProxyType.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary",loading:e.loading},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),c=[],f=(a("dca8"),a("b64b"),a("159b"),a("e8b2")),u=a("4879"),g=a("a4ed"),p={name:"add-edit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:function(){return{}}},refresh:{type:Function,required:!0,default:function(){}},dataCenter:{type:Array,default:function(){return[]}}},data:function(){return{dict_serverProxyType:u["e"],formData:d(),rules:Object.freeze({machineRoomId:[{required:!0,trigger:"blur",message:"请选择数据中心"}],type:[{required:!0,trigger:"change",message:"请选择代理服务类型"}],agentIp:[{required:!0,trigger:"blur",message:"请输入代理服务IP"}],agentPort:[{required:!0,trigger:"blur",message:"请输入代理服务端口"}],clusterName:[{required:!0,trigger:"blur",message:"请输入代理服务名称"}],containerClusterName:[{required:!0,trigger:"blur",message:"请输入容器集群名称"}],version:[{required:!0,trigger:"blur",message:"请输入镜像版本"}]}),loading:!1}},computed:{visible:{get:function(){return this.show},set:function(e){this.$emit("change",!1)}},isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){this.isEdit&&(this.formData=d(this.rowData))},methods:{clickCancel:function(){this.$emit("change",!1)},clickConfirm:function(){var e=this;return Object(r["a"])(Object(n["a"])().mark((function t(){var a,i;return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.formRef.validate();case 2:if(a=t.sent,a){t.next=5;break}return t.abrupt("return");case 5:if(i=Object(s["a"])({},e.formData),e.loading=!0,!e.isEdit){t.next=15;break}return t.next=10,Object(g["j"])(i).finally((function(){e.loading=!1}));case 10:e.$message.success("修改成功"),e.visible=!1,e.refresh(),t.next=21;break;case 15:return delete i.id,t.next=18,Object(g["f"])(i).finally((function(){e.loading=!1}));case 18:e.$message.success("新增成功"),e.refresh(),e.visible=!1;case 21:case"end":return t.stop()}}),t)})))()}}};function d(e){var t={id:void 0,type:"",agentIp:"",agentPort:"",clusterName:"",containerClusterName:""};return Object(f["a"])(e)&&Object.keys(t).forEach((function(a){e.hasOwnProperty(a)&&(t[a]=e[a])})),t}var m=p,h=(a("58fb"),a("2877")),b=Object(h["a"])(m,l,c,!1,null,"4834a7e8",null),C=b.exports,v=a("ec41"),w=a("ff51"),y={name:"manage-account",components:{DialogAddEdit:C},mixins:[],props:{},data:function(){var e=this;return{dict_serverProxyType:u["e"],dataCenter_options:[],buttonList:[{label:"新增",type:"add",click:this.openAdd}],searchConfig:{searchData:{type:"",clusterName:""},searchItem:[{type:"select",label:"代理服务类型",labelWidth:"100px",clearable:!0,prop:"type",get options(){return e.dict_serverProxyType.options}},{type:"input",labelWidth:"100px",label:"代理服务名称",prop:"clusterName"}],rules:{}},visible:!1,tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,totalCount:0},tableData:[],columns:[{label:"代理服务名称",prop:"clusterName"},{label:"容器集群名称",prop:"containerClusterName"},{label:"代理服务ip",prop:"agentIp"},{label:"代理服务端口",prop:"agentPort"},{label:"代理服务状态",prop:"agentState",format:function(e){var t="1"===e?"运行中":"异常";return t}},{label:"代理服务类型",prop:"type",format:function(e){return u["e"].get(e)}}],operate:{width:160,list:[{label:"编辑",id:"edit"},{label:"删除",id:"delete"}]}},rowData:null}},computed:{},watch:{},created:function(){this.getList()},mounted:function(){},methods:{getList:function(){var e=this,t=Object(s["a"])(Object(s["a"])({},this.tableConfig.pagination),{},{requestObject:this.searchConfig.searchData});delete t.totalCount,this.tableConfig.loading=!0,Object(g["i"])(t).then((function(t){var a=Object(v["a"])(t,"data.data");e.tableConfig.tableData=Object(w["a"])(a)?a:[],e.tableConfig.pagination.totalCount=Object(v["a"])(t,"data.totalCount")||0})).catch((function(e){})).finally((function(){e.tableConfig.loading=!1}))},getIndex:function(e){var t=this;return Object(r["a"])(Object(n["a"])().mark((function a(){var i,o,r;return Object(n["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:e.index,i=e.row,o=e.operate,t.rowData=i,a.t0=o.id,a.next="edit"===a.t0?6:"delete"===a.t0?8:13;break;case 6:return t.visible=!0,a.abrupt("break",14);case 8:return a.next=10,t.$confirm("确定要删除【".concat(i.clusterName,"】吗?"),{type:"warning"});case 10:return r=a.sent,"confirm"===r&&Object(g["c"])(i.id).then((function(e){200===e.code&&(t.$message.success("删除成功"),t.getList())})).catch((function(e){})),a.abrupt("break",14);case 13:case 14:case"end":return a.stop()}}),a)})))()},onSearch:function(e){this.tableConfig.pagination.pageNo=1,this.getList()},openAdd:function(){this.rowData=null,this.visible=!0},changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()}}},D=y,O=Object(h["a"])(D,i,o,!1,null,"026d0fc9",null);t["default"]=O.exports},"788c":function(e,t,a){"use strict";a("2a8c")},"8cdb":function(e,t,a){"use strict";a.r(t);a("14d9");var i,o,n={name:"Page404",methods:{getBack:function(){this.$router.push("/home-page")}},render:function(e){var t="/static/picture/404.svg";return e("div",{class:"wscn-http404"},[e("main",{class:"wscn-http404-container"},[e("div",{class:"pic-404"},[e("img",{class:"pic-404__parent",attrs:{src:t,alt:"404"}})]),e("div",{class:"bullshit"},[e("div",{class:"bullshit__oops"},["抱歉!"]),e("div",{class:"bullshit__headline"},["客官, 您要的页面找不到了"]),e("div",{class:"bullshit__info"},["Please check that the URL you entered is correct, or click the button below to return to the homepage."]),e("a",{attrs:{href:"javascript:;"},class:"bullshit__return-home",on:{click:this.getBack}},["返回主页"])])])])}},r=n,s=(a("788c"),a("2877")),l=Object(s["a"])(r,i,o,!1,null,"782ef0a9",null);t["default"]=l.exports},ad76:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"name-container"},[t("search-form",{attrs:{searchConfig:e.searchModel},on:{onSearch:e.onSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.total,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showDialog?t("CreateAndEdit",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e()],1)},o=[],n=a("5530"),r=(a("d3b7"),a("f5b1")),s=a("6544"),l=a("ff51"),c=a("ec41"),f={filters:{},components:{CreateAndEdit:r["default"]},data:function(){return{buttonList:[{label:"新增",type:"add",click:this.addOrganization}],showDialog:!1,rowData:null,tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"applicationCode",label:"应用编码",align:"center"},{prop:"applicationName",label:"应用名称",align:"center"},{prop:"organizationName",label:"所属组织",align:"center"},{prop:"chargeUser",label:"项目管理员",align:"center"}],operate:{width:220,list:[{label:"编辑",id:"edit"},{label:"删除",id:"delete"}]}},searchModel:{searchData:{applicationCode:"",applicationName:""},searchItem:[{type:"input",label:"应用编码",prop:"applicationCode"},{type:"input",label:"应用名称",prop:"applicationName"}],rules:{}}}},mounted:function(){this.getList()},methods:{changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:Object(n["a"])({},this.searchModel.searchData)};this.tableConfig.loading=!0,Object(s["d"])(t).then((function(t){Object(l["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data),e.tableConfig.pagination.total=Object(c["a"])(t,"data.totalCount")||0})).finally((function(){e.tableConfig.loading=!1}))},addOrganization:function(){this.showDialog=!0,this.rowData=null},onSearch:function(){this.tableConfig.pagination.currentPage=1,this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),i=e.operate;"delete"===i.id?this.$confirm("确定要删除【".concat(a.applicationName,"】吗?"),{type:"warning"}).then((function(){Object(s["b"])(a.id).then((function(e){200===e.code?(t.$message.success(e.msg),t.getList()):t.$message.error(e.msg)})).catch((function(e){}))})).catch((function(e){})):"edit"===i.id&&(this.rowData=a,this.showDialog=!0)}}},u=f,g=a("2877"),p=Object(g["a"])(u,i,o,!1,null,"721a0407",null);t["default"]=p.exports},badb:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"g-page"},[t("search-form",{attrs:{searchConfig:e.searchModel},on:{onSearch:e.onSearch}}),t("button-list",{attrs:{data:e.buttonList}}),t("tableView",{ref:"tableView",attrs:{loading:e.tableConfig.loading,operateObj:e.tableConfig.operate,columns:e.tableConfig.columns,tableData:e.tableConfig.tableData,isPage:e.tableConfig.isPage,total:e.tableConfig.pagination.total,rowKey:"id",currentPage:e.tableConfig.pagination.pageNo,pageSize:e.tableConfig.pagination.pageSize},on:{"update:currentPage":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:current-page":function(t){return e.$set(e.tableConfig.pagination,"pageNo",t)},"update:pageSize":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.tableConfig.pagination,"pageSize",t)},changePage:e.changePage,operate:e.getIndex}}),e.showDialog?t("AddAndEdit",{attrs:{rowData:e.rowData,refresh:e.getList},model:{value:e.showDialog,callback:function(t){e.showDialog=t},expression:"showDialog"}}):e._e()],1)},o=[],n=a("5530"),r=a("142c"),s=a("743a"),l=a("ff51"),c=a("ec41"),f=(a("498a"),function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"120px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"数据中心",prop:"machineRoomId"}},[t("el-select",{staticClass:"w-100-auto",attrs:{disabled:e.isEdit},model:{value:e.form.machineRoomId,callback:function(t){e.$set(e.form,"machineRoomId",t)},expression:"form.machineRoomId"}},e._l(e.machineRoomList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.machineRoomCode+"("+e.machineRoomName+")",value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"主机IP",prop:"hostIp"}},[t("el-input",{attrs:{disabled:e.isEdit,placeholder:"请输入主机IP"},model:{value:e.form.hostIp,callback:function(t){e.$set(e.form,"hostIp","string"===typeof t?t.trim():t)},expression:"form.hostIp"}})],1),t("el-form-item",{attrs:{label:"主机端口",prop:"hostPort"}},[t("el-input",{attrs:{disabled:e.isEdit,placeholder:"请输入主机端口"},model:{value:e.form.hostPort,callback:function(t){e.$set(e.form,"hostPort","string"===typeof t?t.trim():t)},expression:"form.hostPort"}})],1),t("el-form-item",{attrs:{label:"ssh账号",prop:"hostSshAccount"}},[t("el-input",{attrs:{disabled:e.isEdit,placeholder:"请输入ssh账号"},on:{blur:function(t){return e.sshAccountChange(e.form.hostSshAccount)}},model:{value:e.form.hostSshAccount,callback:function(t){e.$set(e.form,"hostSshAccount","string"===typeof t?t.trim():t)},expression:"form.hostSshAccount"}})],1),t("el-form-item",{attrs:{label:"ssh密码",prop:"hostSshPassword"}},[t("el-row",{attrs:{gutter:10}},[t("el-col",{attrs:{span:17}},[t("el-input",{attrs:{type:"password",placeholder:"请输入ssh密码",autocomplete:"off"},model:{value:e.form.hostSshPassword,callback:function(t){e.$set(e.form,"hostSshPassword","string"===typeof t?t.trim():t)},expression:"form.hostSshPassword"}})],1),t("el-col",{attrs:{span:3}},[t("el-button",{attrs:{type:"primary"},on:{click:e.CheckShh}},[e._v("测试SSH连接")])],1)],1)],1),t("el-form-item",{attrs:{label:"部署路径",prop:"deploymentPath"}},[t("el-input",{attrs:{placeholder:"请输入部署路径"},model:{value:e.form.deploymentPath,callback:function(t){e.$set(e.form,"deploymentPath","string"===typeof t?t.trim():t)},expression:"form.deploymentPath"}})],1),t("el-form-item",{attrs:{label:"主机备注",prop:"hostRemark"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入主机备注"},model:{value:e.form.hostRemark,callback:function(t){e.$set(e.form,"hostRemark","string"===typeof t?t.trim():t)},expression:"form.hostRemark"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)}),u=[],g=a("c7eb"),p=a("1da1");a("b64b"),a("d3b7"),a("159b");function d(e){var t={id:"",hostIp:"",hostPort:"22",hostRemark:"",deploymentPath:"",hostSshAccount:"",hostSshPassword:"",machineRoomId:""};return e&&Object.keys(t).forEach((function(a){t[a]=e[a]})),t}var m={name:"AddAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:null},refresh:Function},data:function(){return{machineRoomList:[],labelPosition:"right",form:d(),rules:{hostIp:[{required:!0,message:"请填写主机IP",trigger:"change"}],machineRoomId:[{required:!0,message:"请选择机房编码",trigger:"change"}],hostPort:[{required:!0,message:"请填写主机端口",trigger:"change"}],hostSshAccount:[{required:!0,message:"请填写ssh账号",trigger:"change"}],hostSshPassword:[{required:!0,message:"请填写ssh密码",trigger:"change"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){this.isEdit&&this.getMachineOne(),this.getMachineRoom()},methods:{sshAccountChange:function(e){this.form.deploymentPath="/home/".concat(e)},getMachineOne:function(){var e=this;Object(r["e"])(this.rowData.id).then((function(t){if(200===t.code){var a=Object(c["a"])(t,"data");e.form=d(a)}}))},CheckShh:function(){var e=this,t={hostIp:this.form.hostIp,hostPort:this.form.hostPort,hostSshAccount:this.form.hostSshAccount,hostSshPassword:this.form.hostSshPassword};this.$refs.formRef.validate(function(){var a=Object(p["a"])(Object(g["a"])().mark((function a(i){return Object(g["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:i&&Object(r["b"])(t).then((function(t){200===t.code?e.$message.success("测试通过"):e.$message.error(t.msg)}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}())},getMachineRoom:function(){var e=this;Object(r["f"])().then((function(t){200===t.code&&(e.machineRoomList=t.data)}))},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},confirmTest:function(){var e=this,t={hostIp:this.form.hostIp,hostPort:this.form.hostPort,hostSshAccount:this.form.hostSshAccount,hostSshPassword:this.form.hostSshPassword};Object(r["b"])(t).then((function(t){200===t.code?e.isEdit?e.editConfirm(e.form):e.addConfirm(e.form):e.$message.error(t.msg)}))},editConfirm:function(e){var t=this;Object(r["d"])(e).then((function(e){200===e.code&&(t.$message({type:"success",message:"编辑成功"}),t.$emit("change",!1),t.refresh())}))},addConfirm:function(e){var t=this;delete e.id,Object(r["a"])(e).then((function(e){200===e.code&&(t.$message({type:"success",message:"新增成功"}),t.$emit("change",!1),t.refresh())}))},clickConfirm:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(p["a"])(Object(g["a"])().mark((function t(a){return Object(g["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&e.confirmTest();case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},h=m,b=a("2877"),C=Object(b["a"])(h,f,u,!1,null,"7f358372",null),v=C.exports,w={filters:{},components:{headersearch:s["default"],AddAndEdit:v},data:function(){return{buttonList:[{label:"新增",type:"add",click:this.addInfo}],showDialog:!1,tableConfig:{loading:!1,pagination:{pageNo:1,pageSize:10,total:0},tableData:[],columns:[{prop:"hostIp",label:"主机IP",align:"center"},{prop:"hostPort",label:"主机端口",align:"center"},{prop:"hostSshAccount",label:"ssh账号",align:"center"},{prop:"computerRoom",label:"所属机房",align:"center"},{prop:"osRelease",label:"操作系统类型",align:"center"},{prop:"osVersion",label:"操作系统版本",align:"center"},{prop:"coreArch",label:"cpu内核",align:"center"},{prop:"hostRemark",label:"主机备注",align:"center"}],operate:{width:220,list:[{label:"编辑",id:"edit"},{label:"删除",id:"delete"}]}},searchModel:{searchData:{hostIp:"",hostCode:"",machineRoomId:""},searchItem:[{type:"input",label:"主机IP",prop:"hostIp"}],rules:{}}}},mounted:function(){this.getList()},methods:{changePage:function(e,t){e&&(this.tableConfig.pagination.pageNo=e),t&&(this.tableConfig.pagination.pageNo=1,this.tableConfig.pagination.pageSize=t),this.getList()},getIndex:function(e){var t=this,a=(e.index,e.row),i=e.operate;"delete"===i.id?this.$confirm("确定要删除【".concat(a.hostIp,"】吗?"),{type:"warning"}).then((function(){Object(r["c"])(a.id).then((function(e){200===e.code?(t.$message.success("删除成功"),t.getList()):t.$message.error(e.msg)})).catch((function(e){}))})).catch((function(e){})):"edit"===i.id&&(this.rowData=a,this.showDialog=!0)},addInfo:function(){this.showDialog=!0,this.rowData=null},onSearch:function(){this.tableConfig.pagination.currentPage=1,this.getList()},getList:function(){var e=this,t={pageNo:this.tableConfig.pagination.pageNo,pageSize:this.tableConfig.pagination.pageSize,requestObject:Object(n["a"])({},this.searchModel.searchData)};Object(r["g"])(t).then((function(t){Object(l["a"])(null===t||void 0===t?void 0:t.data.data)&&(e.tableConfig.tableData=t.data.data),e.tableConfig.pagination.total=Object(c["a"])(t,"data.totalCount")||0}))}}},y=w,D=Object(b["a"])(y,i,o,!1,null,"4e6637d6",null);t["default"]=D.exports},f5b1:function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a"),a("498a");var i=function(){var e=this,t=e._self._c;return t("el-dialog-limit",{attrs:{title:e.isEdit?"编辑":"新增",visible:e.show,size:"small","append-to-body":!0,"close-on-click-modal":!1,loading:e.loading},on:{close:e.clickCancel}},[t("el-form",{ref:"formRef",staticClass:"cluster-form",attrs:{"label-position":e.labelPosition,"label-width":"120px",model:e.form,rules:e.rules}},[t("el-form-item",{attrs:{label:"应用编码",prop:"applicationCode"}},[t("el-input",{attrs:{placeholder:"请输入应用编码"},model:{value:e.form.applicationCode,callback:function(t){e.$set(e.form,"applicationCode","string"===typeof t?t.trim():t)},expression:"form.applicationCode"}})],1),t("el-form-item",{attrs:{label:"应用名称",prop:"applicationName"}},[t("el-input",{attrs:{placeholder:"请输入应用名称"},model:{value:e.form.applicationName,callback:function(t){e.$set(e.form,"applicationName","string"===typeof t?t.trim():t)},expression:"form.applicationName"}})],1),t("el-form-item",{attrs:{label:"组织",prop:"organizationId"}},[t("el-select",{staticStyle:{width:"400px"},attrs:{placeholder:"请选择所属组织"},model:{value:e.form.organizationId,callback:function(t){e.$set(e.form,"organizationId","string"===typeof t?t.trim():t)},expression:"form.organizationId"}},e._l(e.organizationList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.organizationName,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"项目管理员",prop:"chargeUser"}},[t("el-input",{attrs:{placeholder:"请输入项目管理员"},model:{value:e.form.chargeUser,callback:function(t){e.$set(e.form,"chargeUser","string"===typeof t?t.trim():t)},expression:"form.chargeUser"}})],1),e.isEdit?t("div",[t("el-form-item",{attrs:{label:"密钥",prop:"accessKey"}},[t("el-input",{attrs:{placeholder:"请输入密钥",disabled:""},model:{value:e.form.accessKey,callback:function(t){e.$set(e.form,"accessKey","string"===typeof t?t.trim():t)},expression:"form.accessKey"}})],1),t("el-form-item",{attrs:{label:"状态",prop:"accessKeyStatus"}},e._l(e.accessKeyStatusOptions,(function(a,i){return t("el-radio",{key:i,attrs:{label:a.value},model:{value:e.form.accessKeyStatus,callback:function(t){e.$set(e.form,"accessKeyStatus",t)},expression:"form.accessKeyStatus"}},[e._v(e._s(a.label))])})),1)],1):e._e(),t("el-form-item",{attrs:{label:"应用描述",prop:" description"}},[t("el-input",{attrs:{placeholder:"请输入",type:"textarea"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description","string"===typeof t?t.trim():t)},expression:"form.description"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:e.clickConfirm}},[e._v("确定")]),t("el-button",{on:{click:e.clickCancel}},[e._v("取消")])],1)],1)},o=[],n=a("c7eb"),r=a("1da1"),s=(a("b64b"),a("d3b7"),a("159b"),a("6544")),l=[{label:"禁用",value:"0"},{label:"启用",value:"1"}];function c(e){var t={id:"",applicationCode:"",applicationName:"",organizationId:"",chargeUser:"",description:"",accessKey:"",accessKeyStatus:""};return e&&Object.keys(t).forEach((function(a){t[a]=e[a]})),t}var f={name:"CreateAndEdit",components:{},mixins:[],model:{prop:"show",event:"change"},props:{show:Boolean,rowData:{type:Object,default:function(){return{}}},refresh:Function},data:function(){return{accessKeyStatusOptions:l,loading:!1,organizationList:[],labelPosition:"right",form:c(),rules:{applicationCode:[{required:!0,trigger:"blur",message:"请输入应用编码"}],applicationName:[{required:!0,trigger:"blur",message:"请输入应用名称"}],organizationId:[{required:!0,trigger:"change",message:"请选择所属组织"}],chargeUser:[{required:!0,trigger:"blur",message:"请输入项目管理员"}]}}},computed:{isEdit:function(){var e;return Boolean(null===(e=this.rowData)||void 0===e?void 0:e.id)}},watch:{},created:function(){},mounted:function(){var e=this;this.isEdit&&Object.keys(this.form).forEach((function(t){e.form[t]=e.rowData[t]})),this.getOrganizationList()},methods:{getOrganizationList:function(){var e=this;Object(s["e"])().then((function(t){200===t.code&&(e.organizationList=t.data)}))},clickCancel:function(){this.$refs.formRef.resetFields(),this.$emit("change",!1)},editConfirm:function(){var e=this;Object(s["c"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())})).finally((function(){e.loading=!1}))},addConfirm:function(){var e=this;Object(s["a"])(this.form).then((function(t){200===t.code&&(e.$message({type:"success",message:t.msg}),e.$emit("change",!1),e.refresh())})).finally((function(){e.loading=!1}))},clickConfirm:function(){var e=this;this.$refs.formRef.validate(function(){var t=Object(r["a"])(Object(n["a"])().mark((function t(a){return Object(n["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:a&&(e.loading=!0,e.isEdit?e.editConfirm():e.addConfirm());case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},u=f,g=a("2877"),p=Object(g["a"])(u,i,o,!1,null,"5f74e19b",null);t["default"]=p.exports},fc13:function(e,t,a){}}]);